import{s as hl,e as d,t as L,k as D,c as h,a as _,b as U,d as u,o as A,A as ct,f as n,i as P,g as r,u as le,D as Ml,h as R,n as pt,F as Gt,j as Ft,p as kl,q as wl,B as Nt,C as X,I as Yt,J as mt,E as Ut,K as qt,H as $t,y as Et,z as kt,N as Ss,l as jt,G as Ms,Z as Sl,M as ol}from"../chunks/scheduler.zIJcXxfw.js";import{S as _l,i as vl,t as te,g as It,a as re,c as Tt,f as Ct,b as Je,d as Qe,m as Xe,e as xe}from"../chunks/index.AJ44Rmxa.js";import{t as De}from"../chunks/Toaster.svelte_svelte_type_style_lang.DWI_AZqd.js";import{f as Di}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as Ai,a as Vi}from"../chunks/index.DWf48Tvu.js";import{d as Ul,m as rl,u as Ma,z as Si,M as gs,n as Mi}from"../chunks/index.BlPo-5sI.js";import{k as Oi,l as Pi,m as Ni}from"../chunks/index.KWDESXdp.js";import{i as Li,e as Ui,s as Ci,S as pl,g as Ri,a as Bi,b as Hi}from"../chunks/SensitiveInput.CJ7RjNMD.js";import{b as $i,u as ji,c as Zi,d as Ki,a as es,e as Gi,f as Wi,g as ms,h as Fi,i as zi,j as qi,k as Yi,l as Ji,m as Qi,n as Xi,o as xi}from"../chunks/index.D-TpH5T8.js";import{b as eo,c as to}from"../chunks/index.BEXiEJ3S.js";import{S as El}from"../chunks/Switch.Bz8CV0ru.js";import{e as ot}from"../chunks/each.HbMn3P7n.js";import{S as bs}from"../chunks/Spinner.DEe0YHJH.js";import{g as lo,a as so,b as ao,u as ro}from"../chunks/index.D2fPfxeh.js";import{T as fa,v as no,s as Vs}from"../chunks/index.1jiXGYy7.js";import{g as io,a as oo,b as uo,u as Er,c as fo,v as kr}from"../chunks/index.DrtuqTvA.js";import{T as nl}from"../chunks/create.BkENi-Q3.js";import{a as Ei,b as ki,g as Va,p as wr,d as yr,c as Ir,u as co,e as ho,f as Tr,h as Dr}from"../chunks/index.BuGb5Ku-.js";import{C as Sa}from"../chunks/ConfirmDialog.DCTASMsl.js";import{a as _o,b as vo,c as Ar,d as po,u as Vr,e as Sr,f as go}from"../chunks/index.DRRuDB0c.js";import{g as mo}from"../chunks/index.ohTn0XWy.js";import{g as bo,a as wi,s as Eo,b as ko,c as yi,d as Mr,e as wo,f as yo,h as Io,r as To,i as Do}from"../chunks/index.BsdtdtZU.js";function Or(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',o,i,c=s[1].t("Download Database")+"",f,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,y,k=s[1].t("Export All Chats (All Users)")+"",w,E,I;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,o=D(),i=d("div"),f=L(c),v=D(),b=d("button"),p=d("div"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"BUTTON",{class:!0,type:!0});var S=_(t);l=h(S,"DIV",{class:!0,"data-svelte-h":!0}),ct(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),o=A(S),i=h(S,"DIV",{class:!0});var B=_(i);f=U(B,c),B.forEach(u),S.forEach(u),V.forEach(u),v=A(T),b=h(T,"BUTTON",{class:!0});var M=_(b);p=h(M,"DIV",{class:!0,"data-svelte-h":!0}),ct(p)!=="svelte-1l0oz0g"&&(p.innerHTML=m),g=A(M),y=h(M,"DIV",{class:!0});var W=_(y);w=U(W,k),W.forEach(u),M.forEach(u),this.h()},h(){n(l,"class","self-center mr-3"),n(i,"class","self-center text-sm font-medium"),n(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"type","button"),n(e,"class","flex w-full justify-between"),n(p,"class","self-center mr-3"),n(y,"class","self-center text-sm font-medium"),n(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,V){P(T,e,V),r(e,t),r(t,l),r(t,o),r(t,i),r(i,f),P(T,v,V),P(T,b,V),r(b,p),r(b,g),r(b,y),r(y,w),E||(I=[le(t,"click",s[9]),le(b,"click",s[10])],E=!0)},p(T,V){V&2&&c!==(c=T[1].t("Download Database")+"")&&R(f,c),V&2&&k!==(k=T[1].t("Export All Chats (All Users)")+"")&&R(w,k)},d(T){T&&(u(e),u(v),u(b)),E=!1,Gt(I)}}}function Ao(s){var oe;let e,t,l,a,o=s[1].t("Database")+"",i,c,f,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,y,k=s[1].t("Import Config from JSON File")+"",w,E,I,T,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',S,B,M=s[1].t("Export Config to JSON File")+"",W,x,z,Y,O,H,Z,N,C,G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',J,ee,K=s[1].t("Export LiteLLM config.yaml")+"",$,q,F,ne=(((oe=s[2])==null?void 0:oe.features.enable_admin_export)??!0)&&Or(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=L(o),c=D(),f=d("input"),v=D(),b=d("button"),p=d("div"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),E=D(),I=d("button"),T=d("div"),T.innerHTML=V,S=D(),B=d("div"),W=L(M),x=D(),z=d("hr"),Y=D(),ne&&ne.c(),O=D(),H=d("hr"),Z=D(),N=d("button"),C=d("div"),C.innerHTML=G,J=D(),ee=d("div"),$=L(K),this.h()},l(_e){e=h(_e,"FORM",{class:!0});var ce=_(e);t=h(ce,"DIV",{class:!0});var Ae=_(t);l=h(Ae,"DIV",{});var Se=_(l);a=h(Se,"DIV",{class:!0});var Oe=_(a);i=U(Oe,o),Oe.forEach(u),c=A(Se),f=h(Se,"INPUT",{id:!0,type:!0,accept:!0}),v=A(Se),b=h(Se,"BUTTON",{type:!0,class:!0});var we=_(b);p=h(we,"DIV",{class:!0,"data-svelte-h":!0}),ct(p)!=="svelte-uk5zsu"&&(p.innerHTML=m),g=A(we),y=h(we,"DIV",{class:!0});var Be=_(y);w=U(Be,k),Be.forEach(u),we.forEach(u),E=A(Se),I=h(Se,"BUTTON",{type:!0,class:!0});var me=_(I);T=h(me,"DIV",{class:!0,"data-svelte-h":!0}),ct(T)!=="svelte-uk5zsu"&&(T.innerHTML=V),S=A(me),B=h(me,"DIV",{class:!0});var Pe=_(B);W=U(Pe,M),Pe.forEach(u),me.forEach(u),x=A(Se),z=h(Se,"HR",{class:!0}),Y=A(Se),ne&&ne.l(Se),O=A(Se),H=h(Se,"HR",{class:!0}),Z=A(Se),N=h(Se,"BUTTON",{type:!0,class:!0});var ue=_(N);C=h(ue,"DIV",{class:!0,"data-svelte-h":!0}),ct(C)!=="svelte-uk5zsu"&&(C.innerHTML=G),J=A(ue),ee=h(ue,"DIV",{class:!0});var ke=_(ee);$=U(ke,K),ke.forEach(u),ue.forEach(u),Se.forEach(u),Ae.forEach(u),ce.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(f,"id","config-json-input"),f.hidden=!0,n(f,"type","file"),n(f,"accept",".json"),n(p,"class","self-center mr-3"),n(y,"class","self-center text-sm font-medium"),n(b,"type","button"),n(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(T,"class","self-center mr-3"),n(B,"class","self-center text-sm font-medium"),n(I,"type","button"),n(I,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(z,"class","dark:border-gray-850 my-1"),n(H,"class","dark:border-gray-850 my-1"),n(C,"class","self-center mr-3"),n(ee,"class","self-center text-sm font-medium"),n(N,"type","button"),n(N,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(_e,ce){P(_e,e,ce),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),r(l,f),r(l,v),r(l,b),r(b,p),r(b,g),r(b,y),r(y,w),r(l,E),r(l,I),r(I,T),r(I,S),r(I,B),r(B,W),r(l,x),r(l,z),r(l,Y),ne&&ne.m(l,null),r(l,O),r(l,H),r(l,Z),r(l,N),r(N,C),r(N,J),r(N,ee),r(ee,$),q||(F=[le(f,"change",s[6]),le(b,"click",s[7]),le(I,"click",s[8]),le(N,"click",s[11]),le(e,"submit",Ml(s[12]))],q=!0)},p(_e,[ce]){var Ae;ce&2&&o!==(o=_e[1].t("Database")+"")&&R(i,o),ce&2&&k!==(k=_e[1].t("Import Config from JSON File")+"")&&R(w,k),ce&2&&M!==(M=_e[1].t("Export Config to JSON File")+"")&&R(W,M),((Ae=_e[2])==null?void 0:Ae.features.enable_admin_export)??!0?ne?ne.p(_e,ce):(ne=Or(_e),ne.c(),ne.m(l,O)):ne&&(ne.d(1),ne=null),ce&2&&K!==(K=_e[1].t("Export LiteLLM config.yaml")+"")&&R($,K)},i:pt,o:pt,d(_e){_e&&u(e),ne&&ne.d(),q=!1,Gt(F)}}}function Vo(s,e,t){let l,a;Ft(s,Ul,w=>t(2,a=w));const{saveAs:o}=Di,i=kl("i18n");Ft(s,i,w=>t(1,l=w));let{saveHandler:c}=e;const f=async()=>{let w=new Blob([JSON.stringify(await Oi(localStorage.token))],{type:"application/json"});o(w,`all-chats-export-${Date.now()}.json`)};wl(async()=>{});const v=w=>{const E=w.target.files[0],I=new FileReader;I.onload=async T=>{await Li(localStorage.token,JSON.parse(T.target.result)).catch(S=>{De.error(S)})&&De.success("Config imported successfully"),T.target.value=null},I.readAsText(E)},b=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await Ui(localStorage.token),E=new Blob([JSON.stringify(w)],{type:"application/json"});o(E,`config-${Date.now()}.json`)},m=()=>{Ai(localStorage.token).catch(w=>{De.error(w)})},g=()=>{f()},y=()=>{Vi(localStorage.token).catch(w=>{De.error(w)})},k=async()=>{c()};return s.$$set=w=>{"saveHandler"in w&&t(0,c=w.saveHandler)},[c,l,a,o,i,f,v,b,p,m,g,y,k]}class So extends _l{constructor(e){super(),vl(this,e,Vo,Ao,hl,{saveHandler:0})}}function Pr(s){let e,t,l=s[2].t("General Settings")+"",a,o,i,c,f=s[2].t("Enable New Sign Ups")+"",v,b,p,m,g,y,k,w=s[2].t("Default User Role")+"",E,I,T,V,S,B=s[2].t("pending")+"",M,W,x=s[2].t("user")+"",z,Y,O=s[2].t("admin")+"",H,Z,N,C,G,J,ee=s[2].t("Show Admin Details in Account Pending Overlay")+"",K,$,q,F,ne,oe,_e,ce=s[2].t("Enable Community Sharing")+"",Ae,Se,Oe,we,Be,me,Pe,ue=s[2].t("Enable Message Rating")+"",ke,qe,Ue,Ne,et,He,Ke,at,de,Le,pe=s[2].t("JWT Expiration")+"",fe,Ee,ae,ye,Ge,Ie,ve=s[2].t("Valid time units:")+"",he,Ve,Fe,tt=s[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",nt,We,rt,ze,ht,st,be,ft=s[2].t("Webhook URL")+"",lt,$e,ie,Q,j,se,Re;function Ye(Ce){s[6](Ce)}let Me={};s[0].ENABLE_SIGNUP!==void 0&&(Me.state=s[0].ENABLE_SIGNUP),p=new El({props:Me}),Nt.push(()=>Ct(p,"state",Ye));function vt(Ce){s[8](Ce)}let At={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(At.state=s[0].SHOW_ADMIN_DETAILS),q=new El({props:At}),Nt.push(()=>Ct(q,"state",vt));function Mt(Ce){s[9](Ce)}let Lt={};s[0].ENABLE_COMMUNITY_SHARING!==void 0&&(Lt.state=s[0].ENABLE_COMMUNITY_SHARING),Oe=new El({props:Lt}),Nt.push(()=>Ct(Oe,"state",Mt));function Rt(Ce){s[10](Ce)}let Ot={};return s[0].ENABLE_MESSAGE_RATING!==void 0&&(Ot.state=s[0].ENABLE_MESSAGE_RATING),Ue=new El({props:Ot}),Nt.push(()=>Ct(Ue,"state",Rt)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),v=L(f),b=D(),Je(p.$$.fragment),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("div"),V=d("select"),S=d("option"),M=L(B),W=d("option"),z=L(x),Y=d("option"),H=L(O),Z=D(),N=d("hr"),C=D(),G=d("div"),J=d("div"),K=L(ee),$=D(),Je(q.$$.fragment),ne=D(),oe=d("div"),_e=d("div"),Ae=L(ce),Se=D(),Je(Oe.$$.fragment),Be=D(),me=d("div"),Pe=d("div"),ke=L(ue),qe=D(),Je(Ue.$$.fragment),et=D(),He=d("hr"),Ke=D(),at=d("div"),de=d("div"),Le=d("div"),fe=L(pe),Ee=D(),ae=d("div"),ye=d("input"),Ge=D(),Ie=d("div"),he=L(ve),Ve=D(),Fe=d("span"),nt=L(tt),We=D(),rt=d("hr"),ze=D(),ht=d("div"),st=d("div"),be=d("div"),lt=L(ft),$e=D(),ie=d("div"),Q=d("input"),this.h()},l(Ce){e=h(Ce,"DIV",{});var Te=_(e);t=h(Te,"DIV",{class:!0});var Dt=_(t);a=U(Dt,l),Dt.forEach(u),o=A(Te),i=h(Te,"DIV",{class:!0});var Vt=_(i);c=h(Vt,"DIV",{class:!0});var Bt=_(c);v=U(Bt,f),Bt.forEach(u),b=A(Vt),Qe(p.$$.fragment,Vt),Vt.forEach(u),g=A(Te),y=h(Te,"DIV",{class:!0});var gt=_(y);k=h(gt,"DIV",{class:!0});var _t=_(k);E=U(_t,w),_t.forEach(u),I=A(gt),T=h(gt,"DIV",{class:!0});var bt=_(T);V=h(bt,"SELECT",{class:!0,placeholder:!0});var it=_(V);S=h(it,"OPTION",{});var Zt=_(S);M=U(Zt,B),Zt.forEach(u),W=h(it,"OPTION",{});var Kt=_(W);z=U(Kt,x),Kt.forEach(u),Y=h(it,"OPTION",{});var Wt=_(Y);H=U(Wt,O),Wt.forEach(u),it.forEach(u),bt.forEach(u),gt.forEach(u),Z=A(Te),N=h(Te,"HR",{class:!0}),C=A(Te),G=h(Te,"DIV",{class:!0});var Pt=_(G);J=h(Pt,"DIV",{class:!0});var wt=_(J);K=U(wt,ee),wt.forEach(u),$=A(Pt),Qe(q.$$.fragment,Pt),Pt.forEach(u),ne=A(Te),oe=h(Te,"DIV",{class:!0});var Ze=_(oe);_e=h(Ze,"DIV",{class:!0});var ut=_(_e);Ae=U(ut,ce),ut.forEach(u),Se=A(Ze),Qe(Oe.$$.fragment,Ze),Ze.forEach(u),Be=A(Te),me=h(Te,"DIV",{class:!0});var dt=_(me);Pe=h(dt,"DIV",{class:!0});var Jt=_(Pe);ke=U(Jt,ue),Jt.forEach(u),qe=A(dt),Qe(Ue.$$.fragment,dt),dt.forEach(u),et=A(Te),He=h(Te,"HR",{class:!0}),Ke=A(Te),at=h(Te,"DIV",{class:!0});var Ht=_(at);de=h(Ht,"DIV",{class:!0});var Qt=_(de);Le=h(Qt,"DIV",{class:!0});var yl=_(Le);fe=U(yl,pe),yl.forEach(u),Qt.forEach(u),Ee=A(Ht),ae=h(Ht,"DIV",{class:!0});var gl=_(ae);ye=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),Ge=A(Ht),Ie=h(Ht,"DIV",{class:!0});var Il=_(Ie);he=U(Il,ve),Ve=A(Il),Fe=h(Il,"SPAN",{class:!0});var Xt=_(Fe);nt=U(Xt,tt),Xt.forEach(u),Il.forEach(u),Ht.forEach(u),We=A(Te),rt=h(Te,"HR",{class:!0}),ze=A(Te),ht=h(Te,"DIV",{class:!0});var xt=_(ht);st=h(xt,"DIV",{class:!0});var ul=_(st);be=h(ul,"DIV",{class:!0});var Tl=_(be);lt=U(Tl,ft),Tl.forEach(u),ul.forEach(u),$e=A(xt),ie=h(xt,"DIV",{class:!0});var ml=_(ie);Q=h(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),xt.forEach(u),Te.forEach(u),this.h()},h(){n(t,"class","mb-3 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(i,"class","flex w-full justify-between pr-2"),n(k,"class","self-center text-xs font-medium"),S.__value="pending",X(S,S.__value),W.__value="user",X(W,W.__value),Y.__value="admin",X(Y,Y.__value),n(V,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),n(V,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&Yt(()=>s[7].call(V)),n(T,"class","flex items-center relative"),n(y,"class","my-3 flex w-full justify-between"),n(N,"class","dark:border-gray-850 my-2"),n(J,"class","self-center text-xs font-medium"),n(G,"class","my-3 flex w-full items-center justify-between pr-2"),n(_e,"class","self-center text-xs font-medium"),n(oe,"class","my-3 flex w-full items-center justify-between pr-2"),n(Pe,"class","self-center text-xs font-medium"),n(me,"class","my-3 flex w-full items-center justify-between pr-2"),n(He,"class","dark:border-gray-850 my-2"),n(Le,"class","self-center text-xs font-medium"),n(de,"class","flex w-full justify-between"),n(ye,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ye,"type","text"),n(ye,"placeholder",'e.g.) "30m","1h", "10d". '),n(ae,"class","flex mt-2 space-x-2"),n(Fe,"class","text-gray-300 font-medium"),n(Ie,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(at,"class","w-full justify-between"),n(rt,"class","dark:border-gray-850 my-2"),n(be,"class","self-center text-xs font-medium"),n(st,"class","flex w-full justify-between"),n(Q,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Q,"type","text"),n(Q,"placeholder","https://example.com/webhook"),n(ie,"class","flex mt-2 space-x-2"),n(ht,"class","w-full justify-between")},m(Ce,Te){P(Ce,e,Te),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,v),r(i,b),Xe(p,i,null),r(e,g),r(e,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,S),r(S,M),r(V,W),r(W,z),r(V,Y),r(Y,H),mt(V,s[0].DEFAULT_USER_ROLE,!0),r(e,Z),r(e,N),r(e,C),r(e,G),r(G,J),r(J,K),r(G,$),Xe(q,G,null),r(e,ne),r(e,oe),r(oe,_e),r(_e,Ae),r(oe,Se),Xe(Oe,oe,null),r(e,Be),r(e,me),r(me,Pe),r(Pe,ke),r(me,qe),Xe(Ue,me,null),r(e,et),r(e,He),r(e,Ke),r(e,at),r(at,de),r(de,Le),r(Le,fe),r(at,Ee),r(at,ae),r(ae,ye),X(ye,s[0].JWT_EXPIRES_IN),r(at,Ge),r(at,Ie),r(Ie,he),r(Ie,Ve),r(Ie,Fe),r(Fe,nt),r(e,We),r(e,rt),r(e,ze),r(e,ht),r(ht,st),r(st,be),r(be,lt),r(ht,$e),r(ht,ie),r(ie,Q),X(Q,s[1]),j=!0,se||(Re=[le(V,"change",s[7]),le(ye,"input",s[11]),le(Q,"input",s[12])],se=!0)},p(Ce,Te){(!j||Te&4)&&l!==(l=Ce[2].t("General Settings")+"")&&R(a,l),(!j||Te&4)&&f!==(f=Ce[2].t("Enable New Sign Ups")+"")&&R(v,f);const Dt={};!m&&Te&1&&(m=!0,Dt.state=Ce[0].ENABLE_SIGNUP,Ut(()=>m=!1)),p.$set(Dt),(!j||Te&4)&&w!==(w=Ce[2].t("Default User Role")+"")&&R(E,w),(!j||Te&4)&&B!==(B=Ce[2].t("pending")+"")&&R(M,B),(!j||Te&4)&&x!==(x=Ce[2].t("user")+"")&&R(z,x),(!j||Te&4)&&O!==(O=Ce[2].t("admin")+"")&&R(H,O),Te&1&&mt(V,Ce[0].DEFAULT_USER_ROLE),(!j||Te&4)&&ee!==(ee=Ce[2].t("Show Admin Details in Account Pending Overlay")+"")&&R(K,ee);const Vt={};!F&&Te&1&&(F=!0,Vt.state=Ce[0].SHOW_ADMIN_DETAILS,Ut(()=>F=!1)),q.$set(Vt),(!j||Te&4)&&ce!==(ce=Ce[2].t("Enable Community Sharing")+"")&&R(Ae,ce);const Bt={};!we&&Te&1&&(we=!0,Bt.state=Ce[0].ENABLE_COMMUNITY_SHARING,Ut(()=>we=!1)),Oe.$set(Bt),(!j||Te&4)&&ue!==(ue=Ce[2].t("Enable Message Rating")+"")&&R(ke,ue);const gt={};!Ne&&Te&1&&(Ne=!0,gt.state=Ce[0].ENABLE_MESSAGE_RATING,Ut(()=>Ne=!1)),Ue.$set(gt),(!j||Te&4)&&pe!==(pe=Ce[2].t("JWT Expiration")+"")&&R(fe,pe),Te&1&&ye.value!==Ce[0].JWT_EXPIRES_IN&&X(ye,Ce[0].JWT_EXPIRES_IN),(!j||Te&4)&&ve!==(ve=Ce[2].t("Valid time units:")+"")&&R(he,ve),(!j||Te&4)&&tt!==(tt=Ce[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&R(nt,tt),(!j||Te&4)&&ft!==(ft=Ce[2].t("Webhook URL")+"")&&R(lt,ft),Te&2&&Q.value!==Ce[1]&&X(Q,Ce[1])},i(Ce){j||(te(p.$$.fragment,Ce),te(q.$$.fragment,Ce),te(Oe.$$.fragment,Ce),te(Ue.$$.fragment,Ce),j=!0)},o(Ce){re(p.$$.fragment,Ce),re(q.$$.fragment,Ce),re(Oe.$$.fragment,Ce),re(Ue.$$.fragment,Ce),j=!1},d(Ce){Ce&&u(e),xe(p),xe(q),xe(Oe),xe(Ue),se=!1,Gt(Re)}}}function Mo(s){let e,t,l,a,o,i=s[2].t("Save")+"",c,f,v,b,p=s[0]!==null&&Pr(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),o=d("button"),c=L(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);p&&p.l(y),y.forEach(u),l=A(g),a=h(g,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=U(w,i),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){P(m,e,g),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),f=!0,v||(b=le(e,"submit",Ml(s[13])),v=!0)},p(m,[g]){m[0]!==null?p?(p.p(m,g),g&1&&te(p,1)):(p=Pr(m),p.c(),te(p,1),p.m(t,null)):p&&(It(),re(p,1,1,()=>{p=null}),Tt()),(!f||g&4)&&i!==(i=m[2].t("Save")+"")&&R(c,i)},i(m){f||(te(p),f=!0)},o(m){re(p),f=!1},d(m){m&&u(e),p&&p.d(),v=!1,b()}}}function Oo(s,e,t){let l;const a=kl("i18n");Ft(s,a,E=>t(2,l=E));let{saveHandler:o}=e,i=null,c="";const f=async()=>{t(1,c=await ji(localStorage.token,c)),await to(localStorage.token,i)?o():De.error(a.t("Failed to update settings"))};wl(async()=>{await Promise.all([(async()=>{t(0,i=await eo(localStorage.token))})(),(async()=>{t(1,c=await $i(localStorage.token))})()])});function v(E){s.$$.not_equal(i.ENABLE_SIGNUP,E)&&(i.ENABLE_SIGNUP=E,t(0,i))}function b(){i.DEFAULT_USER_ROLE=qt(this),t(0,i)}function p(E){s.$$.not_equal(i.SHOW_ADMIN_DETAILS,E)&&(i.SHOW_ADMIN_DETAILS=E,t(0,i))}function m(E){s.$$.not_equal(i.ENABLE_COMMUNITY_SHARING,E)&&(i.ENABLE_COMMUNITY_SHARING=E,t(0,i))}function g(E){s.$$.not_equal(i.ENABLE_MESSAGE_RATING,E)&&(i.ENABLE_MESSAGE_RATING=E,t(0,i))}function y(){i.JWT_EXPIRES_IN=this.value,t(0,i)}function k(){c=this.value,t(1,c)}const w=async()=>{f()};return s.$$set=E=>{"saveHandler"in E&&t(5,o=E.saveHandler)},[i,c,l,a,f,o,v,b,p,m,g,y,k,w]}class Po extends _l{constructor(e){super(),vl(this,e,Oo,Mo,hl,{saveHandler:5})}}function Nr(s,e,t){const l=s.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Lr(s,e,t){const l=s.slice();return l[21]=e[t],l}function Ur(s,e,t){const l=s.slice();return l[21]=e[t],l}function No(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Lo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Uo(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Co(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Ro(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Bo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=Et("svg"),t=Et("path"),l=D(),a=d("span"),i=L(o),this.h()},l(c){e=kt(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=kt(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){P(c,e,f),r(e,t),P(c,l,f),P(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Cr(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){P(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function Rr(s){let e,t,l,a,o,i=s[3].length+"",c,f,v=s[5].t("Model(s) Whitelisted")+"",b,p=ot(s[3]),m=[];for(let g=0;g<p.length;g+=1)m[g]=Hr(Nr(s,p,g));return{c(){e=d("div"),t=d("div");for(let g=0;g<m.length;g+=1)m[g].c();l=D(),a=d("div"),o=d("div"),c=L(i),f=D(),b=L(v),this.h()},l(g){e=h(g,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);for(let I=0;I<m.length;I+=1)m[I].l(k);k.forEach(u),l=A(y),a=h(y,"DIV",{class:!0});var w=_(a);o=h(w,"DIV",{class:!0});var E=_(o);c=U(E,i),f=A(E),b=U(E,v),E.forEach(u),w.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","space-y-1.5"),n(o,"class","text-xs font-medium"),n(a,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(g,y){P(g,e,y),r(e,t);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(t,null);r(e,l),r(e,a),r(a,o),r(o,c),r(o,f),r(o,b)},p(g,y){if(y&104){p=ot(g[3]);let k;for(k=0;k<p.length;k+=1){const w=Nr(g,p,k);m[k]?m[k].p(w,y):(m[k]=Hr(w),m[k].c(),m[k].m(t,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=p.length}y&8&&i!==(i=g[3].length+"")&&R(c,i),y&32&&v!==(v=g[5].t("Model(s) Whitelisted")+"")&&R(b,v)},d(g){g&&u(e),$t(m,g)}}}function Br(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){P(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function Ho(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[15](s[20])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function $o(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(o,i){P(o,e,i),l||(a=le(e,"click",s[14]),l=!0)},p:pt,d(o){o&&u(e),l=!1,a()}}}function Hr(s){let e,t,l,a,o=s[5].t("Select a model")+"",i,c,f,v,b,p=ot(s[6].filter(jr)),m=[];for(let E=0;E<p.length;E+=1)m[E]=Br(Lr(s,p,E));function g(){s[13].call(l,s[19],s[20])}function y(E,I){return E[20]===0?$o:Ho}let w=y(s)(s);return{c(){e=d("div"),t=d("div"),l=d("select"),a=d("option"),i=L(o);for(let E=0;E<m.length;E+=1)m[E].c();c=D(),w.c(),f=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);a=h(V,"OPTION",{});var S=_(a);i=U(S,o),S.forEach(u);for(let B=0;B<m.length;B+=1)m[B].l(V);V.forEach(u),T.forEach(u),c=A(I),w.l(I),f=A(I),I.forEach(u),this.h()},h(){a.__value="",X(a,a.__value),a.disabled=!0,a.selected=!0,n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","Select a model"),s[18]===void 0&&Yt(g),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(E,I){P(E,e,I),r(e,t),r(t,l),r(l,a),r(a,i);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(l,null);mt(l,s[18],!0),r(e,c),w.m(e,null),r(e,f),v||(b=le(l,"change",g),v=!0)},p(E,I){if(s=E,I&32&&o!==(o=s[5].t("Select a model")+"")&&R(i,o),I&64){p=ot(s[6].filter(jr));let T;for(T=0;T<p.length;T+=1){const V=Lr(s,p,T);m[T]?m[T].p(V,I):(m[T]=Br(V),m[T].c(),m[T].m(l,null))}for(;T<m.length;T+=1)m[T].d(1);m.length=p.length}I&72&&mt(l,s[18]),w.p(s,I)},d(E){E&&u(e),$t(m,E),w.d(),v=!1,b()}}}function jo(s){let e,t,l,a,o=s[5].t("User Permissions")+"",i,c,f,v,b=s[5].t("Allow Chat Deletion")+"",p,m,g,y,k,w,E=s[5].t("Allow Chat Editing")+"",I,T,V,S,B,M,W=s[5].t("Allow Temporary Chat")+"",x,z,Y,O,H,Z,N,C,G,J,ee,K=s[5].t("Manage Models")+"",$,q,F,ne,oe,_e,ce=s[5].t("Default Model")+"",Ae,Se,Oe,we,Be,me=s[5].t("Select a model")+"",Pe,ue,ke,qe,Ue,Ne,et=s[5].t("Model Whitelisting")+"",He,Ke,at,de,Le,pe,fe,Ee,ae=s[5].t("Save")+"",ye,Ge,Ie,ve;function he(ie,Q){var j,se;return((se=(j=ie[4])==null?void 0:j.chat)==null?void 0:se.deletion)??!0?Lo:No}let Ve=he(s),Fe=Ve(s);function tt(ie,Q){var j,se;return((se=(j=ie[4])==null?void 0:j.chat)==null?void 0:se.editing)??!0?Co:Uo}let nt=tt(s),We=nt(s);function rt(ie,Q){var j,se;return((se=(j=ie[4])==null?void 0:j.chat)==null?void 0:se.temporary)??!0?Bo:Ro}let ze=rt(s),ht=ze(s),st=ot(s[6].filter($r)),be=[];for(let ie=0;ie<st.length;ie+=1)be[ie]=Cr(Ur(s,st,ie));function ft(ie){s[12](ie)}let lt={};s[2]!==void 0&&(lt.state=s[2]),at=new El({props:lt}),Nt.push(()=>Ct(at,"state",ft));let $e=s[2]&&Rr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=L(o),c=D(),f=d("div"),v=d("div"),p=L(b),m=D(),g=d("button"),Fe.c(),y=D(),k=d("div"),w=d("div"),I=L(E),T=D(),V=d("button"),We.c(),S=D(),B=d("div"),M=d("div"),x=L(W),z=D(),Y=d("button"),ht.c(),O=D(),H=d("hr"),Z=D(),N=d("div"),C=d("div"),G=d("div"),J=d("div"),ee=d("div"),$=L(K),q=D(),F=d("div"),ne=d("div"),oe=d("div"),_e=d("div"),Ae=L(ce),Se=D(),Oe=d("div"),we=d("select"),Be=d("option"),Pe=L(me);for(let ie=0;ie<be.length;ie+=1)be[ie].c();ue=D(),ke=d("div"),qe=d("div"),Ue=d("div"),Ne=d("div"),He=L(et),Ke=D(),Je(at.$$.fragment),Le=D(),$e&&$e.c(),pe=D(),fe=d("div"),Ee=d("button"),ye=L(ae),this.h()},l(ie){e=h(ie,"FORM",{class:!0});var Q=_(e);t=h(Q,"DIV",{class:!0});var j=_(t);l=h(j,"DIV",{});var se=_(l);a=h(se,"DIV",{class:!0});var Re=_(a);i=U(Re,o),Re.forEach(u),c=A(se),f=h(se,"DIV",{class:!0});var Ye=_(f);v=h(Ye,"DIV",{class:!0});var Me=_(v);p=U(Me,b),Me.forEach(u),m=A(Ye),g=h(Ye,"BUTTON",{class:!0,type:!0});var vt=_(g);Fe.l(vt),vt.forEach(u),Ye.forEach(u),y=A(se),k=h(se,"DIV",{class:!0});var At=_(k);w=h(At,"DIV",{class:!0});var Mt=_(w);I=U(Mt,E),Mt.forEach(u),T=A(At),V=h(At,"BUTTON",{class:!0,type:!0});var Lt=_(V);We.l(Lt),Lt.forEach(u),At.forEach(u),S=A(se),B=h(se,"DIV",{class:!0});var Rt=_(B);M=h(Rt,"DIV",{class:!0});var Ot=_(M);x=U(Ot,W),Ot.forEach(u),z=A(Rt),Y=h(Rt,"BUTTON",{class:!0,type:!0});var Ce=_(Y);ht.l(Ce),Ce.forEach(u),Rt.forEach(u),se.forEach(u),O=A(j),H=h(j,"HR",{class:!0}),Z=A(j),N=h(j,"DIV",{class:!0});var Te=_(N);C=h(Te,"DIV",{});var Dt=_(C);G=h(Dt,"DIV",{class:!0});var Vt=_(G);J=h(Vt,"DIV",{class:!0});var Bt=_(J);ee=h(Bt,"DIV",{class:!0});var gt=_(ee);$=U(gt,K),gt.forEach(u),Bt.forEach(u),Vt.forEach(u),q=A(Dt),F=h(Dt,"DIV",{class:!0});var _t=_(F);ne=h(_t,"DIV",{class:!0});var bt=_(ne);oe=h(bt,"DIV",{class:!0});var it=_(oe);_e=h(it,"DIV",{class:!0});var Zt=_(_e);Ae=U(Zt,ce),Zt.forEach(u),it.forEach(u),bt.forEach(u),Se=A(_t),Oe=h(_t,"DIV",{class:!0});var Kt=_(Oe);we=h(Kt,"SELECT",{class:!0,placeholder:!0});var Wt=_(we);Be=h(Wt,"OPTION",{});var Pt=_(Be);Pe=U(Pt,me),Pt.forEach(u);for(let Qt=0;Qt<be.length;Qt+=1)be[Qt].l(Wt);Wt.forEach(u),Kt.forEach(u),_t.forEach(u),ue=A(Dt),ke=h(Dt,"DIV",{class:!0});var wt=_(ke);qe=h(wt,"DIV",{class:!0});var Ze=_(qe);Ue=h(Ze,"DIV",{class:!0});var ut=_(Ue);Ne=h(ut,"DIV",{class:!0});var dt=_(Ne);He=U(dt,et),dt.forEach(u),Ke=A(ut),Qe(at.$$.fragment,ut),ut.forEach(u),Ze.forEach(u),Le=A(wt),$e&&$e.l(wt),wt.forEach(u),Dt.forEach(u),Te.forEach(u),j.forEach(u),pe=A(Q),fe=h(Q,"DIV",{class:!0});var Jt=_(fe);Ee=h(Jt,"BUTTON",{class:!0,type:!0});var Ht=_(Ee);ye=U(Ht,ae),Ht.forEach(u),Jt.forEach(u),Q.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(g,"class","p-1 px-3 text-xs flex rounded transition"),n(g,"type","button"),n(f,"class","flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),n(V,"class","p-1 px-3 text-xs flex rounded transition"),n(V,"type","button"),n(k,"class","flex w-full justify-between"),n(M,"class","self-center text-xs font-medium"),n(Y,"class","p-1 px-3 text-xs flex rounded transition"),n(Y,"type","button"),n(B,"class","flex w-full justify-between"),n(H,"class","dark:border-gray-850 my-2"),n(ee,"class","text-sm font-medium"),n(J,"class","flex justify-between items-center text-xs"),n(G,"class","mb-2"),n(_e,"class","text-xs font-medium"),n(oe,"class","flex justify-between items-center text-xs"),n(ne,"class","mb-2"),Be.__value="",X(Be,Be.__value),Be.disabled=!0,Be.selected=!0,n(we,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(we,"placeholder","Select a model"),s[1]===void 0&&Yt(()=>s[11].call(we)),n(Oe,"class","flex-1 mr-2"),n(F,"class","space-y-1 mb-3"),n(Ne,"class","text-xs font-medium"),n(Ue,"class","flex justify-between items-center text-xs"),n(qe,"class","mb-2"),n(ke,"class","space-y-1"),n(N,"class","mt-2 space-y-3"),n(t,"class","space-y-3 overflow-y-scroll max-h-full"),n(Ee,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ee,"type","submit"),n(fe,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,Q){P(ie,e,Q),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),r(l,f),r(f,v),r(v,p),r(f,m),r(f,g),Fe.m(g,null),r(l,y),r(l,k),r(k,w),r(w,I),r(k,T),r(k,V),We.m(V,null),r(l,S),r(l,B),r(B,M),r(M,x),r(B,z),r(B,Y),ht.m(Y,null),r(t,O),r(t,H),r(t,Z),r(t,N),r(N,C),r(C,G),r(G,J),r(J,ee),r(ee,$),r(C,q),r(C,F),r(F,ne),r(ne,oe),r(oe,_e),r(_e,Ae),r(F,Se),r(F,Oe),r(Oe,we),r(we,Be),r(Be,Pe);for(let j=0;j<be.length;j+=1)be[j]&&be[j].m(we,null);mt(we,s[1],!0),r(C,ue),r(C,ke),r(ke,qe),r(qe,Ue),r(Ue,Ne),r(Ne,He),r(Ue,Ke),Xe(at,Ue,null),r(ke,Le),$e&&$e.m(ke,null),r(e,pe),r(e,fe),r(fe,Ee),r(Ee,ye),Ge=!0,Ie||(ve=[le(g,"click",s[8]),le(V,"click",s[9]),le(Y,"click",s[10]),le(we,"change",s[11]),le(e,"submit",Ml(s[16]))],Ie=!0)},p(ie,[Q]){if((!Ge||Q&32)&&o!==(o=ie[5].t("User Permissions")+"")&&R(i,o),(!Ge||Q&32)&&b!==(b=ie[5].t("Allow Chat Deletion")+"")&&R(p,b),Ve===(Ve=he(ie))&&Fe?Fe.p(ie,Q):(Fe.d(1),Fe=Ve(ie),Fe&&(Fe.c(),Fe.m(g,null))),(!Ge||Q&32)&&E!==(E=ie[5].t("Allow Chat Editing")+"")&&R(I,E),nt===(nt=tt(ie))&&We?We.p(ie,Q):(We.d(1),We=nt(ie),We&&(We.c(),We.m(V,null))),(!Ge||Q&32)&&W!==(W=ie[5].t("Allow Temporary Chat")+"")&&R(x,W),ze===(ze=rt(ie))&&ht?ht.p(ie,Q):(ht.d(1),ht=ze(ie),ht&&(ht.c(),ht.m(Y,null))),(!Ge||Q&32)&&K!==(K=ie[5].t("Manage Models")+"")&&R($,K),(!Ge||Q&32)&&ce!==(ce=ie[5].t("Default Model")+"")&&R(Ae,ce),(!Ge||Q&32)&&me!==(me=ie[5].t("Select a model")+"")&&R(Pe,me),Q&64){st=ot(ie[6].filter($r));let se;for(se=0;se<st.length;se+=1){const Re=Ur(ie,st,se);be[se]?be[se].p(Re,Q):(be[se]=Cr(Re),be[se].c(),be[se].m(we,null))}for(;se<be.length;se+=1)be[se].d(1);be.length=st.length}Q&66&&mt(we,ie[1]),(!Ge||Q&32)&&et!==(et=ie[5].t("Model Whitelisting")+"")&&R(He,et);const j={};!de&&Q&4&&(de=!0,j.state=ie[2],Ut(()=>de=!1)),at.$set(j),ie[2]?$e?$e.p(ie,Q):($e=Rr(ie),$e.c(),$e.m(ke,null)):$e&&($e.d(1),$e=null),(!Ge||Q&32)&&ae!==(ae=ie[5].t("Save")+"")&&R(ye,ae)},i(ie){Ge||(te(at.$$.fragment,ie),Ge=!0)},o(ie){re(at.$$.fragment,ie),Ge=!1},d(ie){ie&&u(e),Fe.d(),We.d(),ht.d(),$t(be,ie),xe(at),$e&&$e.d(),Ie=!1,Gt(ve)}}}const $r=s=>s.id,jr=s=>s.id;function Zo(s,e,t){let l,a,o;Ft(s,Ul,S=>t(17,l=S)),Ft(s,rl,S=>t(6,o=S));const i=kl("i18n");Ft(s,i,S=>t(5,a=S));let{saveHandler:c}=e,f="",v=!1,b=[""],p={chat:{deletion:!0,edit:!0,temporary:!0}};wl(async()=>{t(4,p=await Pi(localStorage.token));const S=await Zi(localStorage.token);S&&(t(2,v=S.enabled),t(3,b=S.models.length>0?S.models:[""])),t(1,f=l.default_models?l==null?void 0:l.default_models.split(",")[0]:"")});const m=()=>{var S;t(4,p.chat.deletion=!(((S=p==null?void 0:p.chat)==null?void 0:S.deletion)??!0),p)},g=()=>{var S;t(4,p.chat.editing=!(((S=p==null?void 0:p.chat)==null?void 0:S.editing)??!0),p)},y=()=>{var S;t(4,p.chat.temporary=!(((S=p==null?void 0:p.chat)==null?void 0:S.temporary)??!0),p)};function k(){f=qt(this),t(1,f)}function w(S){v=S,t(2,v)}function E(S,B){S[B]=qt(this),t(3,b)}const I=()=>{b.at(-1)!==""&&t(3,b=[...b,""])},T=S=>{b.splice(S,1),t(3,b)},V=async()=>{await Ci(localStorage.token,f),await Ni(localStorage.token,p),await Ki(localStorage.token,v,b),c(),await Ul.set(await es())};return s.$$set=S=>{"saveHandler"in S&&t(0,c=S.saveHandler)},[c,f,v,b,p,a,o,i,m,g,y,k,w,E,I,T,V]}class Ko extends _l{constructor(e){super(),vl(this,e,Zo,jo,hl,{saveHandler:0})}}function Zr(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function Kr(s,e,t){const l=s.slice();return l[37]=e[t],l}function Gr(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function Wr(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function Go(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Je(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Qe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center h-full")},m(o,i){P(o,e,i),r(e,t),Xe(l,t,null),a=!0},p:pt,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),xe(l)}}}function Wo(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,o,i,c,f,v;const b=[zo,Fo],p=[];function m(g,y){return g[3].length>0?0:1}return i=m(s),c=p[i]=b[i](s),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),c.c(),f=jt(),this.h()},l(g){e=h(g,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);a=U(k,l),k.forEach(u),y.forEach(u),o=A(g),c.l(g),f=jt(),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2")},m(g,y){P(g,e,y),r(e,t),r(t,a),P(g,o,y),p[i].m(g,y),P(g,f,y),v=!0},p(g,y){(!v||y[0]&512)&&l!==(l=g[9].t("Manage Pipelines")+"")&&R(a,l);let k=i;i=m(g),i===k?p[i].p(g,y):(It(),re(p[k],1,1,()=>{p[k]=null}),Tt(),c=p[i],c?c.p(g,y):(c=p[i]=b[i](g),c.c()),te(c,1),c.m(f.parentNode,f))},i(g){v||(te(c),v=!0)},o(g){re(c),v=!1},d(g){g&&(u(e),u(o),u(f)),p[i].d(g)}}}function Fo(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=U(o,t),o.forEach(u)},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&R(l,t)},i:pt,o:pt,d(a){a&&u(e)}}}function zo(s){let e,t,l,a,o,i=s[9].t("Select a pipeline url")+"",c,f,v,b,p,m=s[9].t("Upload Pipeline")+"",g,y,k,w,E,I,T,V,S,B,M,W,x=s[9].t("Install from Github URL")+"",z,Y,O,H,Z,N,C,G,J,ee,K=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,$,q,F,ne,oe,_e,ce,Ae,Se,Oe=ot(s[3]),we=[];for(let de=0;de<Oe.length;de+=1)we[de]=Fr(Wr(s,Oe,de));function Be(de,Le){return de[2]?Yo:qo}let me=Be(s),Pe=me(s);function ue(de,Le){return de[1]?Qo:Jo}let ke=ue(s),qe=ke(s);function Ue(de,Le){return de[0]?xo:Xo}let Ne=Ue(s),et=Ne(s);const He=[tu,eu],Ke=[];function at(de,Le){return de[10]!==null?0:1}return ne=at(s),oe=Ke[ne]=He[ne](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),o=d("option"),c=L(i);for(let de=0;de<we.length;de+=1)we[de].c();v=D(),b=d("div"),p=d("div"),g=L(m),y=D(),k=d("div"),w=d("div"),E=d("input"),I=D(),T=d("button"),Pe.c(),V=D(),S=d("button"),qe.c(),B=D(),M=d("div"),W=d("div"),z=L(x),Y=D(),O=d("div"),H=d("div"),Z=d("input"),C=D(),G=d("button"),et.c(),J=D(),ee=d("div"),ee.innerHTML=K,$=D(),q=d("hr"),F=D(),oe.c(),_e=jt(),this.h()},l(de){e=h(de,"DIV",{class:!0});var Le=_(e);t=h(Le,"DIV",{class:!0});var pe=_(t);l=h(pe,"DIV",{class:!0});var fe=_(l);a=h(fe,"SELECT",{class:!0,placeholder:!0});var Ee=_(a);o=h(Ee,"OPTION",{class:!0});var ae=_(o);c=U(ae,i),ae.forEach(u);for(let ze=0;ze<we.length;ze+=1)we[ze].l(Ee);Ee.forEach(u),fe.forEach(u),pe.forEach(u),Le.forEach(u),v=A(de),b=h(de,"DIV",{class:!0});var ye=_(b);p=h(ye,"DIV",{class:!0});var Ge=_(p);g=U(Ge,m),Ge.forEach(u),y=A(ye),k=h(ye,"DIV",{class:!0});var Ie=_(k);w=h(Ie,"DIV",{class:!0});var ve=_(w);E=h(ve,"INPUT",{id:!0,type:!0,accept:!0}),I=A(ve),T=h(ve,"BUTTON",{class:!0,type:!0});var he=_(T);Pe.l(he),he.forEach(u),ve.forEach(u),V=A(Ie),S=h(Ie,"BUTTON",{class:!0,type:!0});var Ve=_(S);qe.l(Ve),Ve.forEach(u),Ie.forEach(u),ye.forEach(u),B=A(de),M=h(de,"DIV",{class:!0});var Fe=_(M);W=h(Fe,"DIV",{class:!0});var tt=_(W);z=U(tt,x),tt.forEach(u),Y=A(Fe),O=h(Fe,"DIV",{class:!0});var nt=_(O);H=h(nt,"DIV",{class:!0});var We=_(H);Z=h(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(u),C=A(nt),G=h(nt,"BUTTON",{class:!0,type:!0});var rt=_(G);et.l(rt),rt.forEach(u),nt.forEach(u),J=A(Fe),ee=h(Fe,"DIV",{class:!0,"data-svelte-h":!0}),ct(ee)!=="svelte-ob7r3n"&&(ee.innerHTML=K),Fe.forEach(u),$=A(de),q=h(de,"HR",{class:!0}),F=A(de),oe.l(de),_e=jt(),this.h()},h(){o.__value="",X(o,o.__value),o.selected=!0,o.disabled=!0,n(o,"class","bg-gray-100 dark:bg-gray-700"),n(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(a,"placeholder",f=s[9].t("Select a pipeline url")),s[4]===void 0&&Yt(()=>s[19].call(a)),n(l,"class","flex-1"),n(t,"class","flex gap-2"),n(e,"class","space-y-1"),n(p,"class","mb-2 text-sm font-medium"),n(E,"id","pipelines-upload-input"),n(E,"type","file"),n(E,"accept",".py"),E.hidden=!0,n(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(T,"type","button"),n(w,"class","flex-1 mr-2"),n(S,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),S.disabled=s[1],n(S,"type","button"),n(k,"class","flex w-full"),n(b,"class","my-2"),n(W,"class","mb-2 text-sm font-medium"),n(Z,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Z,"placeholder",N=s[9].t("Enter Github Raw URL")),n(H,"class","flex-1 mr-2"),n(G,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),G.disabled=s[0],n(G,"type","button"),n(O,"class","flex w-full"),n(ee,"class","mt-2 text-xs text-gray-500"),n(M,"class","my-2"),n(q,"class","dark:border-gray-800 my-3 w-full")},m(de,Le){P(de,e,Le),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c);for(let pe=0;pe<we.length;pe+=1)we[pe]&&we[pe].m(a,null);mt(a,s[4],!0),P(de,v,Le),P(de,b,Le),r(b,p),r(p,g),r(b,y),r(b,k),r(k,w),r(w,E),r(w,I),r(w,T),Pe.m(T,null),r(k,V),r(k,S),qe.m(S,null),P(de,B,Le),P(de,M,Le),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,H),r(H,Z),X(Z,s[8]),r(O,C),r(O,G),et.m(G,null),r(M,J),r(M,ee),P(de,$,Le),P(de,q,Le),P(de,F,Le),Ke[ne].m(de,Le),P(de,_e,Le),ce=!0,Ae||(Se=[le(a,"change",s[19]),le(a,"change",s[20]),le(E,"change",s[21]),le(T,"click",s[22]),le(S,"click",s[23]),le(Z,"input",s[24]),le(G,"click",s[25])],Ae=!0)},p(de,Le){if((!ce||Le[0]&512)&&i!==(i=de[9].t("Select a pipeline url")+"")&&R(c,i),Le[0]&8){Oe=ot(de[3]);let fe;for(fe=0;fe<Oe.length;fe+=1){const Ee=Wr(de,Oe,fe);we[fe]?we[fe].p(Ee,Le):(we[fe]=Fr(Ee),we[fe].c(),we[fe].m(a,null))}for(;fe<we.length;fe+=1)we[fe].d(1);we.length=Oe.length}(!ce||Le[0]&512&&f!==(f=de[9].t("Select a pipeline url")))&&n(a,"placeholder",f),Le[0]&24&&mt(a,de[4]),(!ce||Le[0]&512)&&m!==(m=de[9].t("Upload Pipeline")+"")&&R(g,m),me===(me=Be(de))&&Pe?Pe.p(de,Le):(Pe.d(1),Pe=me(de),Pe&&(Pe.c(),Pe.m(T,null))),ke!==(ke=ue(de))&&(qe.d(1),qe=ke(de),qe&&(qe.c(),qe.m(S,null))),(!ce||Le[0]&2)&&(S.disabled=de[1]),(!ce||Le[0]&512)&&x!==(x=de[9].t("Install from Github URL")+"")&&R(z,x),(!ce||Le[0]&512&&N!==(N=de[9].t("Enter Github Raw URL")))&&n(Z,"placeholder",N),Le[0]&256&&Z.value!==de[8]&&X(Z,de[8]),Ne!==(Ne=Ue(de))&&(et.d(1),et=Ne(de),et&&(et.c(),et.m(G,null))),(!ce||Le[0]&1)&&(G.disabled=de[0]);let pe=ne;ne=at(de),ne===pe?Ke[ne].p(de,Le):(It(),re(Ke[pe],1,1,()=>{Ke[pe]=null}),Tt(),oe=Ke[ne],oe?oe.p(de,Le):(oe=Ke[ne]=He[ne](de),oe.c()),te(oe,1),oe.m(_e.parentNode,_e))},i(de){ce||(te(oe),ce=!0)},o(de){re(oe),ce=!1},d(de){de&&(u(e),u(v),u(b),u(B),u(M),u($),u(q),u(F),u(_e)),$t(we,de),Pe.d(),qe.d(),et.d(),Ke[ne].d(de),Ae=!1,Gt(Se)}}}function Fr(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[10].idx.toString(),X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[10].url+"")&&R(l,t),i[0]&8&&a!==(a=o[10].idx.toString())&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function qo(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&R(t,e)},d(l){l&&u(t)}}}function Yo(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=L(e),l=L(" pipeline(s) selected.")},l(a){t=U(a,e),l=U(a," pipeline(s) selected.")},m(a,o){P(a,t,o),P(a,l,o)},p(a,o){o[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&R(t,e)},d(a){a&&(u(t),u(l))}}}function Jo(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Qo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function Xo(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function xo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function eu(s){let e,t,l,a;return l=new bs({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),Je(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Qe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center")},m(o,i){P(o,e,i),r(e,t),Xe(l,t,null),a=!0},p:pt,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),xe(l)}}}function tu(s){let e,t,l,a;const o=[su,lu],i=[];function c(f,v){return f[10].length>0?0:f[10].length===0?1:-1}return~(e=c(s))&&(t=i[e]=o[e](s)),{c(){t&&t.c(),l=jt()},l(f){t&&t.l(f),l=jt()},m(f,v){~e&&i[e].m(f,v),P(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?~e&&i[e].p(f,v):(t&&(It(),re(i[b],1,1,()=>{i[b]=null}),Tt()),~e?(t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l)):t=null)},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),~e&&i[e].d(f)}}}function lu(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){P(l,e,a)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function su(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,o,i,c,f,v,b,p,m=s[10].length>0&&zr(s);const g=[ru,au],y=[];function k(w,E){return w[10][w[7]].valves?0:1}return v=k(s),b=y[v]=g[v](s),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),m&&m.c(),c=D(),f=d("div"),b.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a=U(I,l),I.forEach(u),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var T=_(i);m&&m.l(T),c=A(T),f=h(T,"DIV",{class:!0});var V=_(f);b.l(V),V.forEach(u),T.forEach(u),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2"),n(f,"class","space-y-1"),n(i,"class","space-y-1")},m(w,E){P(w,e,E),r(e,t),r(t,a),P(w,o,E),P(w,i,E),m&&m.m(i,null),r(i,c),r(i,f),y[v].m(f,null),p=!0},p(w,E){(!p||E[0]&512)&&l!==(l=w[9].t("Pipelines Valves")+"")&&R(a,l),w[10].length>0?m?m.p(w,E):(m=zr(w),m.c(),m.m(i,c)):m&&(m.d(1),m=null);let I=v;v=k(w),v===I?y[v].p(w,E):(It(),re(y[I],1,1,()=>{y[I]=null}),Tt(),b=y[v],b?b.p(w,E):(b=y[v]=g[v](w),b.c()),te(b,1),b.m(f,null))},i(w){p||(te(b),p=!0)},o(w){re(b),p=!1},d(w){w&&(u(e),u(o),u(i)),m&&m.d(),y[v].d()}}}function zr(s){let e,t,l,a,o,i,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',f,v,b=ot(s[10]),p=[];for(let m=0;m<b.length;m+=1)p[m]=qr(Gr(s,b,m));return{c(){e=d("div"),t=d("div"),l=d("select");for(let m=0;m<p.length;m+=1)p[m].c();o=D(),i=d("button"),i.innerHTML=c,this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);l=h(y,"SELECT",{class:!0,placeholder:!0});var k=_(l);for(let w=0;w<p.length;w+=1)p[w].l(k);k.forEach(u),y.forEach(u),o=A(g),i=h(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(i)!=="svelte-121ij38"&&(i.innerHTML=c),g.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Yt(()=>s[26].call(l)),n(t,"class","flex-1"),n(i,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(i,"type","button"),n(e,"class","flex gap-2")},m(m,g){P(m,e,g),r(e,t),r(t,l);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(l,null);mt(l,s[7],!0),r(e,o),r(e,i),f||(v=[le(l,"change",s[26]),le(l,"change",s[27]),le(i,"click",s[28])],f=!0)},p(m,g){if(g[0]&1024){b=ot(m[10]);let y;for(y=0;y<b.length;y+=1){const k=Gr(m,b,y);p[y]?p[y].p(k,g):(p[y]=qr(k),p[y].c(),p[y].m(l,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=b.length}g[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&n(l,"placeholder",a),g[0]&128&&mt(l,m[7])},d(m){m&&u(e),$t(p,m),f=!1,Gt(v)}}}function qr(s){let e,t=s[40].name+"",l,a,o=(s[40].type??"pipe")+"",i,c;return{c(){e=d("option"),l=L(t),a=L(" ("),i=L(o),c=L(")"),this.h()},l(f){e=h(f,"OPTION",{class:!0});var v=_(e);l=U(v,t),a=U(v," ("),i=U(v,o),c=U(v,")"),v.forEach(u),this.h()},h(){e.__value=s[36],X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(f,v){P(f,e,v),r(e,l),r(e,a),r(e,i),r(e,c)},p(f,v){v[0]&1024&&t!==(t=f[40].name+"")&&R(l,t),v[0]&1024&&o!==(o=(f[40].type??"pipe")+"")&&R(i,o)},d(f){f&&u(e)}}}function au(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){P(l,e,a)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function ru(s){let e,t,l,a;const o=[iu,nu],i=[];function c(f,v){return f[5]?0:1}return e=c(s),t=i[e]=o[e](s),{c(){t.c(),l=jt()},l(f){t.l(f),l=jt()},m(f,v){i[e].m(f,v),P(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?i[e].p(f,v):(It(),re(i[b],1,1,()=>{i[b]=null}),Tt(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l))},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),i[e].d(f)}}}function nu(s){let e,t;return e=new bs({props:{className:"size-5"}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function iu(s){let e,t,l=ot(Object.keys(s[6].properties)),a=[];for(let i=0;i<l.length;i+=1)a[i]=Qr(Zr(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=jt()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=jt()},m(i,c){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,c);P(i,e,c),t=!0},p(i,c){if(c[0]&608){l=ot(Object.keys(i[6].properties));let f;for(f=0;f<l.length;f+=1){const v=Zr(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=Qr(v),a[f].c(),te(a[f],1),a[f].m(e.parentNode,e))}for(It(),f=l.length;f<a.length;f+=1)o(f);Tt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),$t(a,i)}}}function ou(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Custom")+"")&&R(l,t)},d(a){a&&u(e)}}}function uu(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("None")+"")&&R(l,t)},d(a){a&&u(e)}}}function Yr(s){let e,t,l,a,o;const i=[du,cu,fu],c=[];function f(v,b){var p,m;return((p=v[6].properties[v[34]])==null?void 0:p.enum)??null?0:(((m=v[6].properties[v[34]])==null?void 0:m.type)??null)==="boolean"?1:2}return l=f(s),a=c[l]=i[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var p=_(t);a.l(p),p.forEach(u),b.forEach(u),this.h()},h(){n(t,"class","flex-1"),n(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(v,b){P(v,e,b),r(e,t),c[l].m(t,null),o=!0},p(v,b){let p=l;l=f(v),l===p?c[l].p(v,b):(It(),re(c[p],1,1,()=>{c[p]=null}),Tt(),a=c[l],a?a.p(v,b):(a=c[l]=i[l](v),a.c()),te(a,1),a.m(t,null))},i(v){o||(te(a),o=!0)},o(v){re(a),o=!1},d(v){v&&u(e),c[l].d()}}}function fu(s){let e,t,l,a;function o(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","text"),n(e,"placeholder",t=s[6].properties[s[34]].title),n(e,"autocomplete","off"),e.required=!0},m(i,c){P(i,e,c),X(e,s[5][s[34]]),l||(a=le(e,"input",o),l=!0)},p(i,c){s=i,c[0]&64&&t!==(t=s[6].properties[s[34]].title)&&n(e,"placeholder",t),c[0]&96&&e.value!==s[5][s[34]]&&X(e,s[5][s[34]])},i:pt,o:pt,d(i){i&&u(e),l=!1,a()}}}function cu(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,o,i,c,f,v;function b(m){s[31](m,s[34])}let p={};return s[5][s[34]]!==void 0&&(p.state=s[5][s[34]]),c=new El({props:p}),Nt.push(()=>Ct(c,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),Je(c.$$.fragment),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);Qe(c.$$.fragment,k),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","text-xs text-gray-500"),n(i,"class","pr-2"),n(e,"class","flex justify-between items-center")},m(m,g){P(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),Xe(c,i,null),v=!0},p(m,g){s=m,(!v||g[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&R(a,l);const y={};!f&&g[0]&96&&(f=!0,y.state=s[5][s[34]],Ut(()=>f=!1)),c.$set(y)},i(m){v||(te(c.$$.fragment,m),v=!0)},o(m){re(c.$$.fragment,m),v=!1},d(m){m&&u(e),xe(c)}}}function du(s){let e,t,l,a=ot(s[6].properties[s[34]].enum),o=[];for(let c=0;c<a.length;c+=1)o[c]=Jr(Kr(s,a,c));function i(){s[30].call(e,s[34])}return{c(){e=d("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"SELECT",{class:!0});var f=_(e);for(let v=0;v<o.length;v+=1)o[v].l(f);f.forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Yt(i)},m(c,f){P(c,e,f);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(e,null);mt(e,s[5][s[34]],!0),t||(l=le(e,"change",i),t=!0)},p(c,f){if(s=c,f[0]&96){a=ot(s[6].properties[s[34]].enum);let v;for(v=0;v<a.length;v+=1){const b=Kr(s,a,v);o[v]?o[v].p(b,f):(o[v]=Jr(b),o[v].c(),o[v].m(e,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=a.length}f[0]&96&&mt(e,s[5][s[34]])},i:pt,o:pt,d(c){c&&u(e),$t(o,c),t=!1,l()}}}function Jr(s){let e,t=s[37]+"",l,a,o,i;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(c){e=h(c,"OPTION",{});var f=_(e);l=U(f,t),a=A(f),f.forEach(u),this.h()},h(){e.__value=o=s[37],X(e,e.__value),e.selected=i=s[37]===s[5][s[34]]},m(c,f){P(c,e,f),r(e,l),r(e,a)},p(c,f){f[0]&64&&t!==(t=c[37]+"")&&R(l,t),f[0]&64&&o!==(o=c[37])&&(e.__value=o,X(e,e.__value)),f[0]&96&&i!==(i=c[37]===c[5][c[34]])&&(e.selected=i)},d(c){c&&u(e)}}}function Qr(s){let e,t,l,a=s[6].properties[s[34]].title+"",o,i,c,f,v,b,p,m;function g(I,T){return(I[5][I[34]]??null)===null?uu:ou}let y=g(s),k=y(s);function w(){return s[29](s[34])}let E=(s[5][s[34]]??null)!==null&&Yr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("button"),k.c(),f=D(),E&&E.c(),v=D(),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var V=_(t);l=h(V,"DIV",{class:!0});var S=_(l);o=U(S,a),S.forEach(u),i=A(V),c=h(V,"BUTTON",{class:!0,type:!0});var B=_(c);k.l(B),B.forEach(u),V.forEach(u),f=A(T),E&&E.l(T),v=A(T),T.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between"),n(e,"class","py-0.5 w-full justify-between")},m(I,T){P(I,e,T),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),k.m(c,null),r(e,f),E&&E.m(e,null),r(e,v),b=!0,p||(m=le(c,"click",w),p=!0)},p(I,T){s=I,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&R(o,a),y===(y=g(s))&&k?k.p(s,T):(k.d(1),k=y(s),k&&(k.c(),k.m(c,null))),(s[5][s[34]]??null)!==null?E?(E.p(s,T),T[0]&96&&te(E,1)):(E=Yr(s),E.c(),te(E,1),E.m(e,v)):E&&(It(),re(E,1,1,()=>{E=null}),Tt())},i(I){b||(te(E),b=!0)},o(I){re(E),b=!1},d(I){I&&u(e),k.d(),E&&E.d(),p=!1,m()}}}function hu(s){let e,t,l,a,o,i,c,f=s[9].t("Save")+"",v,b,p,m;const g=[Wo,Go],y=[];function k(w,E){return w[3]!==null?0:1}return l=k(s),a=y[l]=g[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),c=d("button"),v=L(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var V=_(c);v=U(V,f),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,E){P(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),b=!0,p||(m=le(e,"submit",Ml(s[33])),p=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(It(),re(y[I],1,1,()=>{y[I]=null}),Tt(),a=y[l],a?a.p(w,E):(a=y[l]=g[l](w),a.c()),te(a,1),a.m(t,null)),(!b||E[0]&512)&&f!==(f=w[9].t("Save")+"")&&R(v,f)},i(w){b||(te(a),b=!0)},o(w){re(a),b=!1},d(w){w&&u(e),y[l].d(),p=!1,m()}}}function _u(s,e,t){let l;const a=kl("i18n");Ft(s,a,$=>t(9,l=$));let{saveHandler:o}=e,i=!1,c=!1,f,v=null,b="",p=null,m=null,g=null,y=null,k="";const w=async()=>{var q;const $=p[y];if($&&(($==null?void 0:$.valves)??!1)){for(const ne in g.properties)((q=g.properties[ne])==null?void 0:q.type)==="array"&&t(5,m[ne]=m[ne].split(",").map(oe=>oe.trim()),m);await Wi(localStorage.token,$.id,m,b).catch(ne=>{De.error(ne)})&&(De.success(l.t("Valves updated successfully")),I(),rl.set(await ms(localStorage.token)),o())}else De.error(l.t("No valves to update"))},E=async $=>{var q;t(5,m=null),t(6,g=null),t(6,g=await Fi(localStorage.token,p[$].id,b)),t(5,m=await zi(localStorage.token,p[$].id,b));for(const F in g.properties)((q=g.properties[F])==null?void 0:q.type)==="array"&&t(5,m[F]=m[F].join(","),m)},I=async()=>{t(10,p=null),t(5,m=null),t(6,g=null),v.length>0?(console.log(b),t(10,p=await qi(localStorage.token,b)),p.length>0&&(t(7,y=0),await E(y))):t(10,p=[])},T=async()=>{t(0,i=!0),await Yi(localStorage.token,k,b).catch(q=>(De.error(q),null))&&(De.success(l.t("Pipeline downloaded successfully")),I(),rl.set(await ms(localStorage.token))),t(0,i=!1)},V=async()=>{if(t(1,c=!0),f&&f.length!==0){const q=f[0];console.log(q),await Qi(localStorage.token,q,b).catch(ne=>(console.log(ne),De.error("Something went wrong :/"),null))&&(De.success(l.t("Pipeline downloaded successfully")),I(),rl.set(await ms(localStorage.token)))}else De.error(l.t("No file selected"));t(2,f=null);const $=document.getElementById("pipeline-upload-input");$&&($.value=null),t(1,c=!1)},S=async()=>{await Ji(localStorage.token,p[y].id,b).catch(q=>(De.error(q),null))&&(De.success(l.t("Pipeline deleted successfully")),I(),rl.set(await ms(localStorage.token)))};wl(async()=>{t(3,v=await Gi(localStorage.token)),console.log(v),v.length>0&&t(4,b=v[0].idx.toString()),await I()});function B(){b=qt(this),t(4,b),t(3,v)}const M=async()=>{await Ss(),await I()};function W(){f=this.files,t(2,f)}const x=()=>{var $;($=document.getElementById("pipelines-upload-input"))==null||$.click()},z=()=>{V()};function Y(){k=this.value,t(8,k)}const O=()=>{T()};function H(){y=qt(this),t(7,y)}const Z=async()=>{await Ss(),await E(y)},N=()=>{S()},C=$=>{t(5,m[$]=(m[$]??null)===null?"":null,m)};function G($){m[$]=qt(this),t(5,m),t(6,g)}function J($,q){s.$$.not_equal(m[q],$)&&(m[q]=$,t(5,m))}function ee($){m[$]=this.value,t(5,m),t(6,g)}const K=async()=>{w()};return s.$$set=$=>{"saveHandler"in $&&t(18,o=$.saveHandler)},[i,c,f,v,b,m,g,y,k,l,p,a,w,E,I,T,V,S,o,B,M,W,x,z,Y,O,H,Z,N,C,G,J,ee,K]}class vu extends _l{constructor(e){super(),vl(this,e,_u,hu,hl,{saveHandler:18},null,[-1,-1])}}function Xr(s,e,t){const l=s.slice();return l[36]=e[t],l}function xr(s,e,t){const l=s.slice();return l[42]=e[t],l}function en(s,e,t){const l=s.slice();return l[39]=e[t],l}function tn(s,e,t){const l=s.slice();return l[42]=e[t],l}function ln(s,e,t){const l=s.slice();return l[39]=e[t],l}function sn(s,e,t){const l=s.slice();return l[39]=e[t],l}function an(s){let e,t,l,a,o,i,c,f,v,b,p,m,g=s[13].t("STT Model")+"",y,k,w,E,I,T,V,S,B,M,W;function x(Y){s[22](Y)}let z={placeholder:s[13].t("API Key")};return s[8]!==void 0&&(z.value=s[8]),i=new pl({props:z}),Nt.push(()=>Ct(i,"value",x)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),Je(i.$$.fragment),f=D(),v=d("hr"),b=D(),p=d("div"),m=d("div"),y=L(g),k=D(),w=d("div"),E=d("div"),I=d("input"),T=D(),V=d("datalist"),S=d("option"),this.h()},l(Y){e=h(Y,"DIV",{});var O=_(e);t=h(O,"DIV",{class:!0});var H=_(t);l=h(H,"INPUT",{class:!0,placeholder:!0}),o=A(H),Qe(i.$$.fragment,H),H.forEach(u),O.forEach(u),f=A(Y),v=h(Y,"HR",{class:!0}),b=A(Y),p=h(Y,"DIV",{});var Z=_(p);m=h(Z,"DIV",{class:!0});var N=_(m);y=U(N,g),N.forEach(u),k=A(Z),w=h(Z,"DIV",{class:!0});var C=_(w);E=h(C,"DIV",{class:!0});var G=_(E);I=h(G,"INPUT",{list:!0,class:!0,placeholder:!0}),T=A(G),V=h(G,"DATALIST",{id:!0});var J=_(V);S=h(J,"OPTION",{}),_(S).forEach(u),J.forEach(u),G.forEach(u),C.forEach(u),Z.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1"),n(v,"class","dark:border-gray-850 my-2"),n(m,"class","mb-1.5 text-sm font-medium"),n(I,"list","model-list"),n(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(I,"placeholder","Select a model"),S.__value="whisper-1",X(S,S.__value),n(V,"id","model-list"),n(E,"class","flex-1"),n(w,"class","flex w-full")},m(Y,O){P(Y,e,O),r(e,t),r(t,l),X(l,s[7]),r(t,o),Xe(i,t,null),P(Y,f,O),P(Y,v,O),P(Y,b,O),P(Y,p,O),r(p,m),r(m,y),r(p,k),r(p,w),r(w,E),r(E,I),X(I,s[10]),r(E,T),r(E,V),r(V,S),B=!0,M||(W=[le(l,"input",s[21]),le(I,"input",s[23])],M=!0)},p(Y,O){(!B||O[0]&8192&&a!==(a=Y[13].t("API Base URL")))&&n(l,"placeholder",a),O[0]&128&&l.value!==Y[7]&&X(l,Y[7]);const H={};O[0]&8192&&(H.placeholder=Y[13].t("API Key")),!c&&O[0]&256&&(c=!0,H.value=Y[8],Ut(()=>c=!1)),i.$set(H),(!B||O[0]&8192)&&g!==(g=Y[13].t("STT Model")+"")&&R(y,g),O[0]&1024&&I.value!==Y[10]&&X(I,Y[10])},i(Y){B||(te(i.$$.fragment,Y),B=!0)},o(Y){re(i.$$.fragment,Y),B=!1},d(Y){Y&&(u(e),u(f),u(v),u(b),u(p)),xe(i),M=!1,Gt(W)}}}function pu(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Key")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(c,f){P(c,e,f),r(e,t),r(t,l),X(l,s[2]),o||(i=le(l,"input",s[28]),o=!0)},p(c,f){f[0]&8192&&a!==(a=c[13].t("API Key"))&&n(l,"placeholder",a),f[0]&4&&l.value!==c[2]&&X(l,c[2])},i:pt,o:pt,d(c){c&&u(e),o=!1,i()}}}function gu(s){let e,t,l,a,o,i,c,f,v,b;function p(g){s[27](g)}let m={placeholder:s[13].t("API Key")};return s[1]!==void 0&&(m.value=s[1]),i=new pl({props:m}),Nt.push(()=>Ct(i,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),Je(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);l=h(k,"INPUT",{class:!0,placeholder:!0}),o=A(k),Qe(i.$$.fragment,k),k.forEach(u),y.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(g,y){P(g,e,y),r(e,t),r(t,l),X(l,s[0]),r(t,o),Xe(i,t,null),f=!0,v||(b=le(l,"input",s[26]),v=!0)},p(g,y){(!f||y[0]&8192&&a!==(a=g[13].t("API Base URL")))&&n(l,"placeholder",a),y[0]&1&&l.value!==g[0]&&X(l,g[0]);const k={};y[0]&8192&&(k.placeholder=g[13].t("API Key")),!c&&y[0]&2&&(c=!0,k.value=g[1],Ut(()=>c=!1)),i.$set(k)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),xe(i),v=!1,b()}}}function mu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,c,f,v,b,p,m,g,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,B,M,W,x=ot(s[11]),z=[];for(let H=0;H<x.length;H+=1)z[H]=rn(en(s,x,H));let Y=ot(s[12]),O=[];for(let H=0;H<Y.length;H+=1)O[H]=nn(xr(s,Y,H));return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("div"),f=d("div"),v=d("input"),b=D(),p=d("datalist");for(let H=0;H<z.length;H+=1)z[H].c();m=D(),g=d("div"),y=d("div"),w=L(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),B=d("datalist");for(let H=0;H<O.length;H+=1)O[H].c();this.h()},l(H){e=h(H,"DIV",{class:!0});var Z=_(e);t=h(Z,"DIV",{class:!0});var N=_(t);l=h(N,"DIV",{class:!0});var C=_(l);o=U(C,a),C.forEach(u),i=A(N),c=h(N,"DIV",{class:!0});var G=_(c);f=h(G,"DIV",{class:!0});var J=_(f);v=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(J),p=h(J,"DATALIST",{id:!0});var ee=_(p);for(let oe=0;oe<z.length;oe+=1)z[oe].l(ee);ee.forEach(u),J.forEach(u),G.forEach(u),N.forEach(u),m=A(Z),g=h(Z,"DIV",{class:!0});var K=_(g);y=h(K,"DIV",{class:!0});var $=_(y);w=U($,k),$.forEach(u),E=A(K),I=h(K,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var F=_(T);V=h(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(F),B=h(F,"DATALIST",{id:!0});var ne=_(B);for(let oe=0;oe<O.length;oe+=1)O[oe].l(ne);ne.forEach(u),F.forEach(u),q.forEach(u),K.forEach(u),Z.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(B,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(g,"class","w-full"),n(e,"class","flex gap-2")},m(H,Z){P(H,e,Z),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),X(v,s[5]),r(f,b),r(f,p);for(let N=0;N<z.length;N+=1)z[N]&&z[N].m(p,null);r(e,m),r(e,g),r(g,y),r(y,w),r(g,E),r(g,I),r(I,T),r(T,V),X(V,s[4]),r(T,S),r(T,B);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(B,null);M||(W=[le(v,"input",s[32]),le(V,"input",s[33])],M=!0)},p(H,Z){if(Z[0]&8192&&a!==(a=H[13].t("TTS Voice")+"")&&R(o,a),Z[0]&2080&&v.value!==H[5]&&X(v,H[5]),Z[0]&2048){x=ot(H[11]);let N;for(N=0;N<x.length;N+=1){const C=en(H,x,N);z[N]?z[N].p(C,Z):(z[N]=rn(C),z[N].c(),z[N].m(p,null))}for(;N<z.length;N+=1)z[N].d(1);z.length=x.length}if(Z[0]&8192&&k!==(k=H[13].t("TTS Model")+"")&&R(w,k),Z[0]&16&&V.value!==H[4]&&X(V,H[4]),Z[0]&4096){Y=ot(H[12]);let N;for(N=0;N<Y.length;N+=1){const C=xr(H,Y,N);O[N]?O[N].p(C,Z):(O[N]=nn(C),O[N].c(),O[N].m(B,null))}for(;N<O.length;N+=1)O[N].d(1);O.length=Y.length}},d(H){H&&u(e),$t(z,H),$t(O,H),M=!1,Gt(W)}}}function bu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,c,f,v,b,p,m,g,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,B,M,W,x=ot(s[11]),z=[];for(let H=0;H<x.length;H+=1)z[H]=on(ln(s,x,H));let Y=ot(s[12]),O=[];for(let H=0;H<Y.length;H+=1)O[H]=un(tn(s,Y,H));return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("div"),f=d("div"),v=d("input"),b=D(),p=d("datalist");for(let H=0;H<z.length;H+=1)z[H].c();m=D(),g=d("div"),y=d("div"),w=L(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),B=d("datalist");for(let H=0;H<O.length;H+=1)O[H].c();this.h()},l(H){e=h(H,"DIV",{class:!0});var Z=_(e);t=h(Z,"DIV",{class:!0});var N=_(t);l=h(N,"DIV",{class:!0});var C=_(l);o=U(C,a),C.forEach(u),i=A(N),c=h(N,"DIV",{class:!0});var G=_(c);f=h(G,"DIV",{class:!0});var J=_(f);v=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(J),p=h(J,"DATALIST",{id:!0});var ee=_(p);for(let oe=0;oe<z.length;oe+=1)z[oe].l(ee);ee.forEach(u),J.forEach(u),G.forEach(u),N.forEach(u),m=A(Z),g=h(Z,"DIV",{class:!0});var K=_(g);y=h(K,"DIV",{class:!0});var $=_(y);w=U($,k),$.forEach(u),E=A(K),I=h(K,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var F=_(T);V=h(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(F),B=h(F,"DATALIST",{id:!0});var ne=_(B);for(let oe=0;oe<O.length;oe+=1)O[oe].l(ne);ne.forEach(u),F.forEach(u),q.forEach(u),K.forEach(u),Z.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(B,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(g,"class","w-full"),n(e,"class","flex gap-2")},m(H,Z){P(H,e,Z),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),X(v,s[5]),r(f,b),r(f,p);for(let N=0;N<z.length;N+=1)z[N]&&z[N].m(p,null);r(e,m),r(e,g),r(g,y),r(y,w),r(g,E),r(g,I),r(I,T),r(T,V),X(V,s[4]),r(T,S),r(T,B);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(B,null);M||(W=[le(v,"input",s[30]),le(V,"input",s[31])],M=!0)},p(H,Z){if(Z[0]&8192&&a!==(a=H[13].t("TTS Voice")+"")&&R(o,a),Z[0]&2080&&v.value!==H[5]&&X(v,H[5]),Z[0]&2048){x=ot(H[11]);let N;for(N=0;N<x.length;N+=1){const C=ln(H,x,N);z[N]?z[N].p(C,Z):(z[N]=on(C),z[N].c(),z[N].m(p,null))}for(;N<z.length;N+=1)z[N].d(1);z.length=x.length}if(Z[0]&8192&&k!==(k=H[13].t("TTS Model")+"")&&R(w,k),Z[0]&16&&V.value!==H[4]&&X(V,H[4]),Z[0]&4096){Y=ot(H[12]);let N;for(N=0;N<Y.length;N+=1){const C=tn(H,Y,N);O[N]?O[N].p(C,Z):(O[N]=un(C),O[N].c(),O[N].m(B,null))}for(;N<O.length;N+=1)O[N].d(1);O.length=Y.length}},d(H){H&&u(e),$t(z,H),$t(O,H),M=!1,Gt(W)}}}function Eu(s){let e,t,l=s[13].t("TTS Voice")+"",a,o,i,c,f,v,b=s[13].t("Default")+"",p,m,g,y,k=ot(s[11]),w=[];for(let E=0;E<k.length;E+=1)w[E]=fn(sn(s,k,E));return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("select"),v=d("option"),p=L(b);for(let E=0;E<w.length;E+=1)w[E].c();this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"DIV",{class:!0});var S=_(c);f=h(S,"SELECT",{class:!0});var B=_(f);v=h(B,"OPTION",{});var M=_(v);p=U(M,b),M.forEach(u);for(let W=0;W<w.length;W+=1)w[W].l(B);B.forEach(u),S.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),v.__value="",X(v,v.__value),v.selected=m=s[5]!=="",n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5]===void 0&&Yt(()=>s[29].call(f)),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(E,I){P(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,p);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(f,null);mt(f,s[5],!0),g||(y=le(f,"change",s[29]),g=!0)},p(E,I){if(I[0]&8192&&l!==(l=E[13].t("TTS Voice")+"")&&R(a,l),I[0]&8192&&b!==(b=E[13].t("Default")+"")&&R(p,b),I[0]&2080&&m!==(m=E[5]!=="")&&(v.selected=m),I[0]&2080){k=ot(E[11]);let T;for(T=0;T<k.length;T+=1){const V=sn(E,k,T);w[T]?w[T].p(V,I):(w[T]=fn(V),w[T].c(),w[T].m(f,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=k.length}I[0]&2080&&mt(f,E[5])},d(E){E&&u(e),$t(w,E),g=!1,y()}}}function rn(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,X(e,e.__value)},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&R(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function nn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,X(e,e.__value)},m(l,a){P(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,X(e,e.__value))},d(l){l&&u(e)}}}function on(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,X(e,e.__value)},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&R(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function un(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,X(e,e.__value)},m(l,a){P(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,X(e,e.__value))},d(l){l&&u(e)}}}function fn(s){let e,t=s[39].name+"",l,a,o;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=U(c,t),c.forEach(u),this.h()},h(){e.__value=a=s[39].voiceURI,X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=o=s[5]===s[39].voiceURI},m(i,c){P(i,e,c),r(e,l)},p(i,c){c[0]&2048&&t!==(t=i[39].name+"")&&R(l,t),c[0]&2048&&a!==(a=i[39].voiceURI)&&(e.__value=a,X(e,e.__value)),c[0]&2080&&o!==(o=i[5]===i[39].voiceURI)&&(e.selected=o)},d(i){i&&u(e)}}}function cn(s){let e,t=s[13].t(s[36].charAt(0).toUpperCase()+s[36].slice(1))+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[36],X(e,e.__value)},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&8192&&t!==(t=a[13].t(a[36].charAt(0).toUpperCase()+a[36].slice(1))+"")&&R(l,t)},d(a){a&&u(e)}}}function ku(s){let e,t,l,a,o,i=s[13].t("STT Settings")+"",c,f,v,b,p=s[13].t("Speech-to-Text Engine")+"",m,g,y,k,w,E=s[13].t("Whisper (Local)")+"",I,T,V="OpenAI",S,B=s[13].t("Web API")+"",M,W,x,z,Y,O,H,Z=s[13].t("TTS Settings")+"",N,C,G,J,ee=s[13].t("Text-to-Speech Engine")+"",K,$,q,F,ne,oe=s[13].t("Web API")+"",_e,ce,Ae=s[13].t("OpenAI")+"",Se,Oe,we=s[13].t("ElevenLabs")+"",Be,me,Pe,ue,ke,qe,Ue,Ne,et,He,Ke,at,de=s[13].t("Response splitting")+"",Le,pe,fe,Ee,ae,ye,Ge=s[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",Ie,ve,he,Ve,Fe=s[13].t("Save")+"",tt,nt,We,rt,ze=s[9]==="openai"&&an(s);const ht=[gu,pu],st=[];function be(j,se){return j[3]==="openai"?0:j[3]==="elevenlabs"?1:-1}~(Pe=be(s))&&(ue=st[Pe]=ht[Pe](s));function ft(j,se){if(j[3]==="")return Eu;if(j[3]==="openai")return bu;if(j[3]==="elevenlabs")return mu}let lt=ft(s),$e=lt&&lt(s),ie=ot(Object.values(fa)),Q=[];for(let j=0;j<ie.length;j+=1)Q[j]=cn(Xr(s,ie,j));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),c=L(i),f=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("select"),w=d("option"),I=L(E),T=d("option"),T.textContent=V,S=d("option"),M=L(B),W=D(),ze&&ze.c(),x=D(),z=d("hr"),Y=D(),O=d("div"),H=d("div"),N=L(Z),C=D(),G=d("div"),J=d("div"),K=L(ee),$=D(),q=d("div"),F=d("select"),ne=d("option"),_e=L(oe),ce=d("option"),Se=L(Ae),Oe=d("option"),Be=L(we),me=D(),ue&&ue.c(),ke=D(),qe=d("hr"),Ue=D(),$e&&$e.c(),Ne=D(),et=d("hr"),He=D(),Ke=d("div"),at=d("div"),Le=L(de),pe=D(),fe=d("div"),Ee=d("select");for(let j=0;j<Q.length;j+=1)Q[j].c();ae=D(),ye=d("div"),Ie=L(Ge),ve=D(),he=d("div"),Ve=d("button"),tt=L(Fe),this.h()},l(j){e=h(j,"FORM",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var Re=_(t);l=h(Re,"DIV",{class:!0});var Ye=_(l);a=h(Ye,"DIV",{});var Me=_(a);o=h(Me,"DIV",{class:!0});var vt=_(o);c=U(vt,i),vt.forEach(u),f=A(Me),v=h(Me,"DIV",{class:!0});var At=_(v);b=h(At,"DIV",{class:!0});var Mt=_(b);m=U(Mt,p),Mt.forEach(u),g=A(At),y=h(At,"DIV",{class:!0});var Lt=_(y);k=h(Lt,"SELECT",{class:!0,placeholder:!0});var Rt=_(k);w=h(Rt,"OPTION",{});var Ot=_(w);I=U(Ot,E),Ot.forEach(u),T=h(Rt,"OPTION",{"data-svelte-h":!0}),ct(T)!=="svelte-bbvrw2"&&(T.textContent=V),S=h(Rt,"OPTION",{});var Ce=_(S);M=U(Ce,B),Ce.forEach(u),Rt.forEach(u),Lt.forEach(u),At.forEach(u),W=A(Me),ze&&ze.l(Me),Me.forEach(u),x=A(Ye),z=h(Ye,"HR",{class:!0}),Y=A(Ye),O=h(Ye,"DIV",{});var Te=_(O);H=h(Te,"DIV",{class:!0});var Dt=_(H);N=U(Dt,Z),Dt.forEach(u),C=A(Te),G=h(Te,"DIV",{class:!0});var Vt=_(G);J=h(Vt,"DIV",{class:!0});var Bt=_(J);K=U(Bt,ee),Bt.forEach(u),$=A(Vt),q=h(Vt,"DIV",{class:!0});var gt=_(q);F=h(gt,"SELECT",{class:!0,placeholder:!0});var _t=_(F);ne=h(_t,"OPTION",{});var bt=_(ne);_e=U(bt,oe),bt.forEach(u),ce=h(_t,"OPTION",{});var it=_(ce);Se=U(it,Ae),it.forEach(u),Oe=h(_t,"OPTION",{});var Zt=_(Oe);Be=U(Zt,we),Zt.forEach(u),_t.forEach(u),gt.forEach(u),Vt.forEach(u),me=A(Te),ue&&ue.l(Te),ke=A(Te),qe=h(Te,"HR",{class:!0}),Ue=A(Te),$e&&$e.l(Te),Ne=A(Te),et=h(Te,"HR",{class:!0}),He=A(Te),Ke=h(Te,"DIV",{class:!0});var Kt=_(Ke);at=h(Kt,"DIV",{class:!0});var Wt=_(at);Le=U(Wt,de),Wt.forEach(u),pe=A(Kt),fe=h(Kt,"DIV",{class:!0});var Pt=_(fe);Ee=h(Pt,"SELECT",{class:!0,"aria-label":!0});var wt=_(Ee);for(let Jt=0;Jt<Q.length;Jt+=1)Q[Jt].l(wt);wt.forEach(u),Pt.forEach(u),Kt.forEach(u),ae=A(Te),ye=h(Te,"DIV",{class:!0});var Ze=_(ye);Ie=U(Ze,Ge),Ze.forEach(u),Te.forEach(u),Ye.forEach(u),Re.forEach(u),ve=A(se),he=h(se,"DIV",{class:!0});var ut=_(he);Ve=h(ut,"BUTTON",{class:!0,type:!0});var dt=_(Ve);tt=U(dt,Fe),dt.forEach(u),ut.forEach(u),se.forEach(u),this.h()},h(){n(o,"class","mb-1 text-sm font-medium"),n(b,"class","self-center text-xs font-medium"),w.__value="",X(w,w.__value),T.__value="openai",X(T,T.__value),S.__value="web",X(S,S.__value),n(k,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(k,"placeholder","Select an engine"),s[9]===void 0&&Yt(()=>s[20].call(k)),n(y,"class","flex items-center relative"),n(v,"class","py-0.5 flex w-full justify-between"),n(z,"class","dark:border-gray-800"),n(H,"class","mb-1 text-sm font-medium"),n(J,"class","self-center text-xs font-medium"),ne.__value="",X(ne,ne.__value),ce.__value="openai",X(ce,ce.__value),Oe.__value="elevenlabs",X(Oe,Oe.__value),n(F,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(F,"placeholder","Select a mode"),s[3]===void 0&&Yt(()=>s[24].call(F)),n(q,"class","flex items-center relative"),n(G,"class","py-0.5 flex w-full justify-between"),n(qe,"class","dark:border-gray-850 my-2"),n(et,"class","dark:border-gray-850 my-2"),n(at,"class","self-center text-xs font-medium"),n(Ee,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(Ee,"aria-label","Select how to split message text for TTS requests"),s[6]===void 0&&Yt(()=>s[34].call(Ee)),n(fe,"class","flex items-center relative"),n(Ke,"class","pt-0.5 flex w-full justify-between"),n(ye,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(l,"class","flex flex-col gap-3"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(Ve,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ve,"type","submit"),n(he,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,se){P(j,e,se),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c),r(a,f),r(a,v),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),r(w,I),r(k,T),r(k,S),r(S,M),mt(k,s[9],!0),r(a,W),ze&&ze.m(a,null),r(l,x),r(l,z),r(l,Y),r(l,O),r(O,H),r(H,N),r(O,C),r(O,G),r(G,J),r(J,K),r(G,$),r(G,q),r(q,F),r(F,ne),r(ne,_e),r(F,ce),r(ce,Se),r(F,Oe),r(Oe,Be),mt(F,s[3],!0),r(O,me),~Pe&&st[Pe].m(O,null),r(O,ke),r(O,qe),r(O,Ue),$e&&$e.m(O,null),r(O,Ne),r(O,et),r(O,He),r(O,Ke),r(Ke,at),r(at,Le),r(Ke,pe),r(Ke,fe),r(fe,Ee);for(let Re=0;Re<Q.length;Re+=1)Q[Re]&&Q[Re].m(Ee,null);mt(Ee,s[6],!0),r(O,ae),r(O,ye),r(ye,Ie),r(e,ve),r(e,he),r(he,Ve),r(Ve,tt),nt=!0,We||(rt=[le(k,"change",s[20]),le(F,"change",s[24]),le(F,"change",s[25]),le(Ee,"change",s[34]),le(e,"submit",Ml(s[35]))],We=!0)},p(j,se){(!nt||se[0]&8192)&&i!==(i=j[13].t("STT Settings")+"")&&R(c,i),(!nt||se[0]&8192)&&p!==(p=j[13].t("Speech-to-Text Engine")+"")&&R(m,p),(!nt||se[0]&8192)&&E!==(E=j[13].t("Whisper (Local)")+"")&&R(I,E),(!nt||se[0]&8192)&&B!==(B=j[13].t("Web API")+"")&&R(M,B),se[0]&512&&mt(k,j[9]),j[9]==="openai"?ze?(ze.p(j,se),se[0]&512&&te(ze,1)):(ze=an(j),ze.c(),te(ze,1),ze.m(a,null)):ze&&(It(),re(ze,1,1,()=>{ze=null}),Tt()),(!nt||se[0]&8192)&&Z!==(Z=j[13].t("TTS Settings")+"")&&R(N,Z),(!nt||se[0]&8192)&&ee!==(ee=j[13].t("Text-to-Speech Engine")+"")&&R(K,ee),(!nt||se[0]&8192)&&oe!==(oe=j[13].t("Web API")+"")&&R(_e,oe),(!nt||se[0]&8192)&&Ae!==(Ae=j[13].t("OpenAI")+"")&&R(Se,Ae),(!nt||se[0]&8192)&&we!==(we=j[13].t("ElevenLabs")+"")&&R(Be,we),se[0]&8&&mt(F,j[3]);let Re=Pe;if(Pe=be(j),Pe===Re?~Pe&&st[Pe].p(j,se):(ue&&(It(),re(st[Re],1,1,()=>{st[Re]=null}),Tt()),~Pe?(ue=st[Pe],ue?ue.p(j,se):(ue=st[Pe]=ht[Pe](j),ue.c()),te(ue,1),ue.m(O,ke)):ue=null),lt===(lt=ft(j))&&$e?$e.p(j,se):($e&&$e.d(1),$e=lt&&lt(j),$e&&($e.c(),$e.m(O,Ne))),(!nt||se[0]&8192)&&de!==(de=j[13].t("Response splitting")+"")&&R(Le,de),se[0]&8192){ie=ot(Object.values(fa));let Ye;for(Ye=0;Ye<ie.length;Ye+=1){const Me=Xr(j,ie,Ye);Q[Ye]?Q[Ye].p(Me,se):(Q[Ye]=cn(Me),Q[Ye].c(),Q[Ye].m(Ee,null))}for(;Ye<Q.length;Ye+=1)Q[Ye].d(1);Q.length=ie.length}se[0]&64&&mt(Ee,j[6]),(!nt||se[0]&8192)&&Ge!==(Ge=j[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&R(Ie,Ge),(!nt||se[0]&8192)&&Fe!==(Fe=j[13].t("Save")+"")&&R(tt,Fe)},i(j){nt||(te(ze),te(ue),nt=!0)},o(j){re(ze),re(ue),nt=!1},d(j){j&&u(e),ze&&ze.d(),~Pe&&st[Pe].d(),$e&&$e.d(),$t(Q,j),We=!1,Gt(rt)}}}function wu(s,e,t){let l;const a=Ms(),o=kl("i18n");Ft(s,o,F=>t(13,l=F));let{saveHandler:i}=e,c="",f="",v="",b="",p="",m="",g=fa.PUNCTUATION,y="",k="",w="",E="",I=[],T=[];const V=async()=>{if(b==="")t(12,T=[]);else{const F=await so(localStorage.token).catch(ne=>{De.error(ne)});F&&(console.log(F),t(12,T=F.models))}},S=async()=>{if(b===""){const F=setInterval(()=>{t(11,I=speechSynthesis.getVoices()),I.length>0&&clearInterval(F)},100)}else{const F=await ao(localStorage.token).catch(ne=>{De.error(ne)});F&&(console.log(F),t(11,I=F.voices))}},B=async()=>{await ro(localStorage.token,{tts:{OPENAI_API_BASE_URL:c,OPENAI_API_KEY:f,API_KEY:v,ENGINE:b,MODEL:p,VOICE:m,SPLIT_ON:g},stt:{OPENAI_API_BASE_URL:y,OPENAI_API_KEY:k,ENGINE:w,MODEL:E}})&&(i(),es().then(Ul.set).catch(()=>{}))};wl(async()=>{const F=await lo(localStorage.token);F&&(console.log(F),t(0,c=F.tts.OPENAI_API_BASE_URL),t(1,f=F.tts.OPENAI_API_KEY),t(2,v=F.tts.API_KEY),t(3,b=F.tts.ENGINE),t(4,p=F.tts.MODEL),t(5,m=F.tts.VOICE),t(6,g=F.tts.SPLIT_ON||fa.PUNCTUATION),t(7,y=F.stt.OPENAI_API_BASE_URL),t(8,k=F.stt.OPENAI_API_KEY),t(9,w=F.stt.ENGINE),t(10,E=F.stt.MODEL)),await S(),await V()});function M(){w=qt(this),t(9,w)}function W(){y=this.value,t(7,y)}function x(F){k=F,t(8,k)}function z(){E=this.value,t(10,E)}function Y(){b=qt(this),t(3,b)}const O=async F=>{var ne;await B(),await S(),await V(),((ne=F.target)==null?void 0:ne.value)==="openai"?(t(5,m="alloy"),t(4,p="tts-1")):(t(5,m=""),t(4,p=""))};function H(){c=this.value,t(0,c)}function Z(F){f=F,t(1,f)}function N(){v=this.value,t(2,v)}function C(){m=qt(this),t(5,m),t(11,I)}function G(){m=this.value,t(5,m),t(11,I)}function J(){p=this.value,t(4,p)}function ee(){m=this.value,t(5,m),t(11,I)}function K(){p=this.value,t(4,p)}function $(){g=qt(this),t(6,g)}const q=async()=>{await B(),a("save")};return s.$$set=F=>{"saveHandler"in F&&t(19,i=F.saveHandler)},[c,f,v,b,p,m,g,y,k,w,E,I,T,l,a,o,V,S,B,i,M,W,x,z,Y,O,H,Z,N,C,G,J,ee,K,$,q]}class yu extends _l{constructor(e){super(),vl(this,e,wu,ku,hl,{saveHandler:19},null,[-1,-1])}}function dn(s,e,t){const l=s.slice();return l[33]=e[t],l}function hn(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function _n(s){var Pe;let e,t,l=s[5].t("Image Settings")+"",a,o,i,c,f,v=s[5].t("Image Generation (Experimental)")+"",b,p,m,g,y,k,w,E,I=s[5].t("Image Generation Engine")+"",T,V,S,B,M,W=s[5].t("Default (Open AI)")+"",x,z,Y=s[5].t("ComfyUI")+"",O,H,Z=s[5].t("Automatic1111")+"",N,C,G,J,ee,K,$,q,F,ne,oe,_e,ce;function Ae(ue){s[9](ue)}let Se={};s[1].enabled!==void 0&&(Se.state=s[1].enabled),g=new El({props:Se}),Nt.push(()=>Ct(g,"state",Ae)),g.$on("change",s[10]);const Oe=[Du,Tu,Iu],we=[];function Be(ue,ke){var qe,Ue,Ne;return(((qe=ue[1])==null?void 0:qe.engine)??"automatic1111")==="automatic1111"?0:((Ue=ue[1])==null?void 0:Ue.engine)==="comfyui"?1:((Ne=ue[1])==null?void 0:Ne.engine)==="openai"?2:-1}~($=Be(s))&&(q=we[$]=Oe[$](s));let me=((Pe=s[1])==null?void 0:Pe.enabled)&&mn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("div"),b=L(v),p=D(),m=d("div"),Je(g.$$.fragment),k=D(),w=d("div"),E=d("div"),T=L(I),V=D(),S=d("div"),B=d("select"),M=d("option"),x=L(W),z=d("option"),O=L(Y),H=d("option"),N=L(Z),G=D(),J=d("hr"),ee=D(),K=d("div"),q&&q.c(),F=D(),me&&me.c(),ne=jt(),this.h()},l(ue){e=h(ue,"DIV",{});var ke=_(e);t=h(ke,"DIV",{class:!0});var qe=_(t);a=U(qe,l),qe.forEach(u),o=A(ke),i=h(ke,"DIV",{});var Ue=_(i);c=h(Ue,"DIV",{class:!0});var Ne=_(c);f=h(Ne,"DIV",{class:!0});var et=_(f);b=U(et,v),et.forEach(u),p=A(Ne),m=h(Ne,"DIV",{class:!0});var He=_(m);Qe(g.$$.fragment,He),He.forEach(u),Ne.forEach(u),Ue.forEach(u),k=A(ke),w=h(ke,"DIV",{class:!0});var Ke=_(w);E=h(Ke,"DIV",{class:!0});var at=_(E);T=U(at,I),at.forEach(u),V=A(Ke),S=h(Ke,"DIV",{class:!0});var de=_(S);B=h(de,"SELECT",{class:!0,placeholder:!0});var Le=_(B);M=h(Le,"OPTION",{});var pe=_(M);x=U(pe,W),pe.forEach(u),z=h(Le,"OPTION",{});var fe=_(z);O=U(fe,Y),fe.forEach(u),H=h(Le,"OPTION",{});var Ee=_(H);N=U(Ee,Z),Ee.forEach(u),Le.forEach(u),de.forEach(u),Ke.forEach(u),ke.forEach(u),G=A(ue),J=h(ue,"HR",{class:!0}),ee=A(ue),K=h(ue,"DIV",{class:!0});var ae=_(K);q&&q.l(ae),ae.forEach(u),F=A(ue),me&&me.l(ue),ne=jt(),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(m,"class","px-1"),n(c,"class","py-0.5 flex w-full justify-between"),n(E,"class","self-center text-xs font-medium"),M.__value="openai",X(M,M.__value),z.__value="comfyui",X(z,z.__value),H.__value="automatic1111",X(H,H.__value),n(B,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(B,"placeholder",C=s[5].t("Select Engine")),s[1].engine===void 0&&Yt(()=>s[11].call(B)),n(S,"class","flex items-center relative"),n(w,"class","py-0.5 flex w-full justify-between"),n(J,"class","dark:border-gray-850"),n(K,"class","flex flex-col gap-2")},m(ue,ke){P(ue,e,ke),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,b),r(c,p),r(c,m),Xe(g,m,null),r(e,k),r(e,w),r(w,E),r(E,T),r(w,V),r(w,S),r(S,B),r(B,M),r(M,x),r(B,z),r(z,O),r(B,H),r(H,N),mt(B,s[1].engine,!0),P(ue,G,ke),P(ue,J,ke),P(ue,ee,ke),P(ue,K,ke),~$&&we[$].m(K,null),P(ue,F,ke),me&&me.m(ue,ke),P(ue,ne,ke),oe=!0,_e||(ce=[le(B,"change",s[11]),le(B,"change",s[12])],_e=!0)},p(ue,ke){var Ne;(!oe||ke[0]&32)&&l!==(l=ue[5].t("Image Settings")+"")&&R(a,l),(!oe||ke[0]&32)&&v!==(v=ue[5].t("Image Generation (Experimental)")+"")&&R(b,v);const qe={};!y&&ke[0]&2&&(y=!0,qe.state=ue[1].enabled,Ut(()=>y=!1)),g.$set(qe),(!oe||ke[0]&32)&&I!==(I=ue[5].t("Image Generation Engine")+"")&&R(T,I),(!oe||ke[0]&32)&&W!==(W=ue[5].t("Default (Open AI)")+"")&&R(x,W),(!oe||ke[0]&32)&&Y!==(Y=ue[5].t("ComfyUI")+"")&&R(O,Y),(!oe||ke[0]&32)&&Z!==(Z=ue[5].t("Automatic1111")+"")&&R(N,Z),(!oe||ke[0]&32&&C!==(C=ue[5].t("Select Engine")))&&n(B,"placeholder",C),ke[0]&2&&mt(B,ue[1].engine);let Ue=$;$=Be(ue),$===Ue?~$&&we[$].p(ue,ke):(q&&(It(),re(we[Ue],1,1,()=>{we[Ue]=null}),Tt()),~$?(q=we[$],q?q.p(ue,ke):(q=we[$]=Oe[$](ue),q.c()),te(q,1),q.m(K,null)):q=null),(Ne=ue[1])!=null&&Ne.enabled?me?(me.p(ue,ke),ke[0]&2&&te(me,1)):(me=mn(ue),me.c(),te(me,1),me.m(ne.parentNode,ne)):me&&(It(),re(me,1,1,()=>{me=null}),Tt())},i(ue){oe||(te(g.$$.fragment,ue),te(q),te(me),oe=!0)},o(ue){re(g.$$.fragment,ue),re(q),re(me),oe=!1},d(ue){ue&&(u(e),u(G),u(J),u(ee),u(K),u(F),u(ne)),xe(g),~$&&we[$].d(),me&&me.d(ue),_e=!1,Gt(ce)}}}function Iu(s){let e,t,l=s[5].t("OpenAI API Config")+"",a,o,i,c,f,v,b,p,m,g,y;function k(E){s[24](E)}let w={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(w.value=s[1].openai.OPENAI_API_KEY),b=new pl({props:w}),Nt.push(()=>Ct(b,"value",k)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("input"),v=D(),Je(b.$$.fragment),this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"INPUT",{class:!0,placeholder:!0}),v=A(V),Qe(b.$$.fragment,V),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),n(c,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=s[5].t("API Base URL")),c.required=!0,n(i,"class","flex gap-2 mb-1")},m(E,I){P(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),X(c,s[1].openai.OPENAI_API_BASE_URL),r(i,v),Xe(b,i,null),m=!0,g||(y=le(c,"input",s[23]),g=!0)},p(E,I){(!m||I[0]&32)&&l!==(l=E[5].t("OpenAI API Config")+"")&&R(a,l),(!m||I[0]&32&&f!==(f=E[5].t("API Base URL")))&&n(c,"placeholder",f),I[0]&2&&c.value!==E[1].openai.OPENAI_API_BASE_URL&&X(c,E[1].openai.OPENAI_API_BASE_URL);const T={};I[0]&32&&(T.placeholder=E[5].t("API Key")),!p&&I[0]&2&&(p=!0,T.value=E[1].openai.OPENAI_API_KEY,Ut(()=>p=!1)),b.$set(T)},i(E){m||(te(b.$$.fragment,E),m=!0)},o(E){re(b.$$.fragment,E),m=!1},d(E){E&&u(e),xe(b),g=!1,y()}}}function Tu(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",a,o,i,c,f,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,y,k,w=s[5].t("ComfyUI Workflow")+"",E,I,T,V,S,B,M,W,x=s[5].t("Click here to upload a workflow.json file.")+"",z,Y,O,H=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",Z,N,C,G,J,ee,K=s[1].comfyui.COMFYUI_WORKFLOW&&vn(s),$=s[1].comfyui.COMFYUI_WORKFLOW&&pn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),p=d("button"),p.innerHTML=m,g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),K&&K.c(),T=D(),V=d("div"),S=d("div"),B=d("input"),M=D(),W=d("button"),z=L(x),Y=D(),O=d("div"),Z=L(H),N=D(),$&&$.c(),C=jt(),this.h()},l(q){e=h(q,"DIV",{class:!0});var F=_(e);t=h(F,"DIV",{class:!0});var ne=_(t);a=U(ne,l),ne.forEach(u),o=A(F),i=h(F,"DIV",{class:!0});var oe=_(i);c=h(oe,"DIV",{class:!0});var _e=_(c);f=h(_e,"INPUT",{class:!0,placeholder:!0}),_e.forEach(u),b=A(oe),p=h(oe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(p)!=="svelte-3652k3"&&(p.innerHTML=m),oe.forEach(u),F.forEach(u),g=A(q),y=h(q,"DIV",{class:!0});var ce=_(y);k=h(ce,"DIV",{class:!0});var Ae=_(k);E=U(Ae,w),Ae.forEach(u),I=A(ce),K&&K.l(ce),T=A(ce),V=h(ce,"DIV",{class:!0});var Se=_(V);S=h(Se,"DIV",{class:!0});var Oe=_(S);B=h(Oe,"INPUT",{id:!0,type:!0,accept:!0}),M=A(Oe),W=h(Oe,"BUTTON",{class:!0,type:!0});var we=_(W);z=U(we,x),we.forEach(u),Oe.forEach(u),Se.forEach(u),Y=A(ce),O=h(ce,"DIV",{class:!0});var Be=_(O);Z=U(Be,H),Be.forEach(u),ce.forEach(u),N=A(q),$&&$.l(q),C=jt(),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(e,"class",""),n(k,"class","mb-2 text-sm font-medium"),n(B,"id","upload-comfyui-workflow-input"),B.hidden=!0,n(B,"type","file"),n(B,"accept",".json"),n(W,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(W,"type","button"),n(S,"class","flex-1"),n(V,"class","flex w-full"),n(O,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(y,"class","")},m(q,F){P(q,e,F),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),X(f,s[1].comfyui.COMFYUI_BASE_URL),r(i,b),r(i,p),P(q,g,F),P(q,y,F),r(y,k),r(k,E),r(y,I),K&&K.m(y,null),r(y,T),r(y,V),r(V,S),r(S,B),r(S,M),r(S,W),r(W,z),r(y,Y),r(y,O),r(O,Z),P(q,N,F),$&&$.m(q,F),P(q,C,F),G=!0,J||(ee=[le(f,"input",s[16]),le(p,"click",s[17]),le(B,"change",s[19]),le(W,"click",s[20])],J=!0)},p(q,F){(!G||F[0]&32)&&l!==(l=q[5].t("ComfyUI Base URL")+"")&&R(a,l),(!G||F[0]&32&&v!==(v=q[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),F[0]&2&&f.value!==q[1].comfyui.COMFYUI_BASE_URL&&X(f,q[1].comfyui.COMFYUI_BASE_URL),(!G||F[0]&32)&&w!==(w=q[5].t("ComfyUI Workflow")+"")&&R(E,w),q[1].comfyui.COMFYUI_WORKFLOW?K?K.p(q,F):(K=vn(q),K.c(),K.m(y,T)):K&&(K.d(1),K=null),(!G||F[0]&32)&&x!==(x=q[5].t("Click here to upload a workflow.json file.")+"")&&R(z,x),(!G||F[0]&32)&&H!==(H=q[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&R(Z,H),q[1].comfyui.COMFYUI_WORKFLOW?$?($.p(q,F),F[0]&2&&te($,1)):($=pn(q),$.c(),te($,1),$.m(C.parentNode,C)):$&&(It(),re($,1,1,()=>{$=null}),Tt())},i(q){G||(te($),G=!0)},o(q){re($),G=!1},d(q){q&&(u(e),u(g),u(y),u(N),u(C)),K&&K.d(),$&&$.d(q),J=!1,Gt(ee)}}}function Du(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",a,o,i,c,f,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,y,k=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",w,E,I,T=s[5].t("(e.g. `sh webui.sh --api`)")+"",V,S,B,M,W=s[5].t("AUTOMATIC1111 Api Auth String")+"",x,z,Y,O,H,Z,N=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",C,G,J,ee=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",K,$,q,F;function ne(_e){s[15](_e)}let oe={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(oe.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),Y=new pl({props:oe}),Nt.push(()=>Ct(Y,"value",ne)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),p=d("button"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),E=D(),I=d("a"),V=L(T),S=D(),B=d("div"),M=d("div"),x=L(W),z=D(),Je(Y.$$.fragment),H=D(),Z=d("div"),C=L(N),G=D(),J=d("a"),K=L(ee),this.h()},l(_e){e=h(_e,"DIV",{});var ce=_(e);t=h(ce,"DIV",{class:!0});var Ae=_(t);a=U(Ae,l),Ae.forEach(u),o=A(ce),i=h(ce,"DIV",{class:!0});var Se=_(i);c=h(Se,"DIV",{class:!0});var Oe=_(c);f=h(Oe,"INPUT",{class:!0,placeholder:!0}),Oe.forEach(u),b=A(Se),p=h(Se,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(p)!=="svelte-3652k3"&&(p.innerHTML=m),Se.forEach(u),g=A(ce),y=h(ce,"DIV",{class:!0});var we=_(y);w=U(we,k),E=A(we),I=h(we,"A",{class:!0,href:!0,target:!0});var Be=_(I);V=U(Be,T),Be.forEach(u),we.forEach(u),ce.forEach(u),S=A(_e),B=h(_e,"DIV",{});var me=_(B);M=h(me,"DIV",{class:!0});var Pe=_(M);x=U(Pe,W),Pe.forEach(u),z=A(me),Qe(Y.$$.fragment,me),H=A(me),Z=h(me,"DIV",{class:!0});var ue=_(Z);C=U(ue,N),G=A(ue),J=h(ue,"A",{class:!0,href:!0,target:!0});var ke=_(J);K=U(ke,ee),ke.forEach(u),ue.forEach(u),me.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(I,"class","text-gray-300 font-medium"),n(I,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),n(I,"target","_blank"),n(y,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(M,"class","mb-2 text-sm font-medium"),n(J,"class","text-gray-300 font-medium"),n(J,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),n(J,"target","_blank"),n(Z,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(_e,ce){P(_e,e,ce),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),X(f,s[1].automatic1111.AUTOMATIC1111_BASE_URL),r(i,b),r(i,p),r(e,g),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),P(_e,S,ce),P(_e,B,ce),r(B,M),r(M,x),r(B,z),Xe(Y,B,null),r(B,H),r(B,Z),r(Z,C),r(Z,G),r(Z,J),r(J,K),$=!0,q||(F=[le(f,"input",s[13]),le(p,"click",s[14])],q=!0)},p(_e,ce){(!$||ce[0]&32)&&l!==(l=_e[5].t("AUTOMATIC1111 Base URL")+"")&&R(a,l),(!$||ce[0]&32&&v!==(v=_e[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),ce[0]&2&&f.value!==_e[1].automatic1111.AUTOMATIC1111_BASE_URL&&X(f,_e[1].automatic1111.AUTOMATIC1111_BASE_URL),(!$||ce[0]&32)&&k!==(k=_e[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&R(w,k),(!$||ce[0]&32)&&T!==(T=_e[5].t("(e.g. `sh webui.sh --api`)")+"")&&R(V,T),(!$||ce[0]&32)&&W!==(W=_e[5].t("AUTOMATIC1111 Api Auth String")+"")&&R(x,W);const Ae={};ce[0]&32&&(Ae.placeholder=_e[5].t("Enter api auth string (e.g. username:password)")),!O&&ce[0]&2&&(O=!0,Ae.value=_e[1].automatic1111.AUTOMATIC1111_API_AUTH,Ut(()=>O=!1)),Y.$set(Ae),(!$||ce[0]&32)&&N!==(N=_e[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&R(C,N),(!$||ce[0]&32)&&ee!==(ee=_e[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&R(K,ee)},i(_e){$||(te(Y.$$.fragment,_e),$=!0)},o(_e){re(Y.$$.fragment,_e),$=!1},d(_e){_e&&(u(e),u(S),u(B)),xe(Y),q=!1,Gt(F)}}}function vn(s){let e,t,l;return{c(){e=d("textarea"),this.h()},l(a){e=h(a,"TEXTAREA",{class:!0,rows:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),n(e,"rows","10"),e.required=!0},m(a,o){P(a,e,o),X(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=le(e,"input",s[18]),t=!0)},p(a,o){o[0]&2&&X(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&u(e),t=!1,l()}}}function pn(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",a,o,i,c,f,v=s[5].t("*Prompt node ID(s) are required for image generation")+"",b,p,m=ot(s[4]),g=[];for(let k=0;k<m.length;k+=1)g[k]=gn(hn(s,m,k));const y=k=>re(g[k],1,1,()=>{g[k]=null});return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div");for(let k=0;k<g.length;k+=1)g[k].c();c=D(),f=d("div"),b=L(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);a=U(E,l),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var I=_(i);for(let V=0;V<g.length;V+=1)g[V].l(I);I.forEach(u),c=A(w),f=h(w,"DIV",{class:!0});var T=_(f);b=U(T,v),T.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(i,"class","text-xs flex flex-col gap-1.5"),n(f,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),n(e,"class","")},m(k,w){P(k,e,w),r(e,t),r(t,a),r(e,o),r(e,i);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(i,null);r(e,c),r(e,f),r(f,b),p=!0},p(k,w){if((!p||w[0]&32)&&l!==(l=k[5].t("ComfyUI Workflow Nodes")+"")&&R(a,l),w[0]&16){m=ot(k[4]);let E;for(E=0;E<m.length;E+=1){const I=hn(k,m,E);g[E]?(g[E].p(I,w),te(g[E],1)):(g[E]=gn(I),g[E].c(),te(g[E],1),g[E].m(i,null))}for(It(),E=m.length;E<g.length;E+=1)y(E);Tt()}(!p||w[0]&32)&&v!==(v=k[5].t("*Prompt node ID(s) are required for image generation")+"")&&R(b,v)},i(k){if(!p){for(let w=0;w<m.length;w+=1)te(g[w]);p=!0}},o(k){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)re(g[w]);p=!1},d(k){k&&u(e),$t(g,k)}}}function Au(s){let e,t,l;function a(){s[21].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),n(e,"placeholder","Key"),e.required=!0},m(o,i){P(o,e,i),X(e,s[36].key),t||(l=le(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].key&&X(e,s[36].key)},d(o){o&&u(e),t=!1,l()}}}function Vu(s){let e,t,l;function a(){s[22].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),n(e,"placeholder","Node Ids")},m(o,i){P(o,e,i),X(e,s[36].node_ids),t||(l=le(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].node_ids&&X(e,s[36].node_ids)},d(o){o&&u(e),t=!1,l()}}}function gn(s){let e,t,l,a=s[36].type+"",o,i=s[36].type==="prompt"?"*":"",c,f,v,b,p,m,g,y,k;return b=new nl({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Au]},$$scope:{ctx:s}}}),g=new nl({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Vu]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),c=L(i),f=D(),v=d("div"),Je(b.$$.fragment),p=D(),m=d("div"),Je(g.$$.fragment),y=D(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);l=h(I,"DIV",{class:!0});var T=_(l);o=U(T,a),c=U(T,i),T.forEach(u),I.forEach(u),f=A(E),v=h(E,"DIV",{class:!0});var V=_(v);Qe(b.$$.fragment,V),V.forEach(u),p=A(E),m=h(E,"DIV",{class:!0});var S=_(m);Qe(g.$$.fragment,S),S.forEach(u),y=A(E),E.forEach(u),this.h()},h(){n(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),n(t,"class","flex-shrink-0"),n(v,"class",""),n(m,"class","w-full"),n(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(w,E){P(w,e,E),r(e,t),r(t,l),r(l,o),r(l,c),r(e,f),r(e,v),Xe(b,v,null),r(e,p),r(e,m),Xe(g,m,null),r(e,y),k=!0},p(w,E){(!k||E[0]&16)&&a!==(a=w[36].type+"")&&R(o,a),(!k||E[0]&16)&&i!==(i=w[36].type==="prompt"?"*":"")&&R(c,i);const I={};E[0]&16|E[1]&256&&(I.$$scope={dirty:E,ctx:w}),b.$set(I);const T={};E[0]&16|E[1]&256&&(T.$$scope={dirty:E,ctx:w}),g.$set(T)},i(w){k||(te(b.$$.fragment,w),te(g.$$.fragment,w),k=!0)},o(w){re(b.$$.fragment,w),re(g.$$.fragment,w),k=!1},d(w){w&&u(e),xe(b),xe(g)}}}function mn(s){let e,t,l,a,o=s[5].t("Set Default Model")+"",i,c,f,v,b,p,m,g,y,k,w=s[5].t("Set Image Size")+"",E,I,T,V,S,B,M,W,x=s[5].t("Set Steps")+"",z,Y,O,H,Z,N;return m=new nl({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[Su]},$$scope:{ctx:s}}}),S=new nl({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[Mu]},$$scope:{ctx:s}}}),Z=new nl({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[Ou]},$$scope:{ctx:s}}}),{c(){e=d("hr"),t=D(),l=d("div"),a=d("div"),i=L(o),c=D(),f=d("div"),v=d("div"),b=d("div"),p=d("div"),Je(m.$$.fragment),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("div"),V=d("div"),Je(S.$$.fragment),B=D(),M=d("div"),W=d("div"),z=L(x),Y=D(),O=d("div"),H=d("div"),Je(Z.$$.fragment),this.h()},l(C){e=h(C,"HR",{class:!0}),t=A(C),l=h(C,"DIV",{});var G=_(l);a=h(G,"DIV",{class:!0});var J=_(a);i=U(J,o),J.forEach(u),c=A(G),f=h(G,"DIV",{class:!0});var ee=_(f);v=h(ee,"DIV",{class:!0});var K=_(v);b=h(K,"DIV",{class:!0});var $=_(b);p=h($,"DIV",{class:!0});var q=_(p);Qe(m.$$.fragment,q),q.forEach(u),$.forEach(u),K.forEach(u),ee.forEach(u),G.forEach(u),g=A(C),y=h(C,"DIV",{});var F=_(y);k=h(F,"DIV",{class:!0});var ne=_(k);E=U(ne,w),ne.forEach(u),I=A(F),T=h(F,"DIV",{class:!0});var oe=_(T);V=h(oe,"DIV",{class:!0});var _e=_(V);Qe(S.$$.fragment,_e),_e.forEach(u),oe.forEach(u),F.forEach(u),B=A(C),M=h(C,"DIV",{});var ce=_(M);W=h(ce,"DIV",{class:!0});var Ae=_(W);z=U(Ae,x),Ae.forEach(u),Y=A(ce),O=h(ce,"DIV",{class:!0});var Se=_(O);H=h(Se,"DIV",{class:!0});var Oe=_(H);Qe(Z.$$.fragment,Oe),Oe.forEach(u),Se.forEach(u),ce.forEach(u),this.h()},h(){n(e,"class","dark:border-gray-850"),n(a,"class","mb-2.5 text-sm font-medium"),n(p,"class","flex-1"),n(b,"class","flex w-full"),n(v,"class","flex-1 mr-2"),n(f,"class","flex w-full"),n(k,"class","mb-2.5 text-sm font-medium"),n(V,"class","flex-1 mr-2"),n(T,"class","flex w-full"),n(W,"class","mb-2.5 text-sm font-medium"),n(H,"class","flex-1 mr-2"),n(O,"class","flex w-full")},m(C,G){P(C,e,G),P(C,t,G),P(C,l,G),r(l,a),r(a,i),r(l,c),r(l,f),r(f,v),r(v,b),r(b,p),Xe(m,p,null),P(C,g,G),P(C,y,G),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),Xe(S,V,null),P(C,B,G),P(C,M,G),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,H),Xe(Z,H,null),N=!0},p(C,G){(!N||G[0]&32)&&o!==(o=C[5].t("Set Default Model")+"")&&R(i,o);const J={};G[0]&32&&(J.content=C[5].t("Enter Model ID")),G[0]&12|G[1]&256&&(J.$$scope={dirty:G,ctx:C}),m.$set(J),(!N||G[0]&32)&&w!==(w=C[5].t("Set Image Size")+"")&&R(E,w);const ee={};G[0]&32&&(ee.content=C[5].t("Enter Image Size (e.g. 512x512)")),G[0]&36|G[1]&256&&(ee.$$scope={dirty:G,ctx:C}),S.$set(ee),(!N||G[0]&32)&&x!==(x=C[5].t("Set Steps")+"")&&R(z,x);const K={};G[0]&32&&(K.content=C[5].t("Enter Number of Steps (e.g. 50)")),G[0]&36|G[1]&256&&(K.$$scope={dirty:G,ctx:C}),Z.$set(K)},i(C){N||(te(m.$$.fragment,C),te(S.$$.fragment,C),te(Z.$$.fragment,C),N=!0)},o(C){re(m.$$.fragment,C),re(S.$$.fragment,C),re(Z.$$.fragment,C),N=!1},d(C){C&&(u(e),u(t),u(l),u(g),u(y),u(B),u(M)),xe(m),xe(S),xe(Z)}}}function bn(s){let e,t=s[33].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[33].id,X(e,e.__value)},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[33].name+"")&&R(l,t),i[0]&8&&a!==(a=o[33].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function Su(s){let e,t,l,a,o,i=ot(s[3]??[]),c=[];for(let f=0;f<i.length;f+=1)c[f]=bn(dn(s,i,f));return{c(){e=d("input"),t=D(),l=d("datalist");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=h(f,"INPUT",{list:!0,class:!0,placeholder:!0}),t=A(f),l=h(f,"DATALIST",{id:!0});var v=_(l);for(let b=0;b<c.length;b+=1)c[b].l(v);v.forEach(u),this.h()},h(){n(e,"list","model-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder","Select a model"),e.required=!0,n(l,"id","model-list")},m(f,v){P(f,e,v),X(e,s[2].MODEL),P(f,t,v),P(f,l,v);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(l,null);a||(o=le(e,"input",s[25]),a=!0)},p(f,v){if(v[0]&4&&e.value!==f[2].MODEL&&X(e,f[2].MODEL),v[0]&8){i=ot(f[3]??[]);let b;for(b=0;b<i.length;b+=1){const p=dn(f,i,b);c[b]?c[b].p(p,v):(c[b]=bn(p),c[b].c(),c[b].m(l,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=i.length}},d(f){f&&(u(e),u(t),u(l)),$t(c,f),a=!1,o()}}}function Mu(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(o,i){P(o,e,i),X(e,s[2].IMAGE_SIZE),l||(a=le(e,"input",s[26]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Image Size (e.g. 512x512)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_SIZE&&X(e,o[2].IMAGE_SIZE)},d(o){o&&u(e),l=!1,a()}}}function Ou(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(o,i){P(o,e,i),X(e,s[2].IMAGE_STEPS),l||(a=le(e,"input",s[27]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Number of Steps (e.g. 50)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_STEPS&&X(e,o[2].IMAGE_STEPS)},d(o){o&&u(e),l=!1,a()}}}function En(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function Pu(s){let e,t,l,a,o,i=s[5].t("Save")+"",c,f,v,b,p,m,g=s[1]&&s[2]&&_n(s),y=s[0]&&En();return{c(){e=d("form"),t=d("div"),g&&g.c(),l=D(),a=d("div"),o=d("button"),c=L(i),f=D(),y&&y.c(),this.h()},l(k){e=h(k,"FORM",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);g&&g.l(E),E.forEach(u),l=A(w),a=h(w,"DIV",{class:!0});var I=_(a);o=h(I,"BUTTON",{class:!0,type:!0});var T=_(o);c=U(T,i),f=A(T),y&&y.l(T),T.forEach(u),I.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),n(o,"class",v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(o,"type","submit"),o.disabled=s[0],n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,w){P(k,e,w),r(e,t),g&&g.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),r(o,f),y&&y.m(o,null),b=!0,p||(m=le(e,"submit",Ml(s[28])),p=!0)},p(k,w){k[1]&&k[2]?g?(g.p(k,w),w[0]&6&&te(g,1)):(g=_n(k),g.c(),te(g,1),g.m(t,null)):g&&(It(),re(g,1,1,()=>{g=null}),Tt()),(!b||w[0]&32)&&i!==(i=k[5].t("Save")+"")&&R(c,i),k[0]?y||(y=En(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!b||w[0]&1&&v!==(v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(k[0]?" cursor-not-allowed":"")))&&n(o,"class",v),(!b||w[0]&1)&&(o.disabled=k[0])},i(k){b||(te(g),b=!0)},o(k){re(g),b=!1},d(k){k&&u(e),g&&g.d(),y&&y.d(),p=!1,m()}}}function Nu(s,e,t){let l,a;Ft(s,Ma,K=>t(29,l=K));const o=Ms(),i=kl("i18n");Ft(s,i,K=>t(5,a=K));let c=!1,f=null,v=null,b=null,p=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const m=async()=>{t(3,b=await uo(localStorage.token).catch(K=>(De.error(K),null)))},g=async()=>{const K=await Er(localStorage.token,f).catch($=>(De.error($),null));K&&t(1,f=K),f.enabled&&(Ul.set(await es()),m())},y=K=>{try{const $=JSON.parse(K);if($&&typeof $=="object")return!0}catch{}return!1},k=async()=>{var K,$;if(t(0,c=!0),(K=f==null?void 0:f.comfyui)!=null&&K.COMFYUI_WORKFLOW&&!y(f.comfyui.COMFYUI_WORKFLOW)){De.error("Invalid JSON format for ComfyUI Workflow."),t(0,c=!1);return}($=f==null?void 0:f.comfyui)!=null&&$.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW_NODES=p.map(q=>({type:q.type,key:q.key,node_ids:q.node_ids.trim()===""?[]:q.node_ids.split(",").map(F=>F.trim())})),f),await Er(localStorage.token,f).catch(q=>(De.error(q),t(0,c=!1),null)),await fo(localStorage.token,v).catch(q=>(De.error(q),t(0,c=!1),null)),m(),o("save"),t(0,c=!1)};wl(async()=>{if(l.role==="admin"){const K=await io(localStorage.token).catch(q=>(De.error(q),null));K&&t(1,f=K),f.enabled&&m(),f.comfyui.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(f.comfyui.COMFYUI_WORKFLOW),null,2),f),t(4,p=p.map(q=>{const F=f.comfyui.COMFYUI_WORKFLOW_NODES.find(ne=>ne.type===q.type)??q;return console.log(F),{type:F.type,key:F.key,node_ids:typeof F.node_ids=="string"?F.node_ids:F.node_ids.join(",")}}));const $=await oo(localStorage.token).catch(q=>(De.error(q),null));$&&t(2,v=$)}});function w(K){s.$$.not_equal(f.enabled,K)&&(f.enabled=K,t(1,f))}const E=K=>{K.detail&&(f.engine==="automatic1111"&&f.automatic1111.AUTOMATIC1111_BASE_URL===""?(De.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="comfyui"&&f.comfyui.COMFYUI_BASE_URL===""?(De.error(a.t("ComfyUI Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="openai"&&f.openai.OPENAI_API_KEY===""&&(De.error(a.t("OpenAI API Key is required.")),t(1,f.enabled=!1,f))),g()};function I(){f.engine=qt(this),t(1,f)}const T=async()=>{g()};function V(){f.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,f)}const S=async()=>{await g(),await kr(localStorage.token).catch($=>(De.error($),null))&&De.success(a.t("Server connection verified"))};function B(K){s.$$.not_equal(f.automatic1111.AUTOMATIC1111_API_AUTH,K)&&(f.automatic1111.AUTOMATIC1111_API_AUTH=K,t(1,f))}function M(){f.comfyui.COMFYUI_BASE_URL=this.value,t(1,f)}const W=async()=>{await g(),await kr(localStorage.token).catch($=>(De.error($),null))&&De.success(a.t("Server connection verified"))};function x(){f.comfyui.COMFYUI_WORKFLOW=this.value,t(1,f)}const z=K=>{const $=K.target.files[0],q=new FileReader;q.onload=F=>{t(1,f.comfyui.COMFYUI_WORKFLOW=F.target.result,f),F.target.value=null},q.readAsText($)},Y=()=>{var K;(K=document.getElementById("upload-comfyui-workflow-input"))==null||K.click()};function O(K,$){K[$].key=this.value,t(4,p)}function H(K,$){K[$].node_ids=this.value,t(4,p)}function Z(){f.openai.OPENAI_API_BASE_URL=this.value,t(1,f)}function N(K){s.$$.not_equal(f.openai.OPENAI_API_KEY,K)&&(f.openai.OPENAI_API_KEY=K,t(1,f))}function C(){v.MODEL=this.value,t(2,v)}function G(){v.IMAGE_SIZE=this.value,t(2,v)}function J(){v.IMAGE_STEPS=this.value,t(2,v)}return[c,f,v,b,p,a,i,g,k,w,E,I,T,V,S,B,M,W,x,z,Y,O,H,Z,N,C,G,J,async()=>{k()}]}class Lu extends _l{constructor(e){super(),vl(this,e,Nu,Pu,hl,{},null,[-1,-1])}}function kn(s,e,t){const l=s.slice();return l[27]=e[t],l[28]=e,l[29]=t,l}function wn(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function yn(s,e,t){const l=s.slice();return l[33]=e[t],l}function In(s,e,t){const l=s.slice();return l[33]=e[t],l}function Uu(s){let e,t;return{c(){e=Et("svg"),t=Et("path"),this.h()},l(l){e=kt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=kt(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(l,a){P(l,e,a),r(e,t)},p:pt,d(l){l&&u(e)}}}function Tn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=U(c,t),a=A(c),c.forEach(u),this.h()},h(){e.__value=o=s[33].id,X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){P(i,e,c),r(e,l),r(e,a)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&R(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,X(e,e.__value))},d(i){i&&u(e)}}}function Dn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=U(c,t),a=A(c),c.forEach(u),this.h()},h(){e.__value=o=s[33].id,X(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){P(i,e,c),r(e,l),r(e,a)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&R(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,X(e,e.__value))},d(i){i&&u(e)}}}function Cu(s){let e,t,l,a;return{c(){e=d("textarea"),this.h()},l(o){e=h(o,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(e,"rows","3"),n(e,"placeholder",t=s[3].t("Leave empty to use the default prompt, or enter a custom prompt"))},m(o,i){P(o,e,i),X(e,s[0].TITLE_GENERATION_PROMPT_TEMPLATE),l||(a=le(e,"input",s[11]),l=!0)},p(o,i){i[0]&8&&t!==(t=o[3].t("Leave empty to use the default prompt, or enter a custom prompt"))&&n(e,"placeholder",t),i[0]&17&&X(e,o[0].TITLE_GENERATION_PROMPT_TEMPLATE)},d(o){o&&u(e),l=!1,a()}}}function An(s){let e,t,l=s[3].t("Search Query Generation Prompt")+"",a,o,i,c;return i=new nl({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Ru]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var b=_(t);a=U(b,l),b.forEach(u),o=A(v),Qe(i.$$.fragment,v),v.forEach(u),this.h()},h(){n(t,"class","mb-2.5 text-xs font-medium"),n(e,"class","")},m(f,v){P(f,e,v),r(e,t),r(t,a),r(e,o),Xe(i,e,null),c=!0},p(f,v){(!c||v[0]&8)&&l!==(l=f[3].t("Search Query Generation Prompt")+"")&&R(a,l);const b={};v[0]&8&&(b.content=f[3].t("Leave empty to use the default prompt, or enter a custom prompt")),v[0]&9|v[1]&128&&(b.$$scope={dirty:v,ctx:f}),i.$set(b)},i(f){c||(te(i.$$.fragment,f),c=!0)},o(f){re(i.$$.fragment,f),c=!1},d(f){f&&u(e),xe(i)}}}function Ru(s){let e,t,l,a;return{c(){e=d("textarea"),this.h()},l(o){e=h(o,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(e,"rows","3"),n(e,"placeholder",t=s[3].t("Leave empty to use the default prompt, or enter a custom prompt"))},m(o,i){P(o,e,i),X(e,s[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),l||(a=le(e,"input",s[13]),l=!0)},p(o,i){i[0]&8&&t!==(t=o[3].t("Leave empty to use the default prompt, or enter a custom prompt"))&&n(e,"placeholder",t),i[0]&17&&X(e,o[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE)},d(o){o&&u(e),l=!1,a()}}}function Vn(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.selected=!0,e.disabled=!0,n(e,"class","text-gray-900")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Type")+"")&&R(l,t)},d(a){a&&u(e)}}}function Bu(s){let e,t,l;function a(i){s[17](i,s[30])}let o={};return s[30].dismissible!==void 0&&(o.state=s[30].dismissible),e=new El({props:o}),Nt.push(()=>Ct(e,"state",a)),{c(){Je(e.$$.fragment)},l(i){Qe(e.$$.fragment,i)},m(i,c){Xe(e,i,c),l=!0},p(i,c){s=i;const f={};!t&&c[0]&4&&(t=!0,f.state=s[30].dismissible,Ut(()=>t=!1)),e.$set(f)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){re(e.$$.fragment,i),l=!1},d(i){xe(e,i)}}}function Sn(s){let e,t,l,a,o=s[3].t("Info")+"",i,c,f=s[3].t("Warning")+"",v,b,p=s[3].t("Error")+"",m,g,y=s[3].t("Success")+"",k,w,E,I,T,V,S,B,M,W='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',x,z,Y,O,H=s[30].type==""&&Vn(s);function Z(){s[15].call(l,s[31],s[32])}function N(){s[16].call(E,s[31],s[32])}S=new nl({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Bu]},$$scope:{ctx:s}}});function C(){return s[18](s[32])}return{c(){e=d("div"),t=d("div"),l=d("select"),H&&H.c(),a=d("option"),i=L(o),c=d("option"),v=L(f),b=d("option"),m=L(p),g=d("option"),k=L(y),w=D(),E=d("input"),T=D(),V=d("div"),Je(S.$$.fragment),B=D(),M=d("button"),M.innerHTML=W,x=D(),this.h()},l(G){e=h(G,"DIV",{class:!0});var J=_(e);t=h(J,"DIV",{class:!0});var ee=_(t);l=h(ee,"SELECT",{class:!0});var K=_(l);H&&H.l(K),a=h(K,"OPTION",{class:!0});var $=_(a);i=U($,o),$.forEach(u),c=h(K,"OPTION",{class:!0});var q=_(c);v=U(q,f),q.forEach(u),b=h(K,"OPTION",{class:!0});var F=_(b);m=U(F,p),F.forEach(u),g=h(K,"OPTION",{class:!0});var ne=_(g);k=U(ne,y),ne.forEach(u),K.forEach(u),w=A(ee),E=h(ee,"INPUT",{class:!0,placeholder:!0}),T=A(ee),V=h(ee,"DIV",{class:!0});var oe=_(V);Qe(S.$$.fragment,oe),oe.forEach(u),ee.forEach(u),B=A(J),M=h(J,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(M)!=="svelte-nlagmo"&&(M.innerHTML=W),x=A(J),J.forEach(u),this.h()},h(){a.__value="info",X(a,a.__value),n(a,"class","text-gray-900"),c.__value="warning",X(c,c.__value),n(c,"class","text-gray-900"),b.__value="error",X(b,b.__value),n(b,"class","text-gray-900"),g.__value="success",X(g,g.__value),n(g,"class","text-gray-900"),n(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[30].type===void 0&&Yt(Z),n(E,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),n(E,"placeholder",I=s[3].t("Content")),n(V,"class","relative top-1.5 -left-2"),n(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),n(M,"class","px-2"),n(M,"type","button"),n(e,"class","flex justify-between")},m(G,J){P(G,e,J),r(e,t),r(t,l),H&&H.m(l,null),r(l,a),r(a,i),r(l,c),r(c,v),r(l,b),r(b,m),r(l,g),r(g,k),mt(l,s[30].type,!0),r(t,w),r(t,E),X(E,s[30].content),r(t,T),r(t,V),Xe(S,V,null),r(e,B),r(e,M),r(e,x),z=!0,Y||(O=[le(l,"change",Z),le(E,"input",N),le(M,"click",C)],Y=!0)},p(G,J){s=G,s[30].type==""?H?H.p(s,J):(H=Vn(s),H.c(),H.m(l,a)):H&&(H.d(1),H=null),(!z||J[0]&8)&&o!==(o=s[3].t("Info")+"")&&R(i,o),(!z||J[0]&8)&&f!==(f=s[3].t("Warning")+"")&&R(v,f),(!z||J[0]&8)&&p!==(p=s[3].t("Error")+"")&&R(m,p),(!z||J[0]&8)&&y!==(y=s[3].t("Success")+"")&&R(k,y),J[0]&4&&mt(l,s[30].type),(!z||J[0]&8&&I!==(I=s[3].t("Content")))&&n(E,"placeholder",I),J[0]&4&&E.value!==s[30].content&&X(E,s[30].content);const ee={};J[0]&8&&(ee.content=s[3].t("Dismissible")),J[0]&4|J[1]&128&&(ee.$$scope={dirty:J,ctx:s}),S.$set(ee)},i(G){z||(te(S.$$.fragment,G),z=!0)},o(G){re(S.$$.fragment,G),z=!1},d(G){G&&u(e),H&&H.d(),xe(S),Y=!1,Gt(O)}}}function Mn(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",o,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',v,b,p,m,g,y=ot(s[1]),k=[];for(let E=0;E<y.length;E+=1)k[E]=On(kn(s,y,E));let w=s[1].length>0&&Pn(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("button"),c.innerHTML=f,v=D(),b=d("div");for(let E=0;E<k.length;E+=1)k[E].c();p=D(),w&&w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"DIV",{class:!0});var V=_(l);o=U(V,a),V.forEach(u),i=A(T),c=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(c)!=="svelte-192kpg7"&&(c.innerHTML=f),T.forEach(u),v=A(I),b=h(I,"DIV",{class:!0});var S=_(b);for(let B=0;B<k.length;B+=1)k[B].l(S);S.forEach(u),p=A(I),w&&w.l(I),I.forEach(u),this.h()},h(){n(l,"class","self-center text-sm font-semibold"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between mb-2"),n(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),n(e,"class","space-y-3")},m(E,I){P(E,e,I),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(e,v),r(e,b);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(b,null);r(e,p),w&&w.m(e,null),m||(g=le(c,"click",s[19]),m=!0)},p(E,I){if(I[0]&8&&a!==(a=E[3].t("Default Prompt Suggestions")+"")&&R(o,a),I[0]&10){y=ot(E[1]);let T;for(T=0;T<y.length;T+=1){const V=kn(E,y,T);k[T]?k[T].p(V,I):(k[T]=On(V),k[T].c(),k[T].m(b,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=y.length}E[1].length>0?w?w.p(E,I):(w=Pn(E),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(E){E&&u(e),$t(k,E),w&&w.d(),m=!1,g()}}}function On(s){let e,t,l,a,o,i,c,f,v,b,p,m,g,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',k,w,E;function I(){s[20].call(a,s[28],s[29])}function T(){s[21].call(c,s[28],s[29])}function V(){s[22].call(b,s[28],s[29])}function S(){return s[23](s[29])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),i=D(),c=d("input"),v=D(),b=d("input"),m=D(),g=d("button"),g.innerHTML=y,k=D(),this.h()},l(B){e=h(B,"DIV",{class:!0});var M=_(e);t=h(M,"DIV",{class:!0});var W=_(t);l=h(W,"DIV",{class:!0});var x=_(l);a=h(x,"INPUT",{class:!0,placeholder:!0}),i=A(x),c=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(u),v=A(W),b=h(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),m=A(M),g=h(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(g)!=="svelte-1dyt8gv"&&(g.innerHTML=y),k=A(M),M.forEach(u),this.h()},h(){n(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(a,"placeholder",o=s[3].t("Title (e.g. Tell me a fun fact)")),n(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(c,"placeholder",f=s[3].t("Subtitle (e.g. about the Roman Empire)")),n(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),n(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(b,"placeholder",p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),n(t,"class","flex flex-col flex-1 pl-1"),n(g,"class","px-3"),n(g,"type","button"),n(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(B,M){P(B,e,M),r(e,t),r(t,l),r(l,a),X(a,s[27].title[0]),r(l,i),r(l,c),X(c,s[27].title[1]),r(t,v),r(t,b),X(b,s[27].content),r(e,m),r(e,g),r(e,k),w||(E=[le(a,"input",I),le(c,"input",T),le(b,"input",V),le(g,"click",S)],w=!0)},p(B,M){s=B,M[0]&8&&o!==(o=s[3].t("Title (e.g. Tell me a fun fact)"))&&n(a,"placeholder",o),M[0]&2&&a.value!==s[27].title[0]&&X(a,s[27].title[0]),M[0]&8&&f!==(f=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&n(c,"placeholder",f),M[0]&2&&c.value!==s[27].title[1]&&X(c,s[27].title[1]),M[0]&8&&p!==(p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&n(b,"placeholder",p),M[0]&2&&b.value!==s[27].content&&X(b,s[27].content)},d(B){B&&u(e),w=!1,Gt(E)}}}function Pn(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","text-xs text-left w-full mt-2")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&R(l,t)},d(a){a&&u(e)}}}function Hu(s){let e,t,l,a,o,i=s[3].t("Set Task Model")+"",c,f,v,b,p,m,g,y=s[3].t("Local Models")+"",k,w,E,I,T=s[3].t("Current Model")+"",V,S,B,M,W,x=s[3].t("External Models")+"",z,Y,O,H,Z=s[3].t("Current Model")+"",N,C,G,J,ee,K=s[3].t("Title Generation Prompt")+"",$,q,F,ne,oe,_e,ce,Ae,Se=s[3].t("Enable Web Search Query Generation")+"",Oe,we,Be,me,Pe,ue,ke,qe,Ue,Ne,et,He=s[3].t("Banners")+"",Ke,at,de,Le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',pe,fe,Ee,ae,ye,Ge,Ie,ve=s[3].t("Save")+"",he,Ve,Fe,tt;v=new nl({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[Uu]},$$scope:{ctx:s}}});let nt=ot(s[4].filter(Nn)),We=[];for(let Q=0;Q<nt.length;Q+=1)We[Q]=Tn(In(s,nt,Q));let rt=ot(s[4]),ze=[];for(let Q=0;Q<rt.length;Q+=1)ze[Q]=Dn(yn(s,rt,Q));F=new nl({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Cu]},$$scope:{ctx:s}}});function ht(Q){s[12](Q)}let st={};s[0].ENABLE_SEARCH_QUERY!==void 0&&(st.state=s[0].ENABLE_SEARCH_QUERY),Be=new El({props:st}),Nt.push(()=>Ct(Be,"state",ht));let be=s[0].ENABLE_SEARCH_QUERY&&An(s),ft=ot(s[2]),lt=[];for(let Q=0;Q<ft.length;Q+=1)lt[Q]=Sn(wn(s,ft,Q));const $e=Q=>re(lt[Q],1,1,()=>{lt[Q]=null});let ie=s[5].role==="admin"&&Mn(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),c=L(i),f=D(),Je(v.$$.fragment),b=D(),p=d("div"),m=d("div"),g=d("div"),k=L(y),w=D(),E=d("select"),I=d("option"),V=L(T);for(let Q=0;Q<We.length;Q+=1)We[Q].c();B=D(),M=d("div"),W=d("div"),z=L(x),Y=D(),O=d("select"),H=d("option"),N=L(Z);for(let Q=0;Q<ze.length;Q+=1)ze[Q].c();G=D(),J=d("div"),ee=d("div"),$=L(K),q=D(),Je(F.$$.fragment),ne=D(),oe=d("hr"),_e=D(),ce=d("div"),Ae=d("div"),Oe=L(Se),we=D(),Je(Be.$$.fragment),Pe=D(),be&&be.c(),ue=D(),ke=d("hr"),qe=D(),Ue=d("div"),Ne=d("div"),et=d("div"),Ke=L(He),at=D(),de=d("button"),de.innerHTML=Le,pe=D(),fe=d("div");for(let Q=0;Q<lt.length;Q+=1)lt[Q].c();ae=D(),ie&&ie.c(),ye=D(),Ge=d("div"),Ie=d("button"),he=L(ve),this.h()},l(Q){e=h(Q,"FORM",{class:!0});var j=_(e);t=h(j,"DIV",{class:!0});var se=_(t);l=h(se,"DIV",{});var Re=_(l);a=h(Re,"DIV",{class:!0});var Ye=_(a);o=h(Ye,"DIV",{class:!0});var Me=_(o);c=U(Me,i),Me.forEach(u),f=A(Ye),Qe(v.$$.fragment,Ye),Ye.forEach(u),b=A(Re),p=h(Re,"DIV",{class:!0});var vt=_(p);m=h(vt,"DIV",{class:!0});var At=_(m);g=h(At,"DIV",{class:!0});var Mt=_(g);k=U(Mt,y),Mt.forEach(u),w=A(At),E=h(At,"SELECT",{class:!0,placeholder:!0});var Lt=_(E);I=h(Lt,"OPTION",{});var Rt=_(I);V=U(Rt,T),Rt.forEach(u);for(let wt=0;wt<We.length;wt+=1)We[wt].l(Lt);Lt.forEach(u),At.forEach(u),B=A(vt),M=h(vt,"DIV",{class:!0});var Ot=_(M);W=h(Ot,"DIV",{class:!0});var Ce=_(W);z=U(Ce,x),Ce.forEach(u),Y=A(Ot),O=h(Ot,"SELECT",{class:!0,placeholder:!0});var Te=_(O);H=h(Te,"OPTION",{});var Dt=_(H);N=U(Dt,Z),Dt.forEach(u);for(let wt=0;wt<ze.length;wt+=1)ze[wt].l(Te);Te.forEach(u),Ot.forEach(u),vt.forEach(u),G=A(Re),J=h(Re,"DIV",{class:!0});var Vt=_(J);ee=h(Vt,"DIV",{class:!0});var Bt=_(ee);$=U(Bt,K),Bt.forEach(u),q=A(Vt),Qe(F.$$.fragment,Vt),Vt.forEach(u),ne=A(Re),oe=h(Re,"HR",{class:!0}),_e=A(Re),ce=h(Re,"DIV",{class:!0});var gt=_(ce);Ae=h(gt,"DIV",{class:!0});var _t=_(Ae);Oe=U(_t,Se),_t.forEach(u),we=A(gt),Qe(Be.$$.fragment,gt),gt.forEach(u),Pe=A(Re),be&&be.l(Re),Re.forEach(u),ue=A(se),ke=h(se,"HR",{class:!0}),qe=A(se),Ue=h(se,"DIV",{class:!0});var bt=_(Ue);Ne=h(bt,"DIV",{class:!0});var it=_(Ne);et=h(it,"DIV",{class:!0});var Zt=_(et);Ke=U(Zt,He),Zt.forEach(u),at=A(it),de=h(it,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(de)!=="svelte-1nhoygc"&&(de.innerHTML=Le),it.forEach(u),pe=A(bt),fe=h(bt,"DIV",{class:!0});var Kt=_(fe);for(let wt=0;wt<lt.length;wt+=1)lt[wt].l(Kt);Kt.forEach(u),bt.forEach(u),ae=A(se),ie&&ie.l(se),se.forEach(u),ye=A(j),Ge=h(j,"DIV",{class:!0});var Wt=_(Ge);Ie=h(Wt,"BUTTON",{class:!0,type:!0});var Pt=_(Ie);he=U(Pt,ve),Pt.forEach(u),Wt.forEach(u),j.forEach(u),this.h()},h(){n(o,"class","mr-1"),n(a,"class","mb-2.5 text-sm font-medium flex"),n(g,"class","text-xs mb-1"),I.__value="",X(I,I.__value),I.selected=!0,n(E,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(E,"placeholder",S=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Yt(()=>s[9].call(E)),n(m,"class","flex-1"),n(W,"class","text-xs mb-1"),H.__value="",X(H,H.__value),H.selected=!0,n(O,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(O,"placeholder",C=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Yt(()=>s[10].call(O)),n(M,"class","flex-1"),n(p,"class","flex w-full gap-2"),n(ee,"class","mb-2.5 text-xs font-medium"),n(J,"class","mt-3"),n(oe,"class","dark:border-gray-850 my-3"),n(Ae,"class","self-center text-xs font-medium"),n(ce,"class","my-3 flex w-full items-center justify-between"),n(ke,"class","dark:border-gray-850 my-3"),n(et,"class","self-center text-sm font-semibold"),n(de,"class","p-1 px-3 text-xs flex rounded transition"),n(de,"type","button"),n(Ne,"class","flex w-full justify-between"),n(fe,"class","flex flex-col space-y-1"),n(Ue,"class",Ee="space-y-3 "+(s[2].length>0?" mb-3":"")),n(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(Ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ie,"type","submit"),n(Ge,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Q,j){P(Q,e,j),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c),r(a,f),Xe(v,a,null),r(l,b),r(l,p),r(p,m),r(m,g),r(g,k),r(m,w),r(m,E),r(E,I),r(I,V);for(let se=0;se<We.length;se+=1)We[se]&&We[se].m(E,null);mt(E,s[0].TASK_MODEL,!0),r(p,B),r(p,M),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,H),r(H,N);for(let se=0;se<ze.length;se+=1)ze[se]&&ze[se].m(O,null);mt(O,s[0].TASK_MODEL_EXTERNAL,!0),r(l,G),r(l,J),r(J,ee),r(ee,$),r(J,q),Xe(F,J,null),r(l,ne),r(l,oe),r(l,_e),r(l,ce),r(ce,Ae),r(Ae,Oe),r(ce,we),Xe(Be,ce,null),r(l,Pe),be&&be.m(l,null),r(t,ue),r(t,ke),r(t,qe),r(t,Ue),r(Ue,Ne),r(Ne,et),r(et,Ke),r(Ne,at),r(Ne,de),r(Ue,pe),r(Ue,fe);for(let se=0;se<lt.length;se+=1)lt[se]&&lt[se].m(fe,null);r(t,ae),ie&&ie.m(t,null),r(e,ye),r(e,Ge),r(Ge,Ie),r(Ie,he),Ve=!0,Fe||(tt=[le(E,"change",s[9]),le(O,"change",s[10]),le(de,"click",s[14]),le(e,"submit",Ml(s[24]))],Fe=!0)},p(Q,j){(!Ve||j[0]&8)&&i!==(i=Q[3].t("Set Task Model")+"")&&R(c,i);const se={};if(j[0]&8&&(se.content=Q[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),j[1]&128&&(se.$$scope={dirty:j,ctx:Q}),v.$set(se),(!Ve||j[0]&8)&&y!==(y=Q[3].t("Local Models")+"")&&R(k,y),(!Ve||j[0]&8)&&T!==(T=Q[3].t("Current Model")+"")&&R(V,T),j[0]&16){nt=ot(Q[4].filter(Nn));let Me;for(Me=0;Me<nt.length;Me+=1){const vt=In(Q,nt,Me);We[Me]?We[Me].p(vt,j):(We[Me]=Tn(vt),We[Me].c(),We[Me].m(E,null))}for(;Me<We.length;Me+=1)We[Me].d(1);We.length=nt.length}if((!Ve||j[0]&8&&S!==(S=Q[3].t("Select a model")))&&n(E,"placeholder",S),j[0]&17&&mt(E,Q[0].TASK_MODEL),(!Ve||j[0]&8)&&x!==(x=Q[3].t("External Models")+"")&&R(z,x),(!Ve||j[0]&8)&&Z!==(Z=Q[3].t("Current Model")+"")&&R(N,Z),j[0]&16){rt=ot(Q[4]);let Me;for(Me=0;Me<rt.length;Me+=1){const vt=yn(Q,rt,Me);ze[Me]?ze[Me].p(vt,j):(ze[Me]=Dn(vt),ze[Me].c(),ze[Me].m(O,null))}for(;Me<ze.length;Me+=1)ze[Me].d(1);ze.length=rt.length}(!Ve||j[0]&8&&C!==(C=Q[3].t("Select a model")))&&n(O,"placeholder",C),j[0]&17&&mt(O,Q[0].TASK_MODEL_EXTERNAL),(!Ve||j[0]&8)&&K!==(K=Q[3].t("Title Generation Prompt")+"")&&R($,K);const Re={};j[0]&8&&(Re.content=Q[3].t("Leave empty to use the default prompt, or enter a custom prompt")),j[0]&9|j[1]&128&&(Re.$$scope={dirty:j,ctx:Q}),F.$set(Re),(!Ve||j[0]&8)&&Se!==(Se=Q[3].t("Enable Web Search Query Generation")+"")&&R(Oe,Se);const Ye={};if(!me&&j[0]&1&&(me=!0,Ye.state=Q[0].ENABLE_SEARCH_QUERY,Ut(()=>me=!1)),Be.$set(Ye),Q[0].ENABLE_SEARCH_QUERY?be?(be.p(Q,j),j[0]&1&&te(be,1)):(be=An(Q),be.c(),te(be,1),be.m(l,null)):be&&(It(),re(be,1,1,()=>{be=null}),Tt()),(!Ve||j[0]&8)&&He!==(He=Q[3].t("Banners")+"")&&R(Ke,He),j[0]&12){ft=ot(Q[2]);let Me;for(Me=0;Me<ft.length;Me+=1){const vt=wn(Q,ft,Me);lt[Me]?(lt[Me].p(vt,j),te(lt[Me],1)):(lt[Me]=Sn(vt),lt[Me].c(),te(lt[Me],1),lt[Me].m(fe,null))}for(It(),Me=ft.length;Me<lt.length;Me+=1)$e(Me);Tt()}(!Ve||j[0]&4&&Ee!==(Ee="space-y-3 "+(Q[2].length>0?" mb-3":"")))&&n(Ue,"class",Ee),Q[5].role==="admin"?ie?ie.p(Q,j):(ie=Mn(Q),ie.c(),ie.m(t,null)):ie&&(ie.d(1),ie=null),(!Ve||j[0]&8)&&ve!==(ve=Q[3].t("Save")+"")&&R(he,ve)},i(Q){if(!Ve){te(v.$$.fragment,Q),te(F.$$.fragment,Q),te(Be.$$.fragment,Q),te(be);for(let j=0;j<ft.length;j+=1)te(lt[j]);Ve=!0}},o(Q){re(v.$$.fragment,Q),re(F.$$.fragment,Q),re(Be.$$.fragment,Q),re(be),lt=lt.filter(Boolean);for(let j=0;j<lt.length;j+=1)re(lt[j]);Ve=!1},d(Q){Q&&u(e),xe(v),$t(We,Q),$t(ze,Q),xe(F),xe(Be),be&&be.d(),$t(lt,Q),ie&&ie.d(),Fe=!1,Gt(tt)}}}const Nn=s=>s.owned_by==="ollama";function $u(s,e,t){let l,a,o,i;Ft(s,Ul,Z=>t(25,l=Z)),Ft(s,rl,Z=>t(4,o=Z)),Ft(s,Ma,Z=>t(5,i=Z));const c=Ms(),f=kl("i18n");Ft(s,f,Z=>t(3,a=Z));let v={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",ENABLE_SEARCH_QUERY:!0,SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE:""},b=[],p=[];const m=async()=>{t(0,v=await xi(localStorage.token,v)),t(1,b=await Bi(localStorage.token,b)),await g(),await Ul.set(await es())};wl(async()=>{t(0,v=await Xi(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,p=await Ri(localStorage.token))});const g=async()=>{Si.set(await Hi(localStorage.token,p))};function y(){v.TASK_MODEL=qt(this),t(0,v)}function k(){v.TASK_MODEL_EXTERNAL=qt(this),t(0,v)}function w(){v.TITLE_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function E(Z){s.$$.not_equal(v.ENABLE_SEARCH_QUERY,Z)&&(v.ENABLE_SEARCH_QUERY=Z,t(0,v))}function I(){v.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}const T=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:no(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function V(Z,N){Z[N].type=qt(this),t(2,p)}function S(Z,N){Z[N].content=this.value,t(2,p)}function B(Z,N){s.$$.not_equal(N.dismissible,Z)&&(N.dismissible=Z,t(2,p))}const M=Z=>{p.splice(Z,1),t(2,p)},W=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function x(Z,N){Z[N].title[0]=this.value,t(1,b)}function z(Z,N){Z[N].title[1]=this.value,t(1,b)}function Y(Z,N){Z[N].content=this.value,t(1,b)}return[v,b,p,a,o,i,c,f,m,y,k,w,E,I,T,V,S,B,M,W,x,z,Y,Z=>{b.splice(Z,1),t(1,b)},()=>{m(),c("save")}]}class ju extends _l{constructor(e){super(),vl(this,e,$u,Hu,hl,{},null,[-1,-1])}}function Ln(s,e,t){const l=s.slice();return l[59]=e[t],l}function Un(s,e,t){const l=s.slice();return l[59]=e[t],l}function Cn(s,e,t){const l=s.slice();return l[64]=e[t],l[66]=t,l}function Zu(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Je(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Qe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){P(o,e,i),r(e,t),Xe(l,t,null),a=!0},p:pt,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),xe(l)}}}function Ku(s){let e,t=s[24].t("Ollama API is disabled")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=U(o,t),o.forEach(u)},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Ollama API is disabled")+"")&&R(l,t)},i:pt,o:pt,d(a){a&&u(e)}}}function Gu(s){let e,t,l,a;const o=[zu,Fu,Wu],i=[];function c(f,v){return f[8]!==null?0:f[8]===!1?1:2}return e=c(s),t=i[e]=o[e](s),{c(){t.c(),l=jt()},l(f){t.l(f),l=jt()},m(f,v){i[e].m(f,v),P(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?i[e].p(f,v):(It(),re(i[b],1,1,()=>{i[b]=null}),Tt(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l))},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),i[e].d(f)}}}function Wu(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Je(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Qe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){P(o,e,i),r(e,t),Xe(l,t,null),a=!0},p:pt,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),xe(l)}}}function Fu(s){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,a){P(l,e,a)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function zu(s){let e,t,l=s[24].t("Manage Ollama Models")+"",a,o,i,c,f,v,b=s[24].t("Pull a model from Ollama.com")+"",p,m,g,y,k,w,E,I,T,V,S=s[24].t("To access the available model names for downloading,")+"",B,M,W,x=s[24].t("click here.")+"",z,Y,O=Object.keys(s[25]).length>0,H,Z,N,C=s[24].t("Delete a model")+"",G,J,ee,K,$,q,F,ne,oe,_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ce,Ae,Se,Oe=s[24].t("Create a model")+"",we,Be,me,Pe,ue,ke,qe,Ue,Ne,et,He,Ke,at,de,Le,pe,fe,Ee,ae,ye=s[24].t("Experimental")+"",Ge,Ie,ve,he=(s[7]?s[24].t("Hide"):s[24].t("Show"))+"",Ve,Fe,tt,nt,We,rt=s[3].length>0&&Rn(s);function ze(j,se){return j[9]?Ju:Yu}let ht=ze(s),st=ht(s),be=O&&$n(s),ft=!s[23]&&Gn(s),lt=ot(s[26].filter(s[41])),$e=[];for(let j=0;j<lt.length;j+=1)$e[j]=Wn(Ln(s,lt,j));let ie=s[14]!==""&&Fn(s),Q=s[7]&&qn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),rt&&rt.c(),i=D(),c=d("div"),f=d("div"),v=d("div"),p=L(b),m=D(),g=d("div"),y=d("div"),k=d("input"),E=D(),I=d("button"),st.c(),T=D(),V=d("div"),B=L(S),M=D(),W=d("a"),z=L(x),Y=D(),be&&be.c(),H=D(),Z=d("div"),N=d("div"),G=L(C),J=D(),ee=d("div"),K=d("div"),$=d("select"),ft&&ft.c(),q=jt();for(let j=0;j<$e.length;j+=1)$e[j].c();ne=D(),oe=d("button"),oe.innerHTML=_e,ce=D(),Ae=d("div"),Se=d("div"),we=L(Oe),Be=D(),me=d("div"),Pe=d("div"),ue=d("input"),qe=D(),Ue=d("textarea"),Ne=D(),et=d("div"),He=d("button"),Ke=Et("svg"),at=Et("path"),de=Et("path"),Le=D(),ie&&ie.c(),pe=D(),fe=d("div"),Ee=d("div"),ae=d("div"),Ge=L(ye),Ie=D(),ve=d("button"),Ve=L(he),Fe=D(),Q&&Q.c(),this.h()},l(j){e=h(j,"DIV",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var Re=_(t);a=U(Re,l),Re.forEach(u),o=A(se),rt&&rt.l(se),i=A(se),c=h(se,"DIV",{class:!0});var Ye=_(c);f=h(Ye,"DIV",{});var Me=_(f);v=h(Me,"DIV",{class:!0});var vt=_(v);p=U(vt,b),vt.forEach(u),m=A(Me),g=h(Me,"DIV",{class:!0});var At=_(g);y=h(At,"DIV",{class:!0});var Mt=_(y);k=h(Mt,"INPUT",{class:!0,placeholder:!0}),Mt.forEach(u),E=A(At),I=h(At,"BUTTON",{class:!0});var Lt=_(I);st.l(Lt),Lt.forEach(u),At.forEach(u),T=A(Me),V=h(Me,"DIV",{class:!0});var Rt=_(V);B=U(Rt,S),M=A(Rt),W=h(Rt,"A",{class:!0,href:!0,target:!0});var Ot=_(W);z=U(Ot,x),Ot.forEach(u),Rt.forEach(u),Y=A(Me),be&&be.l(Me),Me.forEach(u),H=A(Ye),Z=h(Ye,"DIV",{});var Ce=_(Z);N=h(Ce,"DIV",{class:!0});var Te=_(N);G=U(Te,C),Te.forEach(u),J=A(Ce),ee=h(Ce,"DIV",{class:!0});var Dt=_(ee);K=h(Dt,"DIV",{class:!0});var Vt=_(K);$=h(Vt,"SELECT",{class:!0,placeholder:!0});var Bt=_($);ft&&ft.l(Bt),q=jt();for(let dt=0;dt<$e.length;dt+=1)$e[dt].l(Bt);Bt.forEach(u),Vt.forEach(u),ne=A(Dt),oe=h(Dt,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(oe)!=="svelte-2dig6p"&&(oe.innerHTML=_e),Dt.forEach(u),Ce.forEach(u),ce=A(Ye),Ae=h(Ye,"DIV",{});var gt=_(Ae);Se=h(gt,"DIV",{class:!0});var _t=_(Se);we=U(_t,Oe),_t.forEach(u),Be=A(gt),me=h(gt,"DIV",{class:!0});var bt=_(me);Pe=h(bt,"DIV",{class:!0});var it=_(Pe);ue=h(it,"INPUT",{class:!0,placeholder:!0}),qe=A(it),Ue=h(it,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(Ue).forEach(u),it.forEach(u),Ne=A(bt),et=h(bt,"DIV",{class:!0});var Zt=_(et);He=h(Zt,"BUTTON",{class:!0});var Kt=_(He);Ke=kt(Kt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Wt=_(Ke);at=kt(Wt,"path",{d:!0}),_(at).forEach(u),de=kt(Wt,"path",{d:!0}),_(de).forEach(u),Wt.forEach(u),Kt.forEach(u),Zt.forEach(u),bt.forEach(u),Le=A(gt),ie&&ie.l(gt),gt.forEach(u),pe=A(Ye),fe=h(Ye,"DIV",{class:!0});var Pt=_(fe);Ee=h(Pt,"DIV",{class:!0});var wt=_(Ee);ae=h(wt,"DIV",{class:!0});var Ze=_(ae);Ge=U(Ze,ye),Ze.forEach(u),Ie=A(wt),ve=h(wt,"BUTTON",{class:!0,type:!0});var ut=_(ve);Ve=U(ut,he),ut.forEach(u),wt.forEach(u),Pt.forEach(u),Fe=A(Ye),Q&&Q.l(Ye),Ye.forEach(u),se.forEach(u),this.h()},h(){n(t,"class","text-sm font-medium"),n(v,"class","mb-2 text-sm font-medium"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),n(y,"class","flex-1 mr-2"),n(I,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),I.disabled=s[9],n(g,"class","flex w-full"),n(W,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(W,"href","https://ollama.com/library"),n(W,"target","_blank"),n(V,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(N,"class","mb-2 text-sm font-medium"),n($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n($,"placeholder",F=s[24].t("Select a model")),s[23]===void 0&&Yt(()=>s[42].call($)),n(K,"class","flex-1 mr-2"),n(oe,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(ee,"class","flex w-full"),n(Se,"class","mb-2 text-sm font-medium"),n(ue,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ue,"placeholder",ke=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),ue.disabled=s[11],n(Ue,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),n(Ue,"rows","6"),n(Ue,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),Ue.disabled=s[11],n(Pe,"class","flex-1 mr-2 flex flex-col gap-2"),n(at,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(de,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(Ke,"xmlns","http://www.w3.org/2000/svg"),n(Ke,"viewBox","0 0 16 16"),n(Ke,"fill","currentColor"),n(Ke,"class","size-4"),n(He,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),He.disabled=s[11],n(et,"class","flex self-start"),n(me,"class","flex w-full"),n(ae,"class","text-sm font-medium"),n(ve,"class","text-xs font-medium text-gray-500"),n(ve,"type","button"),n(Ee,"class","flex justify-between items-center text-xs"),n(fe,"class","pt-1"),n(c,"class","space-y-2"),n(e,"class","space-y-2 pr-1.5")},m(j,se){P(j,e,se),r(e,t),r(t,a),r(e,o),rt&&rt.m(e,null),r(e,i),r(e,c),r(c,f),r(f,v),r(v,p),r(f,m),r(f,g),r(g,y),r(y,k),X(k,s[10]),r(g,E),r(g,I),st.m(I,null),r(f,T),r(f,V),r(V,B),r(V,M),r(V,W),r(W,z),r(f,Y),be&&be.m(f,null),r(c,H),r(c,Z),r(Z,N),r(N,G),r(Z,J),r(Z,ee),r(ee,K),r(K,$),ft&&ft.m($,null),r($,q);for(let Re=0;Re<$e.length;Re+=1)$e[Re]&&$e[Re].m($,null);mt($,s[23],!0),r(ee,ne),r(ee,oe),r(c,ce),r(c,Ae),r(Ae,Se),r(Se,we),r(Ae,Be),r(Ae,me),r(me,Pe),r(Pe,ue),X(ue,s[12]),r(Pe,qe),r(Pe,Ue),X(Ue,s[13]),r(me,Ne),r(me,et),r(et,He),r(He,Ke),r(Ke,at),r(Ke,de),r(Ae,Le),ie&&ie.m(Ae,null),r(c,pe),r(c,fe),r(fe,Ee),r(Ee,ae),r(ae,Ge),r(Ee,Ie),r(Ee,ve),r(ve,Ve),r(c,Fe),Q&&Q.m(c,null),tt=!0,nt||(We=[le(k,"input",s[38]),le(I,"click",s[39]),le($,"change",s[42]),le(oe,"click",s[43]),le(ue,"input",s[44]),le(Ue,"input",s[45]),le(He,"click",s[46]),le(ve,"click",s[47])],nt=!0)},p(j,se){if((!tt||se[0]&16777216)&&l!==(l=j[24].t("Manage Ollama Models")+"")&&R(a,l),j[3].length>0?rt?(rt.p(j,se),se[0]&8&&te(rt,1)):(rt=Rn(j),rt.c(),te(rt,1),rt.m(e,i)):rt&&(It(),re(rt,1,1,()=>{rt=null}),Tt()),(!tt||se[0]&16777216)&&b!==(b=j[24].t("Pull a model from Ollama.com")+"")&&R(p,b),(!tt||se[0]&16777216&&w!==(w=j[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&n(k,"placeholder",w),se[0]&1024&&k.value!==j[10]&&X(k,j[10]),ht!==(ht=ze(j))&&(st.d(1),st=ht(j),st&&(st.c(),st.m(I,null))),(!tt||se[0]&512)&&(I.disabled=j[9]),(!tt||se[0]&16777216)&&S!==(S=j[24].t("To access the available model names for downloading,")+"")&&R(B,S),(!tt||se[0]&16777216)&&x!==(x=j[24].t("click here.")+"")&&R(z,x),se[0]&33554432&&(O=Object.keys(j[25]).length>0),O?be?(be.p(j,se),se[0]&33554432&&te(be,1)):(be=$n(j),be.c(),te(be,1),be.m(f,null)):be&&(It(),re(be,1,1,()=>{be=null}),Tt()),(!tt||se[0]&16777216)&&C!==(C=j[24].t("Delete a model")+"")&&R(G,C),j[23]?ft&&(ft.d(1),ft=null):ft?ft.p(j,se):(ft=Gn(j),ft.c(),ft.m($,q)),se[0]&67108880){lt=ot(j[26].filter(j[41]));let Re;for(Re=0;Re<lt.length;Re+=1){const Ye=Ln(j,lt,Re);$e[Re]?$e[Re].p(Ye,se):($e[Re]=Wn(Ye),$e[Re].c(),$e[Re].m($,null))}for(;Re<$e.length;Re+=1)$e[Re].d(1);$e.length=lt.length}(!tt||se[0]&16777216&&F!==(F=j[24].t("Select a model")))&&n($,"placeholder",F),se[0]&75497488&&mt($,j[23]),(!tt||se[0]&16777216)&&Oe!==(Oe=j[24].t("Create a model")+"")&&R(we,Oe),(!tt||se[0]&16777216&&ke!==(ke=j[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&n(ue,"placeholder",ke),(!tt||se[0]&2048)&&(ue.disabled=j[11]),se[0]&4096&&ue.value!==j[12]&&X(ue,j[12]),(!tt||se[0]&2048)&&(Ue.disabled=j[11]),se[0]&8192&&X(Ue,j[13]),(!tt||se[0]&2048)&&(He.disabled=j[11]),j[14]!==""?ie?ie.p(j,se):(ie=Fn(j),ie.c(),ie.m(Ae,null)):ie&&(ie.d(1),ie=null),(!tt||se[0]&16777216)&&ye!==(ye=j[24].t("Experimental")+"")&&R(Ge,ye),(!tt||se[0]&16777344)&&he!==(he=(j[7]?j[24].t("Hide"):j[24].t("Show"))+"")&&R(Ve,he),j[7]?Q?Q.p(j,se):(Q=qn(j),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null)},i(j){tt||(te(rt),te(be),tt=!0)},o(j){re(rt),re(be),tt=!1},d(j){j&&u(e),rt&&rt.d(),st.d(),be&&be.d(),ft&&ft.d(),$t($e,j),ie&&ie.d(),Q&&Q.d(),nt=!1,Gt(We)}}}function Rn(s){let e,t,l,a,o,i,c,f,v,b,p,m,g,y=ot(s[3]),k=[];for(let E=0;E<y.length;E+=1)k[E]=Bn(Cn(s,y,E));f=new nl({props:{content:"Update All Models",placement:"top",$$slots:{default:[qu]},$$scope:{ctx:s}}});let w=s[5]&&Hn(s);return{c(){e=d("div"),t=d("div"),l=d("select");for(let E=0;E<k.length;E+=1)k[E].c();o=D(),i=d("div"),c=d("div"),Je(f.$$.fragment),v=D(),w&&w.c(),b=jt(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);for(let M=0;M<k.length;M+=1)k[M].l(V);V.forEach(u),T.forEach(u),o=A(I),i=h(I,"DIV",{});var S=_(i);c=h(S,"DIV",{class:!0});var B=_(c);Qe(f.$$.fragment,B),B.forEach(u),S.forEach(u),I.forEach(u),v=A(E),w&&w.l(E),b=jt(),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[24].t("Select an Ollama instance")),s[4]===void 0&&Yt(()=>s[36].call(l)),n(t,"class","flex-1 pb-1"),n(c,"class","flex w-full justify-end"),n(e,"class","flex gap-2")},m(E,I){P(E,e,I),r(e,t),r(t,l);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(l,null);mt(l,s[4],!0),r(e,o),r(e,i),r(i,c),Xe(f,c,null),P(E,v,I),w&&w.m(E,I),P(E,b,I),p=!0,m||(g=le(l,"change",s[36]),m=!0)},p(E,I){if(I[0]&8){y=ot(E[3]);let V;for(V=0;V<y.length;V+=1){const S=Cn(E,y,V);k[V]?k[V].p(S,I):(k[V]=Bn(S),k[V].c(),k[V].m(l,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=y.length}(!p||I[0]&16777216&&a!==(a=E[24].t("Select an Ollama instance")))&&n(l,"placeholder",a),I[0]&16&&mt(l,E[4]);const T={};I[2]&32&&(T.$$scope={dirty:I,ctx:E}),f.$set(T),E[5]?w?w.p(E,I):(w=Hn(E),w.c(),w.m(b.parentNode,b)):w&&(w.d(1),w=null)},i(E){p||(te(f.$$.fragment,E),p=!0)},o(E){re(f.$$.fragment,E),p=!1},d(E){E&&(u(e),u(v),u(b)),$t(k,E),xe(f),w&&w.d(E),m=!1,g()}}}function Bn(s){let e,t=s[64]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[66],X(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[64]+"")&&R(l,t)},d(a){a&&u(e)}}}function qu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-149ekpm"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(o,i){P(o,e,i),l||(a=le(e,"click",s[37]),l=!0)},p:pt,d(o){o&&u(e),l=!1,a()}}}function Hn(s){let e,t,l,a=s[6]?`(${s[6]}%)`:"",o;return{c(){e=L('Updating "'),t=L(s[5]),l=L('" '),o=L(a)},l(i){e=U(i,'Updating "'),t=U(i,s[5]),l=U(i,'" '),o=U(i,a)},m(i,c){P(i,e,c),P(i,t,c),P(i,l,c),P(i,o,c)},p(i,c){c[0]&32&&R(t,i[5]),c[0]&64&&a!==(a=i[6]?`(${i[6]}%)`:"")&&R(o,a)},d(i){i&&(u(e),u(t),u(l),u(o))}}}function Yu(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Ju(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function $n(s){let e,t,l=ot(Object.keys(s[25])),a=[];for(let i=0;i<l.length;i+=1)a[i]=Kn(Un(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=jt()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=jt()},m(i,c){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,c);P(i,e,c),t=!0},p(i,c){if(c[0]&50331648|c[1]&2){l=ot(Object.keys(i[25]));let f;for(f=0;f<l.length;f+=1){const v=Un(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=Kn(v),a[f].c(),te(a[f],1),a[f].m(e.parentNode,e))}for(It(),f=l.length;f<a.length;f+=1)o(f);Tt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),$t(a,i)}}}function jn(s){let e,t,l=s[59]+"",a,o,i,c,f,v,b=(s[25][s[59]].pullProgress??0)+"",p,m,g,y,k,w,E;y=new nl({props:{content:s[24].t("Cancel"),$$slots:{default:[Qu]},$$scope:{ctx:s}}});let I="digest"in s[25][s[59]]&&Zn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("div"),v=d("div"),p=L(b),m=L("%"),g=D(),Je(y.$$.fragment),k=D(),I&&I.c(),w=D(),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);a=U(S,l),S.forEach(u),o=A(V),i=h(V,"DIV",{class:!0});var B=_(i);c=h(B,"DIV",{class:!0});var M=_(c);f=h(M,"DIV",{class:!0});var W=_(f);v=h(W,"DIV",{class:!0,style:!0});var x=_(v);p=U(x,b),m=U(x,"%"),x.forEach(u),W.forEach(u),g=A(M),Qe(y.$$.fragment,M),M.forEach(u),k=A(B),I&&I.l(B),B.forEach(u),w=A(V),V.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(v,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(v,"width",Math.max(15,s[25][s[59]].pullProgress??0)+"%"),n(f,"class","flex-1"),n(c,"class","flex flex-row justify-between space-x-4 pr-2"),n(i,"class",""),n(e,"class","flex flex-col")},m(T,V){P(T,e,V),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,p),r(v,m),r(c,g),Xe(y,c,null),r(i,k),I&&I.m(i,null),r(e,w),E=!0},p(T,V){(!E||V[0]&33554432)&&l!==(l=T[59]+"")&&R(a,l),(!E||V[0]&33554432)&&b!==(b=(T[25][T[59]].pullProgress??0)+"")&&R(p,b),(!E||V[0]&33554432)&&Sl(v,"width",Math.max(15,T[25][T[59]].pullProgress??0)+"%");const S={};V[0]&16777216&&(S.content=T[24].t("Cancel")),V[0]&33554432|V[2]&32&&(S.$$scope={dirty:V,ctx:T}),y.$set(S),"digest"in T[25][T[59]]?I?I.p(T,V):(I=Zn(T),I.c(),I.m(i,null)):I&&(I.d(1),I=null)},i(T){E||(te(y.$$.fragment,T),E=!0)},o(T){re(y.$$.fragment,T),E=!1},d(T){T&&u(e),xe(y),I&&I.d()}}}function Qu(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function o(){return s[40](s[59])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-7r2t6n"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-gray-800 dark:text-gray-100")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function Zn(s){let e,t=s[25][s[59]].digest+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&33554432&&t!==(t=a[25][a[59]].digest+"")&&R(l,t)},d(a){a&&u(e)}}}function Kn(s){let e,t,l="pullProgress"in s[25][s[59]]&&jn(s);return{c(){l&&l.c(),e=jt()},l(a){l&&l.l(a),e=jt()},m(a,o){l&&l.m(a,o),P(a,e,o),t=!0},p(a,o){"pullProgress"in a[25][a[59]]?l?(l.p(a,o),o[0]&33554432&&te(l,1)):(l=jn(a),l.c(),te(l,1),l.m(e.parentNode,e)):l&&(It(),re(l,1,1,()=>{l=null}),Tt())},i(a){t||(te(l),t=!0)},o(a){re(l),t=!1},d(a){a&&u(e),l&&l.d(a)}}}function Gn(s){let e,t=s[24].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Select a model")+"")&&R(l,t)},d(a){a&&u(e)}}}function Wn(s){let e,t=s[59].name+" ("+(s[59].ollama.size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[59].name,X(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&67108880&&t!==(t=o[59].name+" ("+(o[59].ollama.size/1024**3).toFixed(1)+" GB)")&&R(l,t),i[0]&67108880&&a!==(a=o[59].name)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function Fn(s){let e,t,l,a,o,i,c,f,v=(s[15]??0)+"",b,p,m,g=s[14]&&zn(s);return{c(){e=d("div"),t=d("div"),l=L(s[12]),a=D(),o=d("div"),i=d("div"),c=d("div"),f=d("div"),b=L(v),p=L("%"),m=D(),g&&g.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);l=U(w,s[12]),w.forEach(u),a=A(k),o=h(k,"DIV",{class:!0});var E=_(o);i=h(E,"DIV",{class:!0});var I=_(i);c=h(I,"DIV",{class:!0});var T=_(c);f=h(T,"DIV",{class:!0,style:!0});var V=_(f);b=U(V,v),p=U(V,"%"),V.forEach(u),T.forEach(u),I.forEach(u),m=A(E),g&&g.l(E),E.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(f,"width",Math.max(15,s[15]??0)+"%"),n(c,"class","flex-1"),n(i,"class","flex flex-row justify-between space-x-4 pr-2"),n(o,"class",""),n(e,"class","flex flex-col mt-1")},m(y,k){P(y,e,k),r(e,t),r(t,l),r(e,a),r(e,o),r(o,i),r(i,c),r(c,f),r(f,b),r(f,p),r(o,m),g&&g.m(o,null)},p(y,k){k[0]&4096&&R(l,y[12]),k[0]&32768&&v!==(v=(y[15]??0)+"")&&R(b,v),k[0]&32768&&Sl(f,"width",Math.max(15,y[15]??0)+"%"),y[14]?g?g.p(y,k):(g=zn(y),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},d(y){y&&u(e),g&&g.d()}}}function zn(s){let e,t;return{c(){e=d("div"),t=L(s[14]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var a=_(e);t=U(a,s[14]),a.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(l,a){P(l,e,a),r(e,t)},p(l,a){a[0]&16384&&R(t,l[14])},d(l){l&&u(e)}}}function qn(s){let e,t,l,a=s[24].t("Upload a GGUF model")+"",o,i,c,f,v,b,p,m,g,y,k=s[24].t("To access the GGUF models available for downloading,")+"",w,E,I,T=s[24].t("click here.")+"",V,S,B,M;function W(ee,K){return ee[16]==="file"?xu:Xu}let x=W(s),z=x(s);function Y(ee,K){return ee[16]==="file"?tf:ef}let O=Y(s),H=O(s),Z=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Yn(s),N=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Jn(s);function C(ee,K){if(ee[22])return of;if(ee[21]!==null)return nf}let G=C(s),J=G&&G(s);return{c(){e=d("form"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("button"),z.c(),f=D(),v=d("div"),b=d("div"),H.c(),p=D(),Z&&Z.c(),m=D(),N&&N.c(),g=D(),y=d("div"),w=L(k),E=D(),I=d("a"),V=L(T),S=D(),J&&J.c(),this.h()},l(ee){e=h(ee,"FORM",{});var K=_(e);t=h(K,"DIV",{class:!0});var $=_(t);l=h($,"DIV",{class:!0});var q=_(l);o=U(q,a),q.forEach(u),i=A($),c=h($,"BUTTON",{class:!0,type:!0});var F=_(c);z.l(F),F.forEach(u),$.forEach(u),f=A(K),v=h(K,"DIV",{class:!0});var ne=_(v);b=h(ne,"DIV",{class:!0});var oe=_(b);H.l(oe),oe.forEach(u),p=A(ne),Z&&Z.l(ne),ne.forEach(u),m=A(K),N&&N.l(K),g=A(K),y=h(K,"DIV",{class:!0});var _e=_(y);w=U(_e,k),E=A(_e),I=h(_e,"A",{class:!0,href:!0,target:!0});var ce=_(I);V=U(ce,T),ce.forEach(u),_e.forEach(u),S=A(K),J&&J.l(K),K.forEach(u),this.h()},h(){n(l,"class","text-sm font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","mb-2 flex w-full justify-between"),n(b,"class","flex flex-col w-full"),n(v,"class","flex w-full mb-1.5"),n(I,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(I,"href","https://huggingface.co/models?search=gguf"),n(I,"target","_blank"),n(y,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(ee,K){P(ee,e,K),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),z.m(c,null),r(e,f),r(e,v),r(v,b),H.m(b,null),r(v,p),Z&&Z.m(v,null),r(e,m),N&&N.m(e,null),r(e,g),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),r(e,S),J&&J.m(e,null),B||(M=[le(c,"click",s[48]),le(e,"submit",Ml(s[55]))],B=!0)},p(ee,K){K[0]&16777216&&a!==(a=ee[24].t("Upload a GGUF model")+"")&&R(o,a),x===(x=W(ee))&&z?z.p(ee,K):(z.d(1),z=x(ee),z&&(z.c(),z.m(c,null))),O===(O=Y(ee))&&H?H.p(ee,K):(H.d(1),H=O(ee),H&&(H.c(),H.m(b,null))),ee[16]==="file"&&ee[17]&&ee[17].length>0||ee[16]==="url"&&ee[18]!==""?Z?Z.p(ee,K):(Z=Yn(ee),Z.c(),Z.m(v,null)):Z&&(Z.d(1),Z=null),ee[16]==="file"&&ee[17]&&ee[17].length>0||ee[16]==="url"&&ee[18]!==""?N?N.p(ee,K):(N=Jn(ee),N.c(),N.m(e,g)):N&&(N.d(1),N=null),K[0]&16777216&&k!==(k=ee[24].t("To access the GGUF models available for downloading,")+"")&&R(w,k),K[0]&16777216&&T!==(T=ee[24].t("click here.")+"")&&R(V,T),G===(G=C(ee))&&J?J.p(ee,K):(J&&J.d(1),J=G&&G(ee),J&&(J.c(),J.m(e,null)))},d(ee){ee&&u(e),z.d(),H.d(),Z&&Z.d(),N&&N.d(),J&&J.d(),B=!1,Gt(M)}}}function Xu(s){let e,t=s[24].t("URL Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("URL Mode")+"")&&R(l,t)},d(a){a&&u(e)}}}function xu(s){let e,t=s[24].t("File Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("File Mode")+"")&&R(l,t)},d(a){a&&u(e)}}}function ef(s){let e,t,l,a,o,i,c;return{c(){e=d("div"),t=d("input"),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);t=h(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(u),this.h()},h(){n(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),n(t,"type","url"),t.required=!0,n(t,"placeholder",a=s[24].t("Type Hugging Face Resolve (Download) URL")),n(e,"class",o="flex-1 "+(s[18]!==""?"mr-2":""))},m(f,v){P(f,e,v),r(e,t),X(t,s[18]),i||(c=le(t,"input",s[53]),i=!0)},p(f,v){v[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(f[18]!==""?"mr-2":""))&&n(t,"class",l),v[0]&16777216&&a!==(a=f[24].t("Type Hugging Face Resolve (Download) URL"))&&n(t,"placeholder",a),v[0]&262144&&t.value!==f[18]&&X(t,f[18]),v[0]&262144&&o!==(o="flex-1 "+(f[18]!==""?"mr-2":""))&&n(e,"class",o)},d(f){f&&u(e),i=!1,c()}}}function tf(s){let e,t,l,a,o,i,c;function f(p,m){return p[17]&&p[17].length>0?sf:lf}let v=f(s),b=v(s);return{c(){e=d("div"),t=d("input"),l=D(),a=d("button"),b.c(),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=_(e);t=h(m,"INPUT",{id:!0,type:!0,accept:!0}),l=A(m),a=h(m,"BUTTON",{type:!0,class:!0});var g=_(a);b.l(g),g.forEach(u),m.forEach(u),this.h()},h(){n(t,"id","model-upload-input"),n(t,"type","file"),n(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,n(a,"type","button"),n(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),n(e,"class",o="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(p,m){P(p,e,m),r(e,t),s[49](t),r(e,l),r(e,a),b.m(a,null),i||(c=[le(t,"change",s[50]),le(t,"change",s[51]),le(a,"click",s[52])],i=!0)},p(p,m){v===(v=f(p))&&b?b.p(p,m):(b.d(1),b=v(p),b&&(b.c(),b.m(a,null))),m[0]&131072&&o!==(o="flex-1 "+(p[17]&&p[17].length>0?"mr-2":""))&&n(e,"class",o)},d(p){p&&u(e),s[49](null),b.d(),i=!1,Gt(c)}}}function lf(s){let e=s[24].t("Click here to select")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&16777216&&e!==(e=l[24].t("Click here to select")+"")&&R(t,e)},d(l){l&&u(t)}}}function sf(s){let e=s[17][0].name+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&131072&&e!==(e=l[17][0].name+"")&&R(t,e)},d(l){l&&u(t)}}}function Yn(s){let e;function t(o,i){return o[9]?rf:af}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=_(e);a.l(i),i.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),n(e,"type","submit"),e.disabled=s[9]},m(o,i){P(o,e,i),a.m(e,null)},p(o,i){l!==(l=t(o))&&(a.d(1),a=l(o),a&&(a.c(),a.m(e,null))),i[0]&512&&(e.disabled=o[9])},d(o){o&&u(e),a.d()}}}function af(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function rf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function Jn(s){let e,t,l,a=s[24].t("Modelfile Content")+"",o,i,c,f,v;return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("textarea"),this.h()},l(b){e=h(b,"DIV",{});var p=_(e);t=h(p,"DIV",{});var m=_(t);l=h(m,"DIV",{class:!0});var g=_(l);o=U(g,a),g.forEach(u),i=A(m),c=h(m,"TEXTAREA",{class:!0,rows:!0}),_(c).forEach(u),m.forEach(u),p.forEach(u),this.h()},h(){n(l,"class","my-2.5 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),n(c,"rows","6")},m(b,p){P(b,e,p),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),X(c,s[19]),f||(v=le(c,"input",s[54]),f=!0)},p(b,p){p[0]&16777216&&a!==(a=b[24].t("Modelfile Content")+"")&&R(o,a),p[0]&524288&&X(c,b[19])},d(b){b&&u(e),f=!1,v()}}}function nf(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,c,f=(s[21]??0)+"",v,b,p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),v=L(f),b=L("%"),p=D(),m=d("div"),g=L(s[20]),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);a=U(w,l),w.forEach(u),o=A(k),i=h(k,"DIV",{class:!0});var E=_(i);c=h(E,"DIV",{class:!0,style:!0});var I=_(c);v=U(I,f),b=U(I,"%"),I.forEach(u),E.forEach(u),p=A(k),m=h(k,"DIV",{class:!0,style:!0});var T=_(m);g=U(T,s[20]),T.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(c,"width",Math.max(15,s[21]??0)+"%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(m,"class","mt-1 text-xs dark:text-gray-500"),Sl(m,"font-size","0.5rem"),n(e,"class","mt-2")},m(y,k){P(y,e,k),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,v),r(c,b),r(e,p),r(e,m),r(m,g)},p(y,k){k[0]&16777216&&l!==(l=y[24].t("Upload Progress")+"")&&R(a,l),k[0]&2097152&&f!==(f=(y[21]??0)+"")&&R(v,f),k[0]&2097152&&Sl(c,"width",Math.max(15,y[21]??0)+"%"),k[0]&1048576&&R(g,y[20])},d(y){y&&u(e)}}}function of(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,c,f,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=L(s[22]),v=D(),b=d("div"),p=L(s[20]),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0,style:!0});var w=_(c);f=U(w,s[22]),w.forEach(u),k.forEach(u),v=A(g),b=h(g,"DIV",{class:!0,style:!0});var E=_(b);p=U(E,s[20]),E.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(c,"width","100%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(b,"class","mt-1 text-xs dark:text-gray-500"),Sl(b,"font-size","0.5rem"),n(e,"class","mt-2")},m(m,g){P(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(e,v),r(e,b),r(b,p)},p(m,g){g[0]&16777216&&l!==(l=m[24].t("Upload Progress")+"")&&R(a,l),g[0]&4194304&&R(f,m[22]),g[0]&1048576&&R(p,m[20])},d(m){m&&u(e)}}}function uf(s){let e,t,l,a,o,i,c,f;function v(y){s[34](y)}let b={};s[1]!==void 0&&(b.show=s[1]),e=new Sa({props:b}),Nt.push(()=>Ct(e,"show",v)),e.$on("confirm",s[35]);const p=[Gu,Ku,Zu],m=[];function g(y,k){return y[2]?0:y[2]===!1?1:2}return i=g(s),c=m[i]=p[i](s),{c(){Je(e.$$.fragment),l=D(),a=d("div"),o=d("div"),c.c(),this.h()},l(y){Qe(e.$$.fragment,y),l=A(y),a=h(y,"DIV",{class:!0});var k=_(a);o=h(k,"DIV",{class:!0});var w=_(o);c.l(w),w.forEach(u),k.forEach(u),this.h()},h(){n(o,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(a,"class","flex flex-col h-full justify-between text-sm")},m(y,k){Xe(e,y,k),P(y,l,k),P(y,a,k),r(a,o),m[i].m(o,null),f=!0},p(y,k){const w={};!t&&k[0]&2&&(t=!0,w.show=y[1],Ut(()=>t=!1)),e.$set(w);let E=i;i=g(y),i===E?m[i].p(y,k):(It(),re(m[E],1,1,()=>{m[E]=null}),Tt(),c=m[i],c?c.p(y,k):(c=m[i]=p[i](y),c.c()),te(c,1),c.m(o,null))},i(y){f||(te(e.$$.fragment,y),te(c),f=!0)},o(y){re(e.$$.fragment,y),re(c),f=!1},d(y){y&&(u(l),u(a)),xe(e,y),m[i].d()}}}const ff=3;function cf(s,e,t){let l,a,o;Ft(s,gs,pe=>t(25,a=pe)),Ft(s,rl,pe=>t(26,o=pe));const i=kl("i18n");Ft(s,i,pe=>t(24,l=pe));const c=async()=>await ms(localStorage.token);let f,v=!1,b=null,p=[],m=null,g=null,y=null,k=!1,w=null,E=!1,I="",T=!1,V="",S="",B="",M=null,W="",x=null,z="file",Y=null,O="",H=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,Z="",N=null,C="",G="";const J=async()=>{for(const pe of o.filter(fe=>{var Ee;return!((fe==null?void 0:fe.preset)??!1)&&fe.owned_by==="ollama"&&(m===null?!0:(((Ee=fe==null?void 0:fe.ollama)==null?void 0:Ee.urls)??[]).includes(m))})){console.log(pe),t(5,g=pe.id);const[fe,Ee]=await wr(localStorage.token,pe.id,m).catch(ae=>(De.error(ae),null));if(fe){const ae=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;)try{const{value:ye,done:Ge}=await ae.read();if(Ge)break;let Ie=ye.split(`
`);for(const ve of Ie)if(ve!==""){let he=JSON.parse(ve);if(console.log(he),he.error)throw he.error;if(he.detail)throw he.detail;he.status&&(he.digest?(t(6,y=0),he.completed?t(6,y=Math.round(he.completed/he.total*1e3)/10):t(6,y=100)):De.success(he.status))}}catch(ye){console.log(ye)}}}t(5,g=null),t(6,y=null)},ee=async()=>{const pe=I.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[pe]){De.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:pe}));return}if(Object.keys(a).length===ff){De.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[fe,Ee]=await wr(localStorage.token,pe,m).catch(ae=>(De.error(ae),null));if(fe){const ae=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(gs.set({...a,[pe]:{...a[pe],abortController:Ee,reader:ae,done:!1}});;)try{const{value:ye,done:Ge}=await ae.read();if(Ge)break;let Ie=ye.split(`
`);for(const ve of Ie)if(ve!==""){let he=JSON.parse(ve);if(console.log(he),he.error)throw he.error;if(he.detail)throw he.detail;if(he.status)if(he.digest){let Ve=0;he.completed?Ve=Math.round(he.completed/he.total*1e3)/10:Ve=100,gs.set({...a,[pe]:{...a[pe],pullProgress:Ve,digest:he.digest}})}else De.success(he.status),gs.set({...a,[pe]:{...a[pe],done:he.status==="success"}})}}catch(ye){console.log(ye),typeof ye!="string"&&(ye=ye.message),De.error(ye)}console.log(a[pe]),a[pe].done?(De.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:pe})),rl.set(await c())):De.error(l.t("Download canceled")),delete a[pe],gs.set({...a})}t(10,I=""),t(9,E=!1)},K=async()=>{t(9,E=!0);let pe=!1,fe=null,Ee="";if(z==="file"){const ae=Y?Y[0]:null;ae&&(t(22,C="Uploading..."),fe=await co(localStorage.token,ae,m).catch(ye=>(De.error(ye),null)))}else t(21,N=0),fe=await ho(localStorage.token,O,m).catch(ae=>(De.error(ae),null));if(fe&&fe.ok){const ae=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:ye,done:Ge}=await ae.read();if(Ge)break;try{let Ie=ye.split(`
`);for(const ve of Ie)if(ve!==""){let he=JSON.parse(ve.replace(/^data: /,""));if(he.progress&&(C&&t(22,C=""),t(21,N=he.progress)),he.error)throw he.error;he.done&&(t(20,Z=he.blob),Ee=he.name,pe=!0)}}catch(Ie){console.log(Ie)}}}else{const ae=await(fe==null?void 0:fe.json());De.error((ae==null?void 0:ae.detail)??ae)}if(pe){const ae=await Ir(localStorage.token,`${Ee}:latest`,`FROM @${Z}
${H}`);if(ae&&ae.ok){const ye=ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:Ge,done:Ie}=await ye.read();if(Ie)break;try{let ve=Ge.split(`
`);for(const he of ve)if(he!==""){console.log(he);let Ve=JSON.parse(he);if(console.log(Ve),Ve.error)throw Ve.error;if(Ve.detail)throw Ve.detail;Ve.status&&(!Ve.digest&&!Ve.status.includes("writing")&&!Ve.status.includes("sha256")?De.success(Ve.status):Ve.digest&&(W=Ve.digest,Ve.completed?x=Math.round(Ve.completed/Ve.total*1e3)/10:x=100))}}catch(ve){console.log(ve),De.error(ve)}}}}t(18,O=""),f&&t(0,f.value="",f),t(17,Y=null),t(9,E=!1),t(21,N=null),rl.set(await c())},$=async()=>{await yr(localStorage.token,G,m).catch(fe=>{De.error(fe)})&&De.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:G})),t(23,G=""),rl.set(await c())},q=async pe=>{const{reader:fe,abortController:Ee}=a[pe];Ee&&Ee.abort(),fe&&(await fe.cancel(),delete a[pe],gs.set({...a}),await yr(localStorage.token,pe),De.success(`${pe} download has been canceled`))},F=async()=>{t(11,T=!0);const pe=await Ir(localStorage.token,V,S,m).catch(fe=>(De.error(fe),null));if(pe&&pe.ok){const fe=pe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:Ee,done:ae}=await fe.read();if(ae)break;try{let ye=Ee.split(`
`);for(const Ge of ye)if(Ge!==""){console.log(Ge);let Ie=JSON.parse(Ge);if(console.log(Ie),Ie.error)throw Ie.error;if(Ie.detail)throw Ie.detail;Ie.status&&(!Ie.digest&&!Ie.status.includes("writing")&&!Ie.status.includes("sha256")?De.success(Ie.status):Ie.digest&&(t(14,B=Ie.digest),Ie.completed?t(15,M=Math.round(Ie.completed/Ie.total*1e3)/10):t(15,M=100)))}}catch(ye){console.log(ye),De.error(ye)}}}rl.set(await c()),t(11,T=!1),t(12,V=""),t(13,S=""),t(14,B=""),t(15,M=null)};wl(async()=>{(await Ei(localStorage.token)).ENABLE_OLLAMA_API?(t(2,b=!0),await Promise.all([(async()=>{t(3,p=await ki(localStorage.token).catch(fe=>(De.error(fe),[]))),p.length>0&&t(4,m=0)})(),(async()=>{t(8,w=await Va(localStorage.token).catch(fe=>!1))})()])):(t(2,b=!1),De.error(l.t("Ollama API is disabled")))});function ne(pe){v=pe,t(1,v)}const oe=()=>{$()};function _e(){m=qt(this),t(4,m)}const ce=()=>{J()};function Ae(){I=this.value,t(10,I)}const Se=()=>{ee()},Oe=pe=>{q(pe)},we=pe=>{var fe;return!((pe==null?void 0:pe.preset)??!1)&&pe.owned_by==="ollama"&&(m===null?!0:(((fe=pe==null?void 0:pe.ollama)==null?void 0:fe.urls)??[]).includes(m))};function Be(){G=qt(this),t(23,G),t(4,m)}const me=()=>{t(1,v=!0)};function Pe(){V=this.value,t(12,V)}function ue(){S=this.value,t(13,S)}const ke=()=>{F()},qe=()=>{t(7,k=!k)},Ue=()=>{z==="file"?t(16,z="url"):t(16,z="file")};function Ne(pe){Nt[pe?"unshift":"push"](()=>{f=pe,t(0,f)})}function et(){Y=this.files,t(17,Y)}const He=()=>{console.log(Y)},Ke=()=>{f.click()};function at(){O=this.value,t(18,O)}function de(){H=this.value,t(19,H)}return[f,v,b,p,m,g,y,k,w,E,I,T,V,S,B,M,z,Y,O,H,Z,N,C,G,l,a,o,i,J,ee,K,$,q,F,ne,oe,_e,ce,Ae,Se,Oe,we,Be,me,Pe,ue,ke,qe,Ue,Ne,et,He,Ke,at,de,()=>{K()}]}class df extends _l{constructor(e){super(),vl(this,e,cf,uf,hl,{},null,[-1,-1,-1])}}function Qn(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function Xn(s,e,t){const l=s.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function hf(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Je(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Qe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){P(o,e,i),r(e,t),Xe(l,t,null),a=!0},p:pt,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),xe(l)}}}function _f(s){let e,t,l,a,o=s[6].t("OpenAI API")+"",i,c,f,v,b,p,m,g,y,k,w,E,I=s[6].t("Ollama API")+"",T,V,S,B,M,W,x;function z(C){s[13](C)}let Y={};s[4]!==void 0&&(Y.state=s[4]),v=new El({props:Y}),Nt.push(()=>Ct(v,"state",z)),v.$on("change",s[14]);let O=s[4]&&xn(s);function H(C){s[20](C)}let Z={};s[5]!==void 0&&(Z.state=s[5]),B=new El({props:Z}),Nt.push(()=>Ct(B,"state",H)),B.$on("change",s[21]);let N=s[5]&&li(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=L(o),c=D(),f=d("div"),Je(v.$$.fragment),p=D(),O&&O.c(),m=D(),g=d("hr"),y=D(),k=d("div"),w=d("div"),E=d("div"),T=L(I),V=D(),S=d("div"),Je(B.$$.fragment),W=D(),N&&N.c(),this.h()},l(C){e=h(C,"DIV",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var J=_(t);l=h(J,"DIV",{class:!0});var ee=_(l);a=h(ee,"DIV",{class:!0});var K=_(a);i=U(K,o),K.forEach(u),c=A(ee),f=h(ee,"DIV",{class:!0});var $=_(f);Qe(v.$$.fragment,$),$.forEach(u),ee.forEach(u),p=A(J),O&&O.l(J),J.forEach(u),G.forEach(u),m=A(C),g=h(C,"HR",{class:!0}),y=A(C),k=h(C,"DIV",{class:!0});var q=_(k);w=h(q,"DIV",{class:!0});var F=_(w);E=h(F,"DIV",{class:!0});var ne=_(E);T=U(ne,I),ne.forEach(u),V=A(F),S=h(F,"DIV",{class:!0});var oe=_(S);Qe(B.$$.fragment,oe),oe.forEach(u),F.forEach(u),W=A(q),N&&N.l(q),q.forEach(u),this.h()},h(){n(a,"class","font-medium"),n(f,"class","mt-1"),n(l,"class","flex justify-between items-center text-sm"),n(t,"class","mt-2 space-y-2 pr-1.5"),n(e,"class","space-y-3"),n(g,"class","dark:border-gray-850"),n(E,"class","font-medium"),n(S,"class","mt-1"),n(w,"class","flex justify-between items-center text-sm"),n(k,"class","pr-1.5 space-y-2")},m(C,G){P(C,e,G),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),r(l,f),Xe(v,f,null),r(t,p),O&&O.m(t,null),P(C,m,G),P(C,g,G),P(C,y,G),P(C,k,G),r(k,w),r(w,E),r(E,T),r(w,V),r(w,S),Xe(B,S,null),r(k,W),N&&N.m(k,null),x=!0},p(C,G){(!x||G[0]&64)&&o!==(o=C[6].t("OpenAI API")+"")&&R(i,o);const J={};!b&&G[0]&16&&(b=!0,J.state=C[4],Ut(()=>b=!1)),v.$set(J),C[4]?O?(O.p(C,G),G[0]&16&&te(O,1)):(O=xn(C),O.c(),te(O,1),O.m(t,null)):O&&(It(),re(O,1,1,()=>{O=null}),Tt()),(!x||G[0]&64)&&I!==(I=C[6].t("Ollama API")+"")&&R(T,I);const ee={};!M&&G[0]&32&&(M=!0,ee.state=C[5],Ut(()=>M=!1)),B.$set(ee),C[5]?N?(N.p(C,G),G[0]&32&&te(N,1)):(N=li(C),N.c(),te(N,1),N.m(k,null)):N&&(It(),re(N,1,1,()=>{N=null}),Tt())},i(C){x||(te(v.$$.fragment,C),te(O),te(B.$$.fragment,C),te(N),x=!0)},o(C){re(v.$$.fragment,C),re(O),re(B.$$.fragment,C),re(N),x=!1},d(C){C&&(u(e),u(m),u(g),u(y),u(k)),xe(v),O&&O.d(),xe(B),N&&N.d()}}}function xn(s){let e,t,l=ot(s[2]),a=[];for(let i=0;i<l.length;i+=1)a[i]=ti(Xn(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){e=d("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);for(let f=0;f<a.length;f+=1)a[f].l(c);c.forEach(u),this.h()},h(){n(e,"class","flex flex-col gap-1")},m(i,c){P(i,e,c);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t=!0},p(i,c){if(c[0]&590){l=ot(i[2]);let f;for(f=0;f<l.length;f+=1){const v=Xn(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=ti(v),a[f].c(),te(a[f],1),a[f].m(e,null))}for(It(),f=l.length;f<a.length;f+=1)o(f);Tt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),$t(a,i)}}}function ei(s){let e,t,l;return t=new nl({props:{content:"Pipelines",$$slots:{default:[vf]},$$scope:{ctx:s}}}),{c(){e=d("div"),Je(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);Qe(t.$$.fragment,o),o.forEach(u),this.h()},h(){n(e,"class","absolute top-2.5 right-2.5")},m(a,o){P(a,e,o),Xe(t,e,null),l=!0},i(a){l||(te(t.$$.fragment,a),l=!0)},o(a){re(t.$$.fragment,a),l=!1},d(a){a&&u(e),xe(t)}}}function vf(s){let e,t,l,a;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),a=Et("path"),this.h()},l(o){e=kt(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=kt(i,"path",{d:!0}),_(t).forEach(u),l=kt(i,"path",{d:!0}),_(l).forEach(u),a=kt(i,"path",{d:!0}),_(a).forEach(u),i.forEach(u),this.h()},h(){n(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),n(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),n(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(o,i){P(o,e,i),r(e,t),r(e,l),r(e,a)},p:pt,d(o){o&&u(e)}}}function pf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[18](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function gf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){P(o,e,i),l||(a=le(e,"click",s[17]),l=!0)},p:pt,d(o){o&&u(e),l=!1,a()}}}function mf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[19](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function ti(s){let e,t,l,a,o,i,c,f,v,b,p,m,g,y,k,w,E=s[6].t("WebUI will make requests to")+"",I,T,V,S,B=s[29]+"",M,W,x,z,Y,O;function H(){s[15].call(l,s[32],s[31])}let Z=s[3][s[29]]&&ei(s);function N(K){s[16](K,s[31])}let C={placeholder:s[6].t("API Key")};s[1][s[31]]!==void 0&&(C.value=s[1][s[31]]),f=new pl({props:C}),Nt.push(()=>Ct(f,"value",N));function G(K,$){return K[31]===0?gf:pf}let ee=G(s)(s);return y=new nl({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[mf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),Z&&Z.c(),c=D(),Je(f.$$.fragment),b=D(),p=d("div"),ee.c(),m=D(),g=d("div"),Je(y.$$.fragment),k=D(),w=d("div"),I=L(E),T=D(),V=d("span"),S=L("'"),M=L(B),W=L("/models'"),x=D(),this.h()},l(K){e=h(K,"DIV",{class:!0});var $=_(e);t=h($,"DIV",{class:!0});var q=_(t);l=h(q,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),i=A(q),Z&&Z.l(q),q.forEach(u),c=A($),Qe(f.$$.fragment,$),b=A($),p=h($,"DIV",{class:!0});var F=_(p);ee.l(F),F.forEach(u),m=A($),g=h($,"DIV",{class:!0});var ne=_(g);Qe(y.$$.fragment,ne),ne.forEach(u),$.forEach(u),k=A(K),w=h(K,"DIV",{class:!0});var oe=_(w);I=U(oe,E),T=A(oe),V=h(oe,"SPAN",{class:!0});var _e=_(V);S=U(_e,"'"),M=U(_e,B),W=U(_e,"/models'"),_e.forEach(u),x=A(oe),oe.forEach(u),this.h()},h(){n(l,"class",a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[6].t("API Base URL")),n(l,"autocomplete","off"),n(t,"class","flex-1 relative"),n(p,"class","self-center flex items-center"),n(g,"class","flex"),n(e,"class","flex w-full gap-2"),n(V,"class","text-gray-200"),n(w,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(K,$){P(K,e,$),r(e,t),r(t,l),X(l,s[29]),r(t,i),Z&&Z.m(t,null),r(e,c),Xe(f,e,null),r(e,b),r(e,p),ee.m(p,null),r(e,m),r(e,g),Xe(y,g,null),P(K,k,$),P(K,w,$),r(w,I),r(w,T),r(w,V),r(V,S),r(V,M),r(V,W),r(w,x),z=!0,Y||(O=le(l,"input",H),Y=!0)},p(K,$){s=K,(!z||$[0]&12&&a!==(a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"))&&n(l,"class",a),(!z||$[0]&64&&o!==(o=s[6].t("API Base URL")))&&n(l,"placeholder",o),$[0]&4&&l.value!==s[29]&&X(l,s[29]),s[3][s[29]]?Z?$[0]&12&&te(Z,1):(Z=ei(s),Z.c(),te(Z,1),Z.m(t,null)):Z&&(It(),re(Z,1,1,()=>{Z=null}),Tt());const q={};$[0]&64&&(q.placeholder=s[6].t("API Key")),!v&&$[0]&2&&(v=!0,q.value=s[1][s[31]],Ut(()=>v=!1)),f.$set(q),ee.p(s,$);const F={};$[1]&4&&(F.$$scope={dirty:$,ctx:s}),y.$set(F),(!z||$[0]&64)&&E!==(E=s[6].t("WebUI will make requests to")+"")&&R(I,E),(!z||$[0]&4)&&B!==(B=s[29]+"")&&R(M,B)},i(K){z||(te(Z),te(f.$$.fragment,K),te(y.$$.fragment,K),z=!0)},o(K){re(Z),re(f.$$.fragment,K),re(y.$$.fragment,K),z=!1},d(K){K&&(u(e),u(k),u(w)),Z&&Z.d(),xe(f),ee.d(),xe(y),Y=!1,O()}}}function li(s){let e,t,l,a,o=s[6].t("Trouble accessing Ollama?")+"",i,c,f,v=s[6].t("Click here for help.")+"",b,p,m=ot(s[0]),g=[];for(let k=0;k<m.length;k+=1)g[k]=si(Qn(s,m,k));const y=k=>re(g[k],1,1,()=>{g[k]=null});return{c(){e=d("div"),t=d("div");for(let k=0;k<g.length;k+=1)g[k].c();l=D(),a=d("div"),i=L(o),c=D(),f=d("a"),b=L(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);for(let V=0;V<g.length;V+=1)g[V].l(E);E.forEach(u),w.forEach(u),l=A(k),a=h(k,"DIV",{class:!0});var I=_(a);i=U(I,o),c=A(I),f=h(I,"A",{class:!0,href:!0,target:!0});var T=_(f);b=U(T,v),T.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","flex-1 flex flex-col gap-2"),n(e,"class","flex w-full gap-1.5"),n(f,"class","text-gray-300 font-medium underline"),n(f,"href","https://github.com/open-webui/open-webui#troubleshooting"),n(f,"target","_blank"),n(a,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(k,w){P(k,e,w),r(e,t);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(t,null);P(k,l,w),P(k,a,w),r(a,i),r(a,c),r(a,f),r(f,b),p=!0},p(k,w){if(w[0]&1089){m=ot(k[0]);let E;for(E=0;E<m.length;E+=1){const I=Qn(k,m,E);g[E]?(g[E].p(I,w),te(g[E],1)):(g[E]=si(I),g[E].c(),te(g[E],1),g[E].m(t,null))}for(It(),E=m.length;E<g.length;E+=1)y(E);Tt()}(!p||w[0]&64)&&o!==(o=k[6].t("Trouble accessing Ollama?")+"")&&R(i,o),(!p||w[0]&64)&&v!==(v=k[6].t("Click here for help.")+"")&&R(b,v)},i(k){if(!p){for(let w=0;w<m.length;w+=1)te(g[w]);p=!0}},o(k){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)re(g[w]);p=!1},d(k){k&&(u(e),u(l),u(a)),$t(g,k)}}}function bf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[24](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function Ef(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){P(o,e,i),l||(a=le(e,"click",s[23]),l=!0)},p:pt,d(o){o&&u(e),l=!1,a()}}}function kf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[25](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){P(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function si(s){let e,t,l,a,o,i,c,f,v,b,p,m;function g(){s[22].call(t,s[30],s[31])}function y(E,I){return E[31]===0?Ef:bf}let w=y(s)(s);return f=new nl({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[kf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=D(),o=d("div"),w.c(),i=D(),c=d("div"),Je(f.$$.fragment),v=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"INPUT",{class:!0,placeholder:!0}),a=A(I),o=h(I,"DIV",{class:!0});var T=_(o);w.l(T),T.forEach(u),i=A(I),c=h(I,"DIV",{class:!0});var V=_(c);Qe(f.$$.fragment,V),V.forEach(u),v=A(I),I.forEach(u),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[6].t("Enter URL (e.g. http://localhost:11434)")),n(o,"class","self-center flex items-center"),n(c,"class","flex"),n(e,"class","flex gap-1.5")},m(E,I){P(E,e,I),r(e,t),X(t,s[29]),r(e,a),r(e,o),w.m(o,null),r(e,i),r(e,c),Xe(f,c,null),r(e,v),b=!0,p||(m=le(t,"input",g),p=!0)},p(E,I){s=E,(!b||I[0]&64&&l!==(l=s[6].t("Enter URL (e.g. http://localhost:11434)")))&&n(t,"placeholder",l),I[0]&1&&t.value!==s[29]&&X(t,s[29]),w.p(s,I);const T={};I[1]&4&&(T.$$scope={dirty:I,ctx:s}),f.$set(T)},i(E){b||(te(f.$$.fragment,E),b=!0)},o(E){re(f.$$.fragment,E),b=!1},d(E){E&&u(e),w.d(),xe(f),p=!1,m()}}}function wf(s){let e,t,l,a,o,i,c,f=s[6].t("Save")+"",v,b,p,m;const g=[_f,hf],y=[];function k(w,E){return w[4]!==null&&w[5]!==null?0:1}return l=k(s),a=y[l]=g[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),c=d("button"),v=L(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var V=_(c);v=U(V,f),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(w,E){P(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),b=!0,p||(m=le(e,"submit",Ml(s[26])),p=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(It(),re(y[I],1,1,()=>{y[I]=null}),Tt(),a=y[l],a?a.p(w,E):(a=y[l]=g[l](w),a.c()),te(a,1),a.m(t,null)),(!b||E[0]&64)&&f!==(f=w[6].t("Save")+"")&&R(v,f)},i(w){b||(te(a),b=!0)},o(w){re(a),b=!1},d(w){w&&u(e),y[l].d(),p=!1,m()}}}function yf(s,e,t){let l,a;Ft(s,Ma,C=>t(27,l=C));const o=Ms(),i=kl("i18n");Ft(s,i,C=>t(6,a=C));const c=async()=>await ms(localStorage.token);let f=[""],v=[""],b=[""],p={},m=null,g=null;const y=async C=>{t(2,b=b.map(J=>J.replace(/\/$/,""))),t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v));const G=await Ar(localStorage.token,C).catch(J=>(De.error(J),null));G&&(De.success(a.t("Server connection verified")),G.pipelines&&t(3,p[b[C]]=!0,p)),await rl.set(await c())},k=async C=>{t(0,f=f.filter(J=>J!=="").map(J=>J.replace(/\/$/,""))),t(0,f=await Tr(localStorage.token,f)),await Va(localStorage.token,C).catch(J=>(De.error(J),null))&&De.success(a.t("Server connection verified")),await rl.set(await c())},w=async()=>{if(t(2,b=b.map(C=>C.replace(/\/$/,""))),v.length!==b.length&&(v.length>b.length&&t(1,v=v.slice(0,b.length)),v.length<b.length)){const C=b.length-v.length;for(let G=0;G<C;G++)v.push("")}t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v)),await rl.set(await c())},E=async()=>{t(0,f=f.filter(C=>C!=="").map(C=>C.replace(/\/$/,""))),console.log(f),f.length===0?(t(5,g=!1),await Dr(localStorage.token,g),De.info(a.t("Ollama API disabled"))):(t(0,f=await Tr(localStorage.token,f)),await Va(localStorage.token).catch(G=>(De.error(G),null))&&(De.success(a.t("Server connection verified")),await rl.set(await c())))};wl(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,f=await ki(localStorage.token))})(),(async()=>{t(2,b=await _o(localStorage.token))})(),(async()=>{t(1,v=await vo(localStorage.token))})()]),b.forEach(async(J,ee)=>{(await Ar(localStorage.token,ee)).pipelines&&t(3,p[J]=!0,p)});const C=await Ei(localStorage.token),G=await po(localStorage.token);t(4,m=G.ENABLE_OPENAI_API),t(5,g=C.ENABLE_OLLAMA_API)}});function I(C){m=C,t(4,m)}const T=async()=>{go(localStorage.token,m)};function V(C,G){C[G]=this.value,t(2,b)}function S(C,G){s.$$.not_equal(v[G],C)&&(v[G]=C,t(1,v))}const B=()=>{t(2,b=[...b,""]),t(1,v=[...v,""])},M=C=>{t(2,b=b.filter((G,J)=>C!==J)),t(1,v=v.filter((G,J)=>C!==J))},W=C=>{y(C)};function x(C){g=C,t(5,g)}const z=async()=>{Dr(localStorage.token,g),f.length===0&&t(0,f=[""])};function Y(C,G){C[G]=this.value,t(0,f)}return[f,v,b,p,m,g,a,o,i,y,k,w,E,I,T,V,S,B,M,W,x,z,Y,()=>{t(0,f=[...f,""])},C=>{t(0,f=f.filter((G,J)=>C!==J))},C=>{k(C)},()=>{w(),E(),o("save")}]}class If extends _l{constructor(e){super(),vl(this,e,yf,wf,hl,{},null,[-1,-1])}}function ai(s,e,t){const l=s.slice();return l[62]=e[t],l}function ri(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}

									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1u2pzpa"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-3 self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function ni(s){let e,t,l,a,o,i,c,f,v,b=s[20].t("Embedding Batch Size")+"",p,m,g,y,k,w,E,I,T,V;function S(M){s[36](M)}let B={placeholder:s[20].t("API Key")};return s[16]!==void 0&&(B.value=s[16]),o=new pl({props:B}),Nt.push(()=>Ct(o,"value",S)),{c(){e=d("div"),t=d("input"),a=D(),Je(o.$$.fragment),c=D(),f=d("div"),v=d("div"),p=L(b),m=D(),g=d("div"),y=d("input"),k=D(),w=d("div"),E=d("input"),this.h()},l(M){e=h(M,"DIV",{class:!0});var W=_(e);t=h(W,"INPUT",{class:!0,placeholder:!0}),a=A(W),Qe(o.$$.fragment,W),W.forEach(u),c=A(M),f=h(M,"DIV",{class:!0});var x=_(f);v=h(x,"DIV",{class:!0});var z=_(v);p=U(z,b),z.forEach(u),m=A(x),g=h(x,"DIV",{class:!0});var Y=_(g);y=h(Y,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),Y.forEach(u),k=A(x),w=h(x,"DIV",{class:!0});var O=_(w);E=h(O,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),O.forEach(u),x.forEach(u),this.h()},h(){n(t,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[20].t("API Base URL")),t.required=!0,n(e,"class","my-0.5 flex gap-2"),n(v,"class","self-center text-xs font-medium"),n(y,"id","steps-range"),n(y,"type","range"),n(y,"min","1"),n(y,"max","2048"),n(y,"step","1"),n(y,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),n(g,"class","flex-1"),n(E,"type","number"),n(E,"class","bg-transparent text-center w-14"),n(E,"min","-2"),n(E,"max","16000"),n(E,"step","1"),n(w,"class",""),n(f,"class","flex mt-0.5 space-x-2")},m(M,W){P(M,e,W),r(e,t),X(t,s[17]),r(e,a),Xe(o,e,null),P(M,c,W),P(M,f,W),r(f,v),r(v,p),r(f,m),r(f,g),r(g,y),X(y,s[18]),r(f,k),r(f,w),r(w,E),X(E,s[18]),I=!0,T||(V=[le(t,"input",s[35]),le(y,"change",s[37]),le(y,"input",s[37]),le(E,"input",s[38])],T=!0)},p(M,W){(!I||W[0]&1048576&&l!==(l=M[20].t("API Base URL")))&&n(t,"placeholder",l),W[0]&131072&&t.value!==M[17]&&X(t,M[17]);const x={};W[0]&1048576&&(x.placeholder=M[20].t("API Key")),!i&&W[0]&65536&&(i=!0,x.value=M[16],Ut(()=>i=!1)),o.$set(x),(!I||W[0]&1048576)&&b!==(b=M[20].t("Embedding Batch Size")+"")&&R(p,b),W[0]&262144&&X(y,M[18]),W[0]&262144&&ol(E.value)!==M[18]&&X(E,M[18])},i(M){I||(te(o.$$.fragment,M),I=!0)},o(M){re(o.$$.fragment,M),I=!1},d(M){M&&(u(e),u(c),u(f)),xe(o),T=!1,Gt(V)}}}function Tf(s){let e,t=s[20].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Off")+"")&&R(l,t)},d(a){a&&u(e)}}}function Df(s){let e,t=s[20].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("On")+"")&&R(l,t)},d(a){a&&u(e)}}}function Af(s){let e,t,l,a,o,i,c,f=s[5]===""&&ii(s);return{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),f&&f.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var p=_(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(u),o=A(b),f&&f.l(b),b.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(v,b){P(v,e,b),r(e,t),r(t,l),X(l,s[6]),r(e,o),f&&f.m(e,null),i||(c=le(l,"input",s[41]),i=!0)},p(v,b){b[0]&3145792&&a!==(a=v[20].t("Set embedding model (e.g. {{model}})",{model:v[6].slice(-40)}))&&n(l,"placeholder",a),b[0]&2097216&&l.value!==v[6]&&X(l,v[6]),v[5]===""?f?f.p(v,b):(f=ii(v),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(v){v&&u(e),f&&f.d(),i=!1,c()}}}function Vf(s){let e,t,l,a,o,i,c,f=!s[6]&&oi(s),v=ot(s[21].filter(_i)),b=[];for(let p=0;p<v.length;p+=1)b[p]=ui(ai(s,v,p));return{c(){e=d("div"),t=d("div"),l=d("select"),f&&f.c(),a=jt();for(let p=0;p<b.length;p+=1)b[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var y=_(l);f&&f.l(y),a=jt();for(let k=0;k<b.length;k+=1)b[k].l(y);y.forEach(u),g.forEach(u),m.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[20].t("Select a model")),l.required=!0,s[6]===void 0&&Yt(()=>s[40].call(l)),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(p,m){P(p,e,m),r(e,t),r(t,l),f&&f.m(l,null),r(l,a);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(l,null);mt(l,s[6],!0),i||(c=le(l,"change",s[40]),i=!0)},p(p,m){if(p[6]?f&&(f.d(1),f=null):f?f.p(p,m):(f=oi(p),f.c(),f.m(l,a)),m[0]&2097152){v=ot(p[21].filter(_i));let g;for(g=0;g<v.length;g+=1){const y=ai(p,v,g);b[g]?b[g].p(y,m):(b[g]=ui(y),b[g].c(),b[g].m(l,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=v.length}m[0]&1048576&&o!==(o=p[20].t("Select a model"))&&n(l,"placeholder",o),m[0]&2097216&&mt(l,p[6])},d(p){p&&u(e),f&&f.d(),$t(b,p),i=!1,c()}}}function ii(s){let e,t,l;function a(c,f){return c[1]?Mf:Sf}let o=a(s),i=o(s);return{c(){e=d("button"),i.c(),this.h()},l(c){e=h(c,"BUTTON",{class:!0});var f=_(e);i.l(f),f.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[1]},m(c,f){P(c,e,f),i.m(e,null),t||(l=le(e,"click",s[42]),t=!0)},p(c,f){o!==(o=a(c))&&(i.d(1),i=o(c),i&&(i.c(),i.m(e,null))),f[0]&2&&(e.disabled=c[1])},d(c){c&&u(e),i.d(),t=!1,l()}}}function Sf(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Mf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function oi(s){let e,t=s[20].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){P(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Select a model")+"")&&R(l,t)},d(a){a&&u(e)}}}function ui(s){let e,t=s[62].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[62].id,X(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){P(o,e,i),r(e,l)},p(o,i){i[0]&2097152&&t!==(t=o[62].name+"")&&R(l,t),i[0]&2097152&&a!==(a=o[62].id)&&(e.__value=a,X(e,e.__value))},d(o){o&&u(e)}}}function fi(s){let e,t,l=s[20].t("Reranking Model")+"",a,o,i,c,f,v,b,p,m,g;function y(E,I){return E[2]?Pf:Of}let k=y(s),w=k(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),p=d("button"),w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"DIV",{class:!0});var S=_(c);f=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),b=A(V),p=h(V,"BUTTON",{class:!0});var B=_(p);w.l(B),B.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[2],n(i,"class","flex w-full"),n(e,"class","")},m(E,I){P(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),X(f,s[7]),r(i,b),r(i,p),w.m(p,null),m||(g=[le(f,"input",s[43]),le(p,"click",s[44])],m=!0)},p(E,I){I[0]&1048576&&l!==(l=E[20].t("Reranking Model")+"")&&R(a,l),I[0]&1048576&&v!==(v=E[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&n(f,"placeholder",v),I[0]&128&&f.value!==E[7]&&X(f,E[7]),k!==(k=y(E))&&(w.d(1),w=k(E),w&&(w.c(),w.m(p,null))),I[0]&4&&(p.disabled=E[2])},d(E){E&&u(e),w.d(),m=!1,Gt(g)}}}function Of(s){let e,t,l;return{c(){e=Et("svg"),t=Et("path"),l=Et("path"),this.h()},l(a){e=kt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=kt(o,"path",{d:!0}),_(t).forEach(u),l=kt(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){P(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Pf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function ci(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Enter Tika Server URL")),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full mt-2")},m(c,f){P(c,e,f),r(e,t),r(t,l),X(l,s[11]),o||(i=le(l,"input",s[47]),o=!0)},p(c,f){f[0]&1048576&&a!==(a=c[20].t("Enter Tika Server URL"))&&n(l,"placeholder",a),f[0]&2048&&l.value!==c[11]&&X(l,c[11])},d(c){c&&u(e),o=!1,i()}}}function Nf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){P(o,e,i),X(e,s[8]),l||(a=le(e,"input",s[48]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&256&&ol(e.value)!==o[8]&&X(e,o[8])},d(o){o&&u(e),l=!1,a()}}}function Lf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){P(o,e,i),X(e,s[9]),l||(a=le(e,"input",s[49]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&512&&ol(e.value)!==o[9]&&X(e,o[9])},d(o){o&&u(e),l=!1,a()}}}function di(s){let e,t,l=s[20].t("Minimum Score")+"",a,o,i,c,f,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("input"),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);c=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium min-w-fit"),n(c,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"type","number"),n(c,"step","0.01"),n(c,"placeholder",f=s[20].t("Enter Score")),n(c,"autocomplete","off"),n(c,"min","0.0"),n(c,"title",v=s[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),n(i,"class","self-center p-3"),n(e,"class","flex w-full justify-between")},m(m,g){P(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),X(c,s[19].r),b||(p=le(c,"input",s[51]),b=!0)},p(m,g){g[0]&1048576&&l!==(l=m[20].t("Minimum Score")+"")&&R(a,l),g[0]&1048576&&f!==(f=m[20].t("Enter Score"))&&n(c,"placeholder",f),g[0]&1048576&&v!==(v=m[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&n(c,"title",v),g[0]&524288&&ol(c.value)!==m[19].r&&X(c,m[19].r)},d(m){m&&u(e),b=!1,p()}}}function hi(s){let e,t=s[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,a,o;return{c(){e=d("div"),l=L(t),a=D(),o=d("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);l=U(c,t),c.forEach(u),a=A(i),o=h(i,"HR",{class:!0}),this.h()},h(){n(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(o,"class","dark:border-gray-850 my-3")},m(i,c){P(i,e,c),r(e,l),P(i,a,c),P(i,o,c)},p(i,c){c[0]&1048576&&t!==(t=i[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&R(l,t)},d(i){i&&(u(e),u(a),u(o))}}}function Uf(s){let e,t,l,a,o,i,c,f,v,b,p=s[20].t("General Settings")+"",m,g,y,k,w=s[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",E,I,T,V,S=s[20].t("Scan")+"",B,M,W,x,z,Y,O=s[20].t("Embedding Model Engine")+"",H,Z,N,C,G,J=s[20].t("Default (SentenceTransformers)")+"",ee,K,$=s[20].t("Ollama")+"",q,F,ne=s[20].t("OpenAI")+"",oe,_e,ce,Ae,Se,Oe=s[20].t("Hybrid Search")+"",we,Be,me,Pe,ue,ke,qe,Ue,Ne,et,He=s[20].t("Embedding Model")+"",Ke,at,de,Le,pe=s[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",fe,Ee,ae,ye,Ge,Ie,ve,he=s[20].t("Content Extraction")+"",Ve,Fe,tt,nt,We=s[20].t("Engine")+"",rt,ze,ht,st,be,ft=s[20].t("Default")+"",lt,$e,ie,Q=s[20].t("Tika")+"",j,se,Re,Ye,Me,vt,At,Mt=s[20].t("Files")+"",Lt,Rt,Ot,Ce,Te,Dt=s[20].t("Max Upload Size")+"",Vt,Bt,gt,_t,bt,it,Zt,Kt=s[20].t("Max Upload Count")+"",Wt,Pt,wt,Ze,ut,dt,Jt,Ht,Qt,yl=s[20].t("Query Params")+"",gl,Il,Xt,xt,ul,Tl=s[20].t("Top K")+"",ml,ts,Dl,el,Cl,ls,Hl,ql,bl,Rl,Ol=s[20].t("RAG Template")+"",Yl,ss,Bl,ca,Os,da,Pl,as,Es=s[20].t("Chunk Params")+"",Ps,ha,$l,jl,rs,ks=s[20].t("Chunk Size")+"",Ns,_a,ns,fl,Ls,va,Zl,is,ws=s[20].t("Chunk Overlap")+"",Us,pa,os,cl,Cs,ga,us,Kl,fs,ys=s[20].t("PDF Extract Images (OCR)")+"",Rs,ma,Gl,Is=(s[15]?s[20].t("On"):s[20].t("Off"))+"",Bs,ba,Hs,Ea,Jl,Nl,Ql,Oa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ka,cs,Ts=s[20].t("Reset Upload Directory")+"",$s,wa,Ll,Xl,Pa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',ya,ds,Ds=s[20].t("Reset Vector Storage")+"",js,Ia,hs,xl,As=s[20].t("Save")+"",Zs,yt,Ta,Na;function Ii(ge){s[28](ge)}let La={};s[4]!==void 0&&(La.show=s[4]),e=new Sa({props:La}),Nt.push(()=>Ct(e,"show",Ii)),e.$on("confirm",s[29]);function Ti(ge){s[30](ge)}let Ua={};s[3]!==void 0&&(Ua.show=s[3]),a=new Sa({props:Ua}),Nt.push(()=>Ct(a,"show",Ti)),a.$on("confirm",s[31]);let il=s[0]&&ri(),zt=s[5]==="openai"&&ni(s);function Ca(ge,je){return ge[19].hybrid===!0?Df:Tf}let Ks=Ca(s),Al=Ks(s);function Ra(ge,je){return ge[5]==="ollama"?Vf:Af}let Gs=Ra(s),Vl=Gs(s),tl=s[19].hybrid===!0&&fi(s),ll=s[12]&&ci(s);_t=new nl({props:{content:s[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[Nf]},$$scope:{ctx:s}}}),Ze=new nl({props:{content:s[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[Lf]},$$scope:{ctx:s}}});let sl=s[19].hybrid===!0&&di(s),al=s[19].hybrid===!0&&hi(s);return{c(){Je(e.$$.fragment),l=D(),Je(a.$$.fragment),i=D(),c=d("form"),f=d("div"),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("button"),V=d("div"),B=L(S),M=D(),il&&il.c(),x=D(),z=d("div"),Y=d("div"),H=L(O),Z=D(),N=d("div"),C=d("select"),G=d("option"),ee=L(J),K=d("option"),q=L($),F=d("option"),oe=L(ne),_e=D(),zt&&zt.c(),ce=D(),Ae=d("div"),Se=d("div"),we=L(Oe),Be=D(),me=d("button"),Al.c(),Pe=D(),ue=d("hr"),ke=D(),qe=d("div"),Ue=D(),Ne=d("div"),et=d("div"),Ke=L(He),at=D(),Vl.c(),de=D(),Le=d("div"),fe=L(pe),Ee=D(),tl&&tl.c(),ae=D(),ye=d("hr"),Ge=D(),Ie=d("div"),ve=d("div"),Ve=L(he),Fe=D(),tt=d("div"),nt=d("div"),rt=L(We),ze=D(),ht=d("div"),st=d("select"),be=d("option"),lt=L(ft),$e=D(),ie=d("option"),j=L(Q),se=D(),ll&&ll.c(),Re=D(),Ye=d("hr"),Me=D(),vt=d("div"),At=d("div"),Lt=L(Mt),Rt=D(),Ot=d("div"),Ce=d("div"),Te=d("div"),Vt=L(Dt),Bt=D(),gt=d("div"),Je(_t.$$.fragment),bt=D(),it=d("div"),Zt=d("div"),Wt=L(Kt),Pt=D(),wt=d("div"),Je(Ze.$$.fragment),ut=D(),dt=d("hr"),Jt=D(),Ht=d("div"),Qt=d("div"),gl=L(yl),Il=D(),Xt=d("div"),xt=d("div"),ul=d("div"),ml=L(Tl),ts=D(),Dl=d("div"),el=d("input"),ls=D(),sl&&sl.c(),Hl=D(),al&&al.c(),ql=D(),bl=d("div"),Rl=d("div"),Yl=L(Ol),ss=D(),Bl=d("textarea"),ca=D(),Os=d("hr"),da=D(),Pl=d("div"),as=d("div"),Ps=L(Es),ha=D(),$l=d("div"),jl=d("div"),rs=d("div"),Ns=L(ks),_a=D(),ns=d("div"),fl=d("input"),va=D(),Zl=d("div"),is=d("div"),Us=L(ws),pa=D(),os=d("div"),cl=d("input"),ga=D(),us=d("div"),Kl=d("div"),fs=d("div"),Rs=L(ys),ma=D(),Gl=d("button"),Bs=L(Is),ba=D(),Hs=d("hr"),Ea=D(),Jl=d("div"),Nl=d("button"),Ql=d("div"),Ql.innerHTML=Oa,ka=D(),cs=d("div"),$s=L(Ts),wa=D(),Ll=d("button"),Xl=d("div"),Xl.innerHTML=Pa,ya=D(),ds=d("div"),js=L(Ds),Ia=D(),hs=d("div"),xl=d("button"),Zs=L(As),this.h()},l(ge){Qe(e.$$.fragment,ge),l=A(ge),Qe(a.$$.fragment,ge),i=A(ge),c=h(ge,"FORM",{class:!0});var je=_(c);f=h(je,"DIV",{class:!0});var St=_(f);v=h(St,"DIV",{class:!0});var dl=_(v);b=h(dl,"DIV",{class:!0});var _s=_(b);m=U(_s,p),_s.forEach(u),g=A(dl),y=h(dl,"DIV",{class:!0});var Wl=_(y);k=h(Wl,"DIV",{class:!0});var Ba=_(k);E=U(Ba,w),Ba.forEach(u),I=A(Wl),T=h(Wl,"BUTTON",{class:!0,type:!0});var Ws=_(T);V=h(Ws,"DIV",{class:!0});var Ha=_(V);B=U(Ha,S),Ha.forEach(u),M=A(Ws),il&&il.l(Ws),Ws.forEach(u),Wl.forEach(u),x=A(dl),z=h(dl,"DIV",{class:!0});var Fs=_(z);Y=h(Fs,"DIV",{class:!0});var $a=_(Y);H=U($a,O),$a.forEach(u),Z=A(Fs),N=h(Fs,"DIV",{class:!0});var ja=_(N);C=h(ja,"SELECT",{class:!0,placeholder:!0});var zs=_(C);G=h(zs,"OPTION",{});var Za=_(G);ee=U(Za,J),Za.forEach(u),K=h(zs,"OPTION",{});var Ka=_(K);q=U(Ka,$),Ka.forEach(u),F=h(zs,"OPTION",{});var Ga=_(F);oe=U(Ga,ne),Ga.forEach(u),zs.forEach(u),ja.forEach(u),Fs.forEach(u),_e=A(dl),zt&&zt.l(dl),ce=A(dl),Ae=h(dl,"DIV",{class:!0});var qs=_(Ae);Se=h(qs,"DIV",{class:!0});var Wa=_(Se);we=U(Wa,Oe),Wa.forEach(u),Be=A(qs),me=h(qs,"BUTTON",{class:!0,type:!0});var Fa=_(me);Al.l(Fa),Fa.forEach(u),qs.forEach(u),dl.forEach(u),Pe=A(St),ue=h(St,"HR",{class:!0}),ke=A(St),qe=h(St,"DIV",{class:!0}),_(qe).forEach(u),Ue=A(St),Ne=h(St,"DIV",{});var Fl=_(Ne);et=h(Fl,"DIV",{class:!0});var za=_(et);Ke=U(za,He),za.forEach(u),at=A(Fl),Vl.l(Fl),de=A(Fl),Le=h(Fl,"DIV",{class:!0});var qa=_(Le);fe=U(qa,pe),qa.forEach(u),Ee=A(Fl),tl&&tl.l(Fl),Fl.forEach(u),ae=A(St),ye=h(St,"HR",{class:!0}),Ge=A(St),Ie=h(St,"DIV",{class:!0});var vs=_(Ie);ve=h(vs,"DIV",{class:!0});var Ya=_(ve);Ve=U(Ya,he),Ya.forEach(u),Fe=A(vs),tt=h(vs,"DIV",{class:!0});var Ys=_(tt);nt=h(Ys,"DIV",{class:!0});var Ja=_(nt);rt=U(Ja,We),Ja.forEach(u),ze=A(Ys),ht=h(Ys,"DIV",{class:!0});var Qa=_(ht);st=h(Qa,"SELECT",{class:!0});var Da=_(st);be=h(Da,"OPTION",{});var Aa=_(be);lt=U(Aa,ft),$e=A(Aa),Aa.forEach(u),ie=h(Da,"OPTION",{});var Xa=_(ie);j=U(Xa,Q),Xa.forEach(u),Da.forEach(u),Qa.forEach(u),Ys.forEach(u),se=A(vs),ll&&ll.l(vs),vs.forEach(u),Re=A(St),Ye=h(St,"HR",{class:!0}),Me=A(St),vt=h(St,"DIV",{class:!0});var Js=_(vt);At=h(Js,"DIV",{class:!0});var xa=_(At);Lt=U(xa,Mt),xa.forEach(u),Rt=A(Js),Ot=h(Js,"DIV",{class:!0});var Qs=_(Ot);Ce=h(Qs,"DIV",{class:!0});var Xs=_(Ce);Te=h(Xs,"DIV",{class:!0});var er=_(Te);Vt=U(er,Dt),er.forEach(u),Bt=A(Xs),gt=h(Xs,"DIV",{class:!0});var tr=_(gt);Qe(_t.$$.fragment,tr),tr.forEach(u),Xs.forEach(u),bt=A(Qs),it=h(Qs,"DIV",{class:!0});var xs=_(it);Zt=h(xs,"DIV",{class:!0});var lr=_(Zt);Wt=U(lr,Kt),lr.forEach(u),Pt=A(xs),wt=h(xs,"DIV",{class:!0});var sr=_(wt);Qe(Ze.$$.fragment,sr),sr.forEach(u),xs.forEach(u),Qs.forEach(u),Js.forEach(u),ut=A(St),dt=h(St,"HR",{class:!0}),Jt=A(St),Ht=h(St,"DIV",{class:!0});var zl=_(Ht);Qt=h(zl,"DIV",{class:!0});var ar=_(Qt);gl=U(ar,yl),ar.forEach(u),Il=A(zl),Xt=h(zl,"DIV",{class:!0});var ea=_(Xt);xt=h(ea,"DIV",{class:!0});var ta=_(xt);ul=h(ta,"DIV",{class:!0});var rr=_(ul);ml=U(rr,Tl),rr.forEach(u),ts=A(ta),Dl=h(ta,"DIV",{class:!0});var nr=_(Dl);el=h(nr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),nr.forEach(u),ta.forEach(u),ls=A(ea),sl&&sl.l(ea),ea.forEach(u),Hl=A(zl),al&&al.l(zl),ql=A(zl),bl=h(zl,"DIV",{});var la=_(bl);Rl=h(la,"DIV",{class:!0});var ir=_(Rl);Yl=U(ir,Ol),ir.forEach(u),ss=A(la),Bl=h(la,"TEXTAREA",{class:!0,rows:!0}),_(Bl).forEach(u),la.forEach(u),zl.forEach(u),ca=A(St),Os=h(St,"HR",{class:!0}),da=A(St),Pl=h(St,"DIV",{class:!0});var ps=_(Pl);as=h(ps,"DIV",{class:!0});var or=_(as);Ps=U(or,Es),or.forEach(u),ha=A(ps),$l=h(ps,"DIV",{class:!0});var sa=_($l);jl=h(sa,"DIV",{class:!0});var aa=_(jl);rs=h(aa,"DIV",{class:!0});var ur=_(rs);Ns=U(ur,ks),ur.forEach(u),_a=A(aa),ns=h(aa,"DIV",{class:!0});var fr=_(ns);fl=h(fr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),fr.forEach(u),aa.forEach(u),va=A(sa),Zl=h(sa,"DIV",{class:!0});var ra=_(Zl);is=h(ra,"DIV",{class:!0});var cr=_(is);Us=U(cr,ws),cr.forEach(u),pa=A(ra),os=h(ra,"DIV",{class:!0});var dr=_(os);cl=h(dr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),dr.forEach(u),ra.forEach(u),sa.forEach(u),ga=A(ps),us=h(ps,"DIV",{class:!0});var hr=_(us);Kl=h(hr,"DIV",{class:!0});var na=_(Kl);fs=h(na,"DIV",{class:!0});var _r=_(fs);Rs=U(_r,ys),_r.forEach(u),ma=A(na),Gl=h(na,"BUTTON",{class:!0,type:!0});var vr=_(Gl);Bs=U(vr,Is),vr.forEach(u),na.forEach(u),hr.forEach(u),ps.forEach(u),ba=A(St),Hs=h(St,"HR",{class:!0}),Ea=A(St),Jl=h(St,"DIV",{});var ia=_(Jl);Nl=h(ia,"BUTTON",{class:!0,type:!0});var oa=_(Nl);Ql=h(oa,"DIV",{class:!0,"data-svelte-h":!0}),ct(Ql)!=="svelte-1m6igha"&&(Ql.innerHTML=Oa),ka=A(oa),cs=h(oa,"DIV",{class:!0});var pr=_(cs);$s=U(pr,Ts),pr.forEach(u),oa.forEach(u),wa=A(ia),Ll=h(ia,"BUTTON",{class:!0,type:!0});var ua=_(Ll);Xl=h(ua,"DIV",{class:!0,"data-svelte-h":!0}),ct(Xl)!=="svelte-16tyzd9"&&(Xl.innerHTML=Pa),ya=A(ua),ds=h(ua,"DIV",{class:!0});var gr=_(ds);js=U(gr,Ds),gr.forEach(u),ua.forEach(u),ia.forEach(u),St.forEach(u),Ia=A(je),hs=h(je,"DIV",{class:!0});var mr=_(hs);xl=h(mr,"BUTTON",{class:!0,type:!0});var br=_(xl);Zs=U(br,As),br.forEach(u),mr.forEach(u),je.forEach(u),this.h()},h(){n(b,"class","mb-0.5 text-sm font-medium"),n(k,"class","self-center text-xs font-medium"),n(V,"class","self-center font-medium"),n(T,"class",W="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(T,"type","button"),T.disabled=s[0],n(y,"class","flex w-full justify-between"),n(Y,"class","self-center text-xs font-medium"),G.__value="",X(G,G.__value),K.__value="ollama",X(K,K.__value),F.__value="openai",X(F,F.__value),n(C,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(C,"placeholder","Select an embedding model engine"),s[5]===void 0&&Yt(()=>s[33].call(C)),n(N,"class","flex items-center relative"),n(z,"class","flex w-full justify-between"),n(Se,"class","self-center text-xs font-medium"),n(me,"class","p-1 px-3 text-xs flex rounded transition"),n(me,"type","button"),n(Ae,"class","flex w-full justify-between"),n(v,"class","flex flex-col gap-0.5"),n(ue,"class","dark:border-gray-850"),n(qe,"class","space-y-2"),n(et,"class","mb-2 text-sm font-medium"),n(Le,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(ye,"class","dark:border-gray-850"),n(ve,"class","text-sm font-medium"),n(nt,"class","self-center text-xs font-medium"),be.__value="",X(be,be.__value),ie.__value="tika",X(ie,ie.__value),n(st,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),s[10]===void 0&&Yt(()=>s[45].call(st)),n(ht,"class","flex items-center relative"),n(tt,"class","flex w-full justify-between mt-2"),n(Ie,"class",""),n(Ye,"class","dark:border-gray-850"),n(At,"class","text-sm font-medium"),n(Te,"class","self-center text-xs font-medium min-w-fit mb-1"),n(gt,"class","self-center"),n(Ce,"class","w-full"),n(Zt,"class","self-center text-xs font-medium min-w-fit mb-1"),n(wt,"class","self-center"),n(it,"class","w-full"),n(Ot,"class","my-2 flex gap-1.5"),n(vt,"class",""),n(dt,"class","dark:border-gray-850"),n(Qt,"class","text-sm font-medium"),n(ul,"class","self-center text-xs font-medium min-w-fit"),n(el,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(el,"type","number"),n(el,"placeholder",Cl=s[20].t("Enter Top K")),n(el,"autocomplete","off"),n(el,"min","0"),n(Dl,"class","self-center p-3"),n(xt,"class","flex w-full justify-between"),n(Xt,"class","flex gap-1"),n(Rl,"class","mb-2.5 text-sm font-medium"),n(Bl,"class","w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Bl,"rows","4"),n(Ht,"class",""),n(Os,"class","dark:border-gray-850"),n(as,"class","text-sm font-medium"),n(rs,"class","self-center text-xs font-medium min-w-fit mb-1"),n(fl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(fl,"type","number"),n(fl,"placeholder",Ls=s[20].t("Enter Chunk Size")),n(fl,"autocomplete","off"),n(fl,"min","0"),n(ns,"class","self-center"),n(jl,"class","w-full justify-between"),n(is,"class","self-center text-xs font-medium min-w-fit mb-1"),n(cl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(cl,"type","number"),n(cl,"placeholder",Cs=s[20].t("Enter Chunk Overlap")),n(cl,"autocomplete","off"),n(cl,"min","0"),n(os,"class","self-center"),n(Zl,"class","w-full"),n($l,"class","my-2 flex gap-1.5"),n(fs,"class","text-xs font-medium"),n(Gl,"class","text-xs font-medium text-gray-500"),n(Gl,"type","button"),n(Kl,"class","flex justify-between items-center text-xs"),n(us,"class","my-3"),n(Pl,"class",""),n(Hs,"class","dark:border-gray-850"),n(Ql,"class","self-center mr-3"),n(cs,"class","self-center text-sm font-medium"),n(Nl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Nl,"type","button"),n(Xl,"class","self-center mr-3"),n(ds,"class","self-center text-sm font-medium"),n(Ll,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Ll,"type","button"),n(f,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(xl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(xl,"type","submit"),n(hs,"class","flex justify-end pt-3 text-sm font-medium"),n(c,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ge,je){Xe(e,ge,je),P(ge,l,je),Xe(a,ge,je),P(ge,i,je),P(ge,c,je),r(c,f),r(f,v),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,B),r(T,M),il&&il.m(T,null),r(v,x),r(v,z),r(z,Y),r(Y,H),r(z,Z),r(z,N),r(N,C),r(C,G),r(G,ee),r(C,K),r(K,q),r(C,F),r(F,oe),mt(C,s[5],!0),r(v,_e),zt&&zt.m(v,null),r(v,ce),r(v,Ae),r(Ae,Se),r(Se,we),r(Ae,Be),r(Ae,me),Al.m(me,null),r(f,Pe),r(f,ue),r(f,ke),r(f,qe),r(f,Ue),r(f,Ne),r(Ne,et),r(et,Ke),r(Ne,at),Vl.m(Ne,null),r(Ne,de),r(Ne,Le),r(Le,fe),r(Ne,Ee),tl&&tl.m(Ne,null),r(f,ae),r(f,ye),r(f,Ge),r(f,Ie),r(Ie,ve),r(ve,Ve),r(Ie,Fe),r(Ie,tt),r(tt,nt),r(nt,rt),r(tt,ze),r(tt,ht),r(ht,st),r(st,be),r(be,lt),r(be,$e),r(st,ie),r(ie,j),mt(st,s[10],!0),r(Ie,se),ll&&ll.m(Ie,null),r(f,Re),r(f,Ye),r(f,Me),r(f,vt),r(vt,At),r(At,Lt),r(vt,Rt),r(vt,Ot),r(Ot,Ce),r(Ce,Te),r(Te,Vt),r(Ce,Bt),r(Ce,gt),Xe(_t,gt,null),r(Ot,bt),r(Ot,it),r(it,Zt),r(Zt,Wt),r(it,Pt),r(it,wt),Xe(Ze,wt,null),r(f,ut),r(f,dt),r(f,Jt),r(f,Ht),r(Ht,Qt),r(Qt,gl),r(Ht,Il),r(Ht,Xt),r(Xt,xt),r(xt,ul),r(ul,ml),r(xt,ts),r(xt,Dl),r(Dl,el),X(el,s[19].k),r(Xt,ls),sl&&sl.m(Xt,null),r(Ht,Hl),al&&al.m(Ht,null),r(Ht,ql),r(Ht,bl),r(bl,Rl),r(Rl,Yl),r(bl,ss),r(bl,Bl),X(Bl,s[19].template),r(f,ca),r(f,Os),r(f,da),r(f,Pl),r(Pl,as),r(as,Ps),r(Pl,ha),r(Pl,$l),r($l,jl),r(jl,rs),r(rs,Ns),r(jl,_a),r(jl,ns),r(ns,fl),X(fl,s[13]),r($l,va),r($l,Zl),r(Zl,is),r(is,Us),r(Zl,pa),r(Zl,os),r(os,cl),X(cl,s[14]),r(Pl,ga),r(Pl,us),r(us,Kl),r(Kl,fs),r(fs,Rs),r(Kl,ma),r(Kl,Gl),r(Gl,Bs),r(f,ba),r(f,Hs),r(f,Ea),r(f,Jl),r(Jl,Nl),r(Nl,Ql),r(Nl,ka),r(Nl,cs),r(cs,$s),r(Jl,wa),r(Jl,Ll),r(Ll,Xl),r(Ll,ya),r(Ll,ds),r(ds,js),r(c,Ia),r(c,hs),r(hs,xl),r(xl,Zs),yt=!0,Ta||(Na=[le(T,"click",s[32]),le(C,"change",s[33]),le(C,"change",s[34]),le(me,"click",s[39]),le(st,"change",s[45]),le(st,"change",s[46]),le(el,"input",s[50]),le(Bl,"input",s[52]),le(fl,"input",s[53]),le(cl,"input",s[54]),le(Gl,"click",s[55]),le(Nl,"click",s[56]),le(Ll,"click",s[57]),le(c,"submit",Ml(s[58]))],Ta=!0)},p(ge,je){const St={};!t&&je[0]&16&&(t=!0,St.show=ge[4],Ut(()=>t=!1)),e.$set(St);const dl={};!o&&je[0]&8&&(o=!0,dl.show=ge[3],Ut(()=>o=!1)),a.$set(dl),(!yt||je[0]&1048576)&&p!==(p=ge[20].t("General Settings")+"")&&R(m,p),(!yt||je[0]&1048576)&&w!==(w=ge[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&R(E,w),(!yt||je[0]&1048576)&&S!==(S=ge[20].t("Scan")+"")&&R(B,S),ge[0]?il||(il=ri(),il.c(),il.m(T,null)):il&&(il.d(1),il=null),(!yt||je[0]&1&&W!==(W="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(ge[0]?" cursor-not-allowed":"")))&&n(T,"class",W),(!yt||je[0]&1)&&(T.disabled=ge[0]),(!yt||je[0]&1048576)&&O!==(O=ge[20].t("Embedding Model Engine")+"")&&R(H,O),(!yt||je[0]&1048576)&&J!==(J=ge[20].t("Default (SentenceTransformers)")+"")&&R(ee,J),(!yt||je[0]&1048576)&&$!==($=ge[20].t("Ollama")+"")&&R(q,$),(!yt||je[0]&1048576)&&ne!==(ne=ge[20].t("OpenAI")+"")&&R(oe,ne),je[0]&32&&mt(C,ge[5]),ge[5]==="openai"?zt?(zt.p(ge,je),je[0]&32&&te(zt,1)):(zt=ni(ge),zt.c(),te(zt,1),zt.m(v,ce)):zt&&(It(),re(zt,1,1,()=>{zt=null}),Tt()),(!yt||je[0]&1048576)&&Oe!==(Oe=ge[20].t("Hybrid Search")+"")&&R(we,Oe),Ks===(Ks=Ca(ge))&&Al?Al.p(ge,je):(Al.d(1),Al=Ks(ge),Al&&(Al.c(),Al.m(me,null))),(!yt||je[0]&1048576)&&He!==(He=ge[20].t("Embedding Model")+"")&&R(Ke,He),Gs===(Gs=Ra(ge))&&Vl?Vl.p(ge,je):(Vl.d(1),Vl=Gs(ge),Vl&&(Vl.c(),Vl.m(Ne,de))),(!yt||je[0]&1048576)&&pe!==(pe=ge[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&R(fe,pe),ge[19].hybrid===!0?tl?tl.p(ge,je):(tl=fi(ge),tl.c(),tl.m(Ne,null)):tl&&(tl.d(1),tl=null),(!yt||je[0]&1048576)&&he!==(he=ge[20].t("Content Extraction")+"")&&R(Ve,he),(!yt||je[0]&1048576)&&We!==(We=ge[20].t("Engine")+"")&&R(rt,We),(!yt||je[0]&1048576)&&ft!==(ft=ge[20].t("Default")+"")&&R(lt,ft),(!yt||je[0]&1048576)&&Q!==(Q=ge[20].t("Tika")+"")&&R(j,Q),je[0]&1024&&mt(st,ge[10]),ge[12]?ll?ll.p(ge,je):(ll=ci(ge),ll.c(),ll.m(Ie,null)):ll&&(ll.d(1),ll=null),(!yt||je[0]&1048576)&&Mt!==(Mt=ge[20].t("Files")+"")&&R(Lt,Mt),(!yt||je[0]&1048576)&&Dt!==(Dt=ge[20].t("Max Upload Size")+"")&&R(Vt,Dt);const _s={};je[0]&1048576&&(_s.content=ge[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),je[0]&1048832|je[2]&8&&(_s.$$scope={dirty:je,ctx:ge}),_t.$set(_s),(!yt||je[0]&1048576)&&Kt!==(Kt=ge[20].t("Max Upload Count")+"")&&R(Wt,Kt);const Wl={};je[0]&1048576&&(Wl.content=ge[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),je[0]&1049088|je[2]&8&&(Wl.$$scope={dirty:je,ctx:ge}),Ze.$set(Wl),(!yt||je[0]&1048576)&&yl!==(yl=ge[20].t("Query Params")+"")&&R(gl,yl),(!yt||je[0]&1048576)&&Tl!==(Tl=ge[20].t("Top K")+"")&&R(ml,Tl),(!yt||je[0]&1048576&&Cl!==(Cl=ge[20].t("Enter Top K")))&&n(el,"placeholder",Cl),je[0]&524288&&ol(el.value)!==ge[19].k&&X(el,ge[19].k),ge[19].hybrid===!0?sl?sl.p(ge,je):(sl=di(ge),sl.c(),sl.m(Xt,null)):sl&&(sl.d(1),sl=null),ge[19].hybrid===!0?al?al.p(ge,je):(al=hi(ge),al.c(),al.m(Ht,ql)):al&&(al.d(1),al=null),(!yt||je[0]&1048576)&&Ol!==(Ol=ge[20].t("RAG Template")+"")&&R(Yl,Ol),je[0]&524288&&X(Bl,ge[19].template),(!yt||je[0]&1048576)&&Es!==(Es=ge[20].t("Chunk Params")+"")&&R(Ps,Es),(!yt||je[0]&1048576)&&ks!==(ks=ge[20].t("Chunk Size")+"")&&R(Ns,ks),(!yt||je[0]&1048576&&Ls!==(Ls=ge[20].t("Enter Chunk Size")))&&n(fl,"placeholder",Ls),je[0]&8192&&ol(fl.value)!==ge[13]&&X(fl,ge[13]),(!yt||je[0]&1048576)&&ws!==(ws=ge[20].t("Chunk Overlap")+"")&&R(Us,ws),(!yt||je[0]&1048576&&Cs!==(Cs=ge[20].t("Enter Chunk Overlap")))&&n(cl,"placeholder",Cs),je[0]&16384&&ol(cl.value)!==ge[14]&&X(cl,ge[14]),(!yt||je[0]&1048576)&&ys!==(ys=ge[20].t("PDF Extract Images (OCR)")+"")&&R(Rs,ys),(!yt||je[0]&1081344)&&Is!==(Is=(ge[15]?ge[20].t("On"):ge[20].t("Off"))+"")&&R(Bs,Is),(!yt||je[0]&1048576)&&Ts!==(Ts=ge[20].t("Reset Upload Directory")+"")&&R($s,Ts),(!yt||je[0]&1048576)&&Ds!==(Ds=ge[20].t("Reset Vector Storage")+"")&&R(js,Ds),(!yt||je[0]&1048576)&&As!==(As=ge[20].t("Save")+"")&&R(Zs,As)},i(ge){yt||(te(e.$$.fragment,ge),te(a.$$.fragment,ge),te(zt),te(_t.$$.fragment,ge),te(Ze.$$.fragment,ge),yt=!0)},o(ge){re(e.$$.fragment,ge),re(a.$$.fragment,ge),re(zt),re(_t.$$.fragment,ge),re(Ze.$$.fragment,ge),yt=!1},d(ge){ge&&(u(l),u(i),u(c)),xe(e,ge),xe(a,ge),il&&il.d(),zt&&zt.d(),Al.d(),Vl.d(),tl&&tl.d(),ll&&ll.d(),xe(_t),xe(Ze),sl&&sl.d(),al&&al.d(),Ta=!1,Gt(Na)}}}const _i=s=>s.id&&s.ollama&&!((s==null?void 0:s.preset)??!1);function Cf(s,e,t){let l,a;Ft(s,rl,ae=>t(21,a=ae));const o=Ms(),i=kl("i18n");Ft(s,i,ae=>t(20,l=ae));let c=!1,f=!1,v=!1,b=!1,p=!1,m="",g="",y="",k=null,w=null,E="default",I="",T=!1,V=0,S=0,B=!0,M="",W="",x=1,z={template:"",r:0,k:4,hybrid:!1};const Y=async()=>{t(0,c=!0);const ae=await Eo(localStorage.token);t(0,c=!1),ae&&(await Mi.set(await mo(localStorage.token)),De.success(l.t("Scan complete!")))},O=async()=>{if(m===""&&g.split("/").length-1>1){De.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="ollama"&&g===""){De.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&g===""){De.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&M===""||W===""){De.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(1,f=!0);const ae=await Do(localStorage.token,{embedding_engine:m,embedding_model:g,...m==="openai"?{openai_config:{key:M,url:W,batch_size:x}}:{}}).catch(async ye=>(De.error(ye),await N(),null));t(1,f=!1),ae&&(console.log("embeddingModelUpdateHandler:",ae),ae.status===!0&&De.success(l.t('Embedding model set to "{{embedding_model}}"',ae),{duration:1e3*10}))},H=async()=>{console.log("Update reranking model attempt:",y),t(2,v=!0);const ae=await ko(localStorage.token,{reranking_model:y}).catch(async ye=>(De.error(ye),await C(),null));t(2,v=!1),ae&&(console.log("rerankingModelUpdateHandler:",ae),ae.status===!0&&(y===""?De.success(l.t("Reranking model disabled",ae),{duration:1e3*10}):De.success(l.t('Reranking model set to "{{reranking_model}}"',ae),{duration:1e3*10})))},Z=async()=>{if(await O(),z.hybrid&&await H(),E==="tika"&&I===""){De.error(l.t("Tika Server URL required."));return}await yi(localStorage.token,{pdf_extract_images:B,file:{max_size:k===""?null:k,max_count:w===""?null:w},chunk:{chunk_overlap:S,chunk_size:V},content_extraction:{engine:E,tika_server_url:I}}),await Mr(localStorage.token,z),o("save")},N=async()=>{const ae=await wo(localStorage.token);ae&&(t(5,m=ae.embedding_engine),t(6,g=ae.embedding_model),t(16,M=ae.openai_config.key),t(17,W=ae.openai_config.url),t(18,x=ae.openai_config.batch_size??1))},C=async()=>{const ae=await yo(localStorage.token);ae&&t(7,y=ae.reranking_model)},G=async()=>{t(19,z.hybrid=!z.hybrid,z),t(19,z=await Mr(localStorage.token,z))};wl(async()=>{await N(),await C(),t(19,z=await bo(localStorage.token));const ae=await wi(localStorage.token);ae&&(t(15,B=ae.pdf_extract_images),t(13,V=ae.chunk.chunk_size),t(14,S=ae.chunk.chunk_overlap),t(10,E=ae.content_extraction.engine),t(11,I=ae.content_extraction.tika_server_url),t(12,T=E==="tika"),t(8,k=(ae==null?void 0:ae.file.max_size)??""),t(9,w=(ae==null?void 0:ae.file.max_count)??""))});function J(ae){p=ae,t(4,p)}const ee=async()=>{await Io(localStorage.token).catch(ye=>(De.error(ye),null))&&De.success(l.t("Success"))};function K(ae){b=ae,t(3,b)}const $=()=>{To(localStorage.token).catch(ye=>(De.error(ye),null))&&De.success(l.t("Success"))},q=()=>{Y(),console.log("check")};function F(){m=qt(this),t(5,m)}const ne=ae=>{ae.target.value==="ollama"?t(6,g=""):ae.target.value==="openai"?t(6,g="text-embedding-3-small"):ae.target.value===""&&t(6,g="sentence-transformers/all-MiniLM-L6-v2")};function oe(){W=this.value,t(17,W)}function _e(ae){M=ae,t(16,M)}function ce(){x=ol(this.value),t(18,x)}function Ae(){x=ol(this.value),t(18,x)}const Se=()=>{G()};function Oe(){g=qt(this),t(6,g)}function we(){g=this.value,t(6,g)}const Be=()=>{O()};function me(){y=this.value,t(7,y)}const Pe=()=>{H()};function ue(){E=qt(this),t(10,E)}const ke=ae=>{t(12,T=ae.target.value==="tika")};function qe(){I=this.value,t(11,I)}function Ue(){k=ol(this.value),t(8,k)}function Ne(){w=ol(this.value),t(9,w)}function et(){z.k=ol(this.value),t(19,z)}function He(){z.r=ol(this.value),t(19,z)}function Ke(){z.template=this.value,t(19,z)}function at(){V=ol(this.value),t(13,V)}function de(){S=ol(this.value),t(14,S)}return[c,f,v,b,p,m,g,y,k,w,E,I,T,V,S,B,M,W,x,z,l,a,i,Y,O,H,Z,G,J,ee,K,$,q,F,ne,oe,_e,ce,Ae,Se,Oe,we,Be,me,Pe,ue,ke,qe,Ue,Ne,et,He,Ke,at,de,()=>{t(15,B=!B)},()=>{t(4,p=!0)},()=>{t(3,b=!0)},()=>{Z()}]}class Rf extends _l{constructor(e){super(),vl(this,e,Cf,Uf,hl,{},null,[-1,-1,-1])}}function vi(s,e,t){const l=s.slice();return l[25]=e[t],l}function pi(s){let e,t,l=s[3].t("Web Search")+"",a,o,i,c,f,v=s[3].t("Enable Web Search")+"",b,p,m,g,y,k,w,E=s[3].t("Web Search Engine")+"",I,T,V,S,B,M=s[3].t("Select a engine")+"",W,x,z,Y,O,H,Z,N,C,G=s[3].t("Web Loader Settings")+"",J,ee,K,$,q,F=s[3].t("Bypass SSL verification for Websites")+"",ne,oe,_e,ce,Ae,Se=s[3].t("Youtube Loader Settings")+"",Oe,we,Be,me,Pe,ue=s[3].t("Language")+"",ke,qe,Ue,Ne,et,He,Ke,at;function de(ve){s[7](ve)}let Le={};s[1].search.enabled!==void 0&&(Le.state=s[1].search.enabled),m=new El({props:Le}),Nt.push(()=>Ct(m,"state",de));let pe=ot(s[5]),fe=[];for(let ve=0;ve<pe.length;ve+=1)fe[ve]=gi(vi(s,pe,ve));let Ee=s[1].search.engine!==""&&mi(s),ae=s[1].search.enabled&&bi(s);function ye(ve,he){return ve[1].ssl_verification===!0?zf:Ff}let Ge=ye(s),Ie=Ge(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("div"),b=L(v),p=D(),Je(m.$$.fragment),y=D(),k=d("div"),w=d("div"),I=L(E),T=D(),V=d("div"),S=d("select"),B=d("option"),W=L(M);for(let ve=0;ve<fe.length;ve+=1)fe[ve].c();z=D(),Ee&&Ee.c(),Y=D(),ae&&ae.c(),O=D(),H=d("hr"),Z=D(),N=d("div"),C=d("div"),J=L(G),ee=D(),K=d("div"),$=d("div"),q=d("div"),ne=L(F),oe=D(),_e=d("button"),Ie.c(),ce=D(),Ae=d("div"),Oe=L(Se),we=D(),Be=d("div"),me=d("div"),Pe=d("div"),ke=L(ue),qe=D(),Ue=d("div"),Ne=d("input"),this.h()},l(ve){e=h(ve,"DIV",{});var he=_(e);t=h(he,"DIV",{class:!0});var Ve=_(t);a=U(Ve,l),Ve.forEach(u),o=A(he),i=h(he,"DIV",{});var Fe=_(i);c=h(Fe,"DIV",{class:!0});var tt=_(c);f=h(tt,"DIV",{class:!0});var nt=_(f);b=U(nt,v),nt.forEach(u),p=A(tt),Qe(m.$$.fragment,tt),tt.forEach(u),Fe.forEach(u),y=A(he),k=h(he,"DIV",{class:!0});var We=_(k);w=h(We,"DIV",{class:!0});var rt=_(w);I=U(rt,E),rt.forEach(u),T=A(We),V=h(We,"DIV",{class:!0});var ze=_(V);S=h(ze,"SELECT",{class:!0,placeholder:!0});var ht=_(S);B=h(ht,"OPTION",{});var st=_(B);W=U(st,M),st.forEach(u);for(let vt=0;vt<fe.length;vt+=1)fe[vt].l(ht);ht.forEach(u),ze.forEach(u),We.forEach(u),z=A(he),Ee&&Ee.l(he),Y=A(he),ae&&ae.l(he),he.forEach(u),O=A(ve),H=h(ve,"HR",{class:!0}),Z=A(ve),N=h(ve,"DIV",{});var be=_(N);C=h(be,"DIV",{class:!0});var ft=_(C);J=U(ft,G),ft.forEach(u),ee=A(be),K=h(be,"DIV",{});var lt=_(K);$=h(lt,"DIV",{class:!0});var $e=_($);q=h($e,"DIV",{class:!0});var ie=_(q);ne=U(ie,F),ie.forEach(u),oe=A($e),_e=h($e,"BUTTON",{class:!0,type:!0});var Q=_(_e);Ie.l(Q),Q.forEach(u),$e.forEach(u),lt.forEach(u),ce=A(be),Ae=h(be,"DIV",{class:!0});var j=_(Ae);Oe=U(j,Se),j.forEach(u),we=A(be),Be=h(be,"DIV",{});var se=_(Be);me=h(se,"DIV",{class:!0});var Re=_(me);Pe=h(Re,"DIV",{class:!0});var Ye=_(Pe);ke=U(Ye,ue),Ye.forEach(u),qe=A(Re),Ue=h(Re,"DIV",{class:!0});var Me=_(Ue);Ne=h(Me,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Me.forEach(u),Re.forEach(u),se.forEach(u),be.forEach(u),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(c,"class","py-0.5 flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),B.disabled=!0,B.selected=!0,B.__value="",X(B,B.__value),n(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(S,"placeholder",x=s[3].t("Select a engine")),S.required=!0,s[1].search.engine===void 0&&Yt(()=>s[8].call(S)),n(V,"class","flex items-center relative"),n(k,"class","py-0.5 flex w-full justify-between"),n(H,"class","dark:border-gray-850 my-2"),n(C,"class","mb-1 text-sm font-medium"),n(q,"class","self-center text-xs font-medium"),n(_e,"class","p-1 px-3 text-xs flex rounded transition"),n(_e,"type","button"),n($,"class","py-0.5 flex w-full justify-between"),n(Ae,"class","mt-2 mb-1 text-sm font-medium"),n(Pe,"class","w-20 text-xs font-medium self-center"),n(Ne,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Ne,"type","text"),n(Ne,"placeholder",et=s[3].t("Enter language codes")),n(Ne,"autocomplete","off"),n(Ue,"class","flex-1 self-center"),n(me,"class","py-0.5 flex w-full justify-between")},m(ve,he){P(ve,e,he),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,b),r(c,p),Xe(m,c,null),r(e,y),r(e,k),r(k,w),r(w,I),r(k,T),r(k,V),r(V,S),r(S,B),r(B,W);for(let Ve=0;Ve<fe.length;Ve+=1)fe[Ve]&&fe[Ve].m(S,null);mt(S,s[1].search.engine,!0),r(e,z),Ee&&Ee.m(e,null),r(e,Y),ae&&ae.m(e,null),P(ve,O,he),P(ve,H,he),P(ve,Z,he),P(ve,N,he),r(N,C),r(C,J),r(N,ee),r(N,K),r(K,$),r($,q),r(q,ne),r($,oe),r($,_e),Ie.m(_e,null),r(N,ce),r(N,Ae),r(Ae,Oe),r(N,we),r(N,Be),r(Be,me),r(me,Pe),r(Pe,ke),r(me,qe),r(me,Ue),r(Ue,Ne),X(Ne,s[2]),He=!0,Ke||(at=[le(S,"change",s[8]),le(_e,"click",s[21]),le(Ne,"input",s[22])],Ke=!0)},p(ve,he){(!He||he&8)&&l!==(l=ve[3].t("Web Search")+"")&&R(a,l),(!He||he&8)&&v!==(v=ve[3].t("Enable Web Search")+"")&&R(b,v);const Ve={};if(!g&&he&2&&(g=!0,Ve.state=ve[1].search.enabled,Ut(()=>g=!1)),m.$set(Ve),(!He||he&8)&&E!==(E=ve[3].t("Web Search Engine")+"")&&R(I,E),(!He||he&8)&&M!==(M=ve[3].t("Select a engine")+"")&&R(W,M),he&32){pe=ot(ve[5]);let Fe;for(Fe=0;Fe<pe.length;Fe+=1){const tt=vi(ve,pe,Fe);fe[Fe]?fe[Fe].p(tt,he):(fe[Fe]=gi(tt),fe[Fe].c(),fe[Fe].m(S,null))}for(;Fe<fe.length;Fe+=1)fe[Fe].d(1);fe.length=pe.length}(!He||he&8&&x!==(x=ve[3].t("Select a engine")))&&n(S,"placeholder",x),he&34&&mt(S,ve[1].search.engine),ve[1].search.engine!==""?Ee?(Ee.p(ve,he),he&2&&te(Ee,1)):(Ee=mi(ve),Ee.c(),te(Ee,1),Ee.m(e,Y)):Ee&&(It(),re(Ee,1,1,()=>{Ee=null}),Tt()),ve[1].search.enabled?ae?ae.p(ve,he):(ae=bi(ve),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null),(!He||he&8)&&G!==(G=ve[3].t("Web Loader Settings")+"")&&R(J,G),(!He||he&8)&&F!==(F=ve[3].t("Bypass SSL verification for Websites")+"")&&R(ne,F),Ge===(Ge=ye(ve))&&Ie?Ie.p(ve,he):(Ie.d(1),Ie=Ge(ve),Ie&&(Ie.c(),Ie.m(_e,null))),(!He||he&8)&&Se!==(Se=ve[3].t("Youtube Loader Settings")+"")&&R(Oe,Se),(!He||he&8)&&ue!==(ue=ve[3].t("Language")+"")&&R(ke,ue),(!He||he&8&&et!==(et=ve[3].t("Enter language codes")))&&n(Ne,"placeholder",et),he&4&&Ne.value!==ve[2]&&X(Ne,ve[2])},i(ve){He||(te(m.$$.fragment,ve),te(Ee),He=!0)},o(ve){re(m.$$.fragment,ve),re(Ee),He=!1},d(ve){ve&&(u(e),u(O),u(H),u(Z),u(N)),xe(m),$t(fe,ve),Ee&&Ee.d(),ae&&ae.d(),Ie.d(),Ke=!1,Gt(at)}}}function gi(s){let e,t=s[25]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[25],X(e,e.__value)},m(a,o){P(a,e,o),r(e,l)},p:pt,d(a){a&&u(e)}}}function mi(s){let e,t,l,a;const o=[Wf,Gf,Kf,Zf,jf,$f,Hf,Bf],i=[];function c(f,v){return f[1].search.engine==="searxng"?0:f[1].search.engine==="google_pse"?1:f[1].search.engine==="brave"?2:f[1].search.engine==="serpstack"?3:f[1].search.engine==="serper"?4:f[1].search.engine==="serply"?5:f[1].search.engine==="searchapi"?6:f[1].search.engine==="tavily"?7:-1}return~(t=c(s))&&(l=i[t]=o[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);l&&l.l(v),v.forEach(u),this.h()},h(){n(e,"class","mt-1.5")},m(f,v){P(f,e,v),~t&&i[t].m(e,null),a=!0},p(f,v){let b=t;t=c(f),t===b?~t&&i[t].p(f,v):(l&&(It(),re(i[b],1,1,()=>{i[b]=null}),Tt()),~t?(l=i[t],l?l.p(f,v):(l=i[t]=o[t](f),l.c()),te(l,1),l.m(e,null)):l=null)},i(f){a||(te(l),a=!0)},o(f){re(l),a=!1},d(f){f&&u(e),~t&&i[t].d()}}}function Bf(s){let e,t,l=s[3].t("Tavily API Key")+"",a,o,i,c,f;function v(p){s[18](p)}let b={placeholder:s[3].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),i=new pl({props:b}),Nt.push(()=>Ct(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),Qe(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){P(p,e,m),r(e,t),r(t,a),r(e,o),Xe(i,e,null),f=!0},p(p,m){(!f||m&8)&&l!==(l=p[3].t("Tavily API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Tavily API Key")),!c&&m&2&&(c=!0,g.value=p[1].search.tavily_api_key,Ut(()=>c=!1)),i.$set(g)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),xe(i)}}}function Hf(s){let e,t,l=s[3].t("SearchApi API Key")+"",a,o,i,c,f,v,b,p=s[3].t("SearchApi Engine")+"",m,g,y,k,w,E,I,T,V;function S(M){s[16](M)}let B={placeholder:s[3].t("Enter SearchApi API Key")};return s[1].search.searchapi_api_key!==void 0&&(B.value=s[1].search.searchapi_api_key),i=new pl({props:B}),Nt.push(()=>Ct(i,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),f=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var W=_(e);t=h(W,"DIV",{class:!0});var x=_(t);a=U(x,l),x.forEach(u),o=A(W),Qe(i.$$.fragment,W),W.forEach(u),f=A(M),v=h(M,"DIV",{class:!0});var z=_(v);b=h(z,"DIV",{class:!0});var Y=_(b);m=U(Y,p),Y.forEach(u),g=A(z),y=h(z,"DIV",{class:!0});var O=_(y);k=h(O,"DIV",{class:!0});var H=_(k);w=h(H,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),H.forEach(u),O.forEach(u),z.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(b,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=s[3].t("Enter SearchApi Engine")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(y,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,W){P(M,e,W),r(e,t),r(t,a),r(e,o),Xe(i,e,null),P(M,f,W),P(M,v,W),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),X(w,s[1].search.searchapi_engine),I=!0,T||(V=le(w,"input",s[17]),T=!0)},p(M,W){(!I||W&8)&&l!==(l=M[3].t("SearchApi API Key")+"")&&R(a,l);const x={};W&8&&(x.placeholder=M[3].t("Enter SearchApi API Key")),!c&&W&2&&(c=!0,x.value=M[1].search.searchapi_api_key,Ut(()=>c=!1)),i.$set(x),(!I||W&8)&&p!==(p=M[3].t("SearchApi Engine")+"")&&R(m,p),(!I||W&8&&E!==(E=M[3].t("Enter SearchApi Engine")))&&n(w,"placeholder",E),W&34&&w.value!==M[1].search.searchapi_engine&&X(w,M[1].search.searchapi_engine)},i(M){I||(te(i.$$.fragment,M),I=!0)},o(M){re(i.$$.fragment,M),I=!1},d(M){M&&(u(e),u(f),u(v)),xe(i),T=!1,V()}}}function $f(s){let e,t,l=s[3].t("Serply API Key")+"",a,o,i,c,f;function v(p){s[15](p)}let b={placeholder:s[3].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),i=new pl({props:b}),Nt.push(()=>Ct(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),Qe(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){P(p,e,m),r(e,t),r(t,a),r(e,o),Xe(i,e,null),f=!0},p(p,m){(!f||m&8)&&l!==(l=p[3].t("Serply API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serply API Key")),!c&&m&2&&(c=!0,g.value=p[1].search.serply_api_key,Ut(()=>c=!1)),i.$set(g)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),xe(i)}}}function jf(s){let e,t,l=s[3].t("Serper API Key")+"",a,o,i,c,f;function v(p){s[14](p)}let b={placeholder:s[3].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),i=new pl({props:b}),Nt.push(()=>Ct(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),Qe(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){P(p,e,m),r(e,t),r(t,a),r(e,o),Xe(i,e,null),f=!0},p(p,m){(!f||m&8)&&l!==(l=p[3].t("Serper API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serper API Key")),!c&&m&2&&(c=!0,g.value=p[1].search.serper_api_key,Ut(()=>c=!1)),i.$set(g)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),xe(i)}}}function Zf(s){let e,t,l=s[3].t("Serpstack API Key")+"",a,o,i,c,f;function v(p){s[13](p)}let b={placeholder:s[3].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),i=new pl({props:b}),Nt.push(()=>Ct(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),Qe(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){P(p,e,m),r(e,t),r(t,a),r(e,o),Xe(i,e,null),f=!0},p(p,m){(!f||m&8)&&l!==(l=p[3].t("Serpstack API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serpstack API Key")),!c&&m&2&&(c=!0,g.value=p[1].search.serpstack_api_key,Ut(()=>c=!1)),i.$set(g)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),xe(i)}}}function Kf(s){let e,t,l=s[3].t("Brave Search API Key")+"",a,o,i,c,f;function v(p){s[12](p)}let b={placeholder:s[3].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),i=new pl({props:b}),Nt.push(()=>Ct(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),Qe(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){P(p,e,m),r(e,t),r(t,a),r(e,o),Xe(i,e,null),f=!0},p(p,m){(!f||m&8)&&l!==(l=p[3].t("Brave Search API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Brave Search API Key")),!c&&m&2&&(c=!0,g.value=p[1].search.brave_search_api_key,Ut(()=>c=!1)),i.$set(g)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),xe(i)}}}function Gf(s){let e,t,l=s[3].t("Google PSE API Key")+"",a,o,i,c,f,v,b,p=s[3].t("Google PSE Engine Id")+"",m,g,y,k,w,E,I,T,V;function S(M){s[10](M)}let B={placeholder:s[3].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(B.value=s[1].search.google_pse_api_key),i=new pl({props:B}),Nt.push(()=>Ct(i,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),Je(i.$$.fragment),f=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var W=_(e);t=h(W,"DIV",{class:!0});var x=_(t);a=U(x,l),x.forEach(u),o=A(W),Qe(i.$$.fragment,W),W.forEach(u),f=A(M),v=h(M,"DIV",{class:!0});var z=_(v);b=h(z,"DIV",{class:!0});var Y=_(b);m=U(Y,p),Y.forEach(u),g=A(z),y=h(z,"DIV",{class:!0});var O=_(y);k=h(O,"DIV",{class:!0});var H=_(k);w=h(H,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),H.forEach(u),O.forEach(u),z.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(b,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=s[3].t("Enter Google PSE Engine Id")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(y,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,W){P(M,e,W),r(e,t),r(t,a),r(e,o),Xe(i,e,null),P(M,f,W),P(M,v,W),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),X(w,s[1].search.google_pse_engine_id),I=!0,T||(V=le(w,"input",s[11]),T=!0)},p(M,W){(!I||W&8)&&l!==(l=M[3].t("Google PSE API Key")+"")&&R(a,l);const x={};W&8&&(x.placeholder=M[3].t("Enter Google PSE API Key")),!c&&W&2&&(c=!0,x.value=M[1].search.google_pse_api_key,Ut(()=>c=!1)),i.$set(x),(!I||W&8)&&p!==(p=M[3].t("Google PSE Engine Id")+"")&&R(m,p),(!I||W&8&&E!==(E=M[3].t("Enter Google PSE Engine Id")))&&n(w,"placeholder",E),W&34&&w.value!==M[1].search.google_pse_engine_id&&X(w,M[1].search.google_pse_engine_id)},i(M){I||(te(i.$$.fragment,M),I=!0)},o(M){re(i.$$.fragment,M),I=!1},d(M){M&&(u(e),u(f),u(v)),xe(i),T=!1,V()}}}function Wf(s){let e,t,l=s[3].t("Searxng Query URL")+"",a,o,i,c,f,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),c=d("div"),f=d("input"),this.h()},l(m){e=h(m,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0});var w=_(c);f=h(w,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"type","text"),n(f,"placeholder",v=s[3].t("Enter Searxng Query URL")),n(f,"autocomplete","off"),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(m,g){P(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),X(f,s[1].search.searxng_query_url),b||(p=le(f,"input",s[9]),b=!0)},p(m,g){g&8&&l!==(l=m[3].t("Searxng Query URL")+"")&&R(a,l),g&8&&v!==(v=m[3].t("Enter Searxng Query URL"))&&n(f,"placeholder",v),g&34&&f.value!==m[1].search.searxng_query_url&&X(f,m[1].search.searxng_query_url)},i:pt,o:pt,d(m){m&&u(e),b=!1,p()}}}function bi(s){let e,t,l,a=s[3].t("Search Result Count")+"",o,i,c,f,v,b,p,m=s[3].t("Concurrent Requests")+"",g,y,k,w,E,I;return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),c=d("input"),v=D(),b=d("div"),p=d("div"),g=L(m),y=D(),k=d("input"),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);l=h(S,"DIV",{class:!0});var B=_(l);o=U(B,a),B.forEach(u),i=A(S),c=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),v=A(V),b=h(V,"DIV",{class:!0});var M=_(b);p=h(M,"DIV",{class:!0});var W=_(p);g=U(W,m),W.forEach(u),y=A(M),k=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),V.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium mb-1"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=s[3].t("Search Result Count")),c.required=!0,n(t,"class","w-full"),n(p,"class","self-center text-xs font-medium mb-1"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[3].t("Concurrent Requests")),k.required=!0,n(b,"class","w-full"),n(e,"class","mt-2 flex gap-2 mb-1")},m(T,V){P(T,e,V),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),X(c,s[1].search.result_count),r(e,v),r(e,b),r(b,p),r(p,g),r(b,y),r(b,k),X(k,s[1].search.concurrent_requests),E||(I=[le(c,"input",s[19]),le(k,"input",s[20])],E=!0)},p(T,V){V&8&&a!==(a=T[3].t("Search Result Count")+"")&&R(o,a),V&8&&f!==(f=T[3].t("Search Result Count"))&&n(c,"placeholder",f),V&34&&c.value!==T[1].search.result_count&&X(c,T[1].search.result_count),V&8&&m!==(m=T[3].t("Concurrent Requests")+"")&&R(g,m),V&8&&w!==(w=T[3].t("Concurrent Requests"))&&n(k,"placeholder",w),V&34&&k.value!==T[1].search.concurrent_requests&&X(k,T[1].search.concurrent_requests)},d(T){T&&u(e),E=!1,Gt(I)}}}function Ff(s){let e,t=s[3].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("Off")+"")&&R(l,t)},d(a){a&&u(e)}}}function zf(s){let e,t=s[3].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){P(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("On")+"")&&R(l,t)},d(a){a&&u(e)}}}function qf(s){let e,t,l,a,o,i=s[3].t("Save")+"",c,f,v,b,p=s[1]&&pi(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),o=d("button"),c=L(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);p&&p.l(y),y.forEach(u),l=A(g),a=h(g,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=U(w,i),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){P(m,e,g),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),f=!0,v||(b=le(e,"submit",Ml(s[23])),v=!0)},p(m,[g]){m[1]?p?(p.p(m,g),g&2&&te(p,1)):(p=pi(m),p.c(),te(p,1),p.m(t,null)):p&&(It(),re(p,1,1,()=>{p=null}),Tt()),(!f||g&8)&&i!==(i=m[3].t("Save")+"")&&R(c,i)},i(m){f||(te(p),f=!0)},o(m){re(p),f=!1},d(m){m&&u(e),p&&p.d(),v=!1,b()}}}function Yf(s,e,t){let l;const a=kl("i18n");Ft(s,a,O=>t(3,l=O));let{saveHandler:o}=e,i=null,c=["searxng","google_pse","brave","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina"],f="en",v=null;const b=async()=>{await yi(localStorage.token,{web:i,youtube:{language:f.split(",").map(O=>O.trim()),translation:v}})};wl(async()=>{const O=await wi(localStorage.token);O&&(t(1,i=O.web),t(2,f=O.youtube.language.join(",")),v=O.youtube.translation)});function p(O){s.$$.not_equal(i.search.enabled,O)&&(i.search.enabled=O,t(1,i))}function m(){i.search.engine=qt(this),t(1,i),t(5,c)}function g(){i.search.searxng_query_url=this.value,t(1,i),t(5,c)}function y(O){s.$$.not_equal(i.search.google_pse_api_key,O)&&(i.search.google_pse_api_key=O,t(1,i))}function k(){i.search.google_pse_engine_id=this.value,t(1,i),t(5,c)}function w(O){s.$$.not_equal(i.search.brave_search_api_key,O)&&(i.search.brave_search_api_key=O,t(1,i))}function E(O){s.$$.not_equal(i.search.serpstack_api_key,O)&&(i.search.serpstack_api_key=O,t(1,i))}function I(O){s.$$.not_equal(i.search.serper_api_key,O)&&(i.search.serper_api_key=O,t(1,i))}function T(O){s.$$.not_equal(i.search.serply_api_key,O)&&(i.search.serply_api_key=O,t(1,i))}function V(O){s.$$.not_equal(i.search.searchapi_api_key,O)&&(i.search.searchapi_api_key=O,t(1,i))}function S(){i.search.searchapi_engine=this.value,t(1,i),t(5,c)}function B(O){s.$$.not_equal(i.search.tavily_api_key,O)&&(i.search.tavily_api_key=O,t(1,i))}function M(){i.search.result_count=this.value,t(1,i),t(5,c)}function W(){i.search.concurrent_requests=this.value,t(1,i),t(5,c)}const x=()=>{t(1,i.ssl_verification=!i.ssl_verification,i),b()};function z(){f=this.value,t(2,f)}const Y=async()=>{await b(),o()};return s.$$set=O=>{"saveHandler"in O&&t(0,o=O.saveHandler)},[o,i,f,l,a,c,b,p,m,g,y,k,w,E,I,T,V,S,B,M,W,x,z,Y]}class Jf extends _l{constructor(e){super(),vl(this,e,Yf,qf,hl,{saveHandler:0})}}function Qf(s){let e,t;return e=new vu({props:{saveHandler:s[23]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[23]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Xf(s){let e,t;return e=new So({props:{saveHandler:s[22]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[22]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function xf(s){let e,t;return e=new Lu({}),e.$on("save",s[21]),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function ec(s){let e,t;return e=new yu({props:{saveHandler:s[20]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[20]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function tc(s){let e,t;return e=new ju({}),e.$on("save",s[19]),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function lc(s){let e,t;return e=new Jf({props:{saveHandler:s[18]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[18]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function sc(s){let e,t;return e=new Rf({}),e.$on("save",s[17]),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function ac(s){let e,t;return e=new df({}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function rc(s){let e,t;return e=new If({}),e.$on("save",s[16]),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function nc(s){let e,t;return e=new Ko({props:{saveHandler:s[15]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[15]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function ic(s){let e,t;return e=new Po({props:{saveHandler:s[14]}}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[14]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function oc(s){let e,t,l,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',i,c,f=s[1].t("General")+"",v,b,p,m,g,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',k,w,E=s[1].t("Users")+"",I,T,V,S,B,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',W,x,z=s[1].t("Connections")+"",Y,O,H,Z,N,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',G,J,ee=s[1].t("Models")+"",K,$,q,F,ne,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',_e,ce,Ae=s[1].t("Documents")+"",Se,Oe,we,Be,me,Pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',ue,ke,qe=s[1].t("Web Search")+"",Ue,Ne,et,He,Ke,at='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',de,Le,pe=s[1].t("Interface")+"",fe,Ee,ae,ye,Ge,Ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ve,he,Ve=s[1].t("Audio")+"",Fe,tt,nt,We,rt,ze='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',ht,st,be=s[1].t("Images")+"",ft,lt,$e,ie,Q,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',se,Re,Ye=s[1].t("Pipelines")+"",Me,vt,At,Mt,Lt,Rt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Ot,Ce,Te=s[1].t("Database")+"",Dt,Vt,Bt,gt,_t,bt,it,Zt,Kt;const Wt=[ic,nc,rc,ac,sc,lc,tc,ec,xf,Xf,Qf],Pt=[];function wt(Ze,ut){return Ze[0]==="general"?0:Ze[0]==="users"?1:Ze[0]==="connections"?2:Ze[0]==="models"?3:Ze[0]==="documents"?4:Ze[0]==="web"?5:Ze[0]==="interface"?6:Ze[0]==="audio"?7:Ze[0]==="images"?8:Ze[0]==="db"?9:Ze[0]==="pipelines"?10:-1}return~(_t=wt(s))&&(bt=Pt[_t]=Wt[_t](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=o,i=D(),c=d("div"),v=L(f),p=D(),m=d("button"),g=d("div"),g.innerHTML=y,k=D(),w=d("div"),I=L(E),V=D(),S=d("button"),B=d("div"),B.innerHTML=M,W=D(),x=d("div"),Y=L(z),H=D(),Z=d("button"),N=d("div"),N.innerHTML=C,G=D(),J=d("div"),K=L(ee),q=D(),F=d("button"),ne=d("div"),ne.innerHTML=oe,_e=D(),ce=d("div"),Se=L(Ae),we=D(),Be=d("button"),me=d("div"),me.innerHTML=Pe,ue=D(),ke=d("div"),Ue=L(qe),et=D(),He=d("button"),Ke=d("div"),Ke.innerHTML=at,de=D(),Le=d("div"),fe=L(pe),ae=D(),ye=d("button"),Ge=d("div"),Ge.innerHTML=Ie,ve=D(),he=d("div"),Fe=L(Ve),nt=D(),We=d("button"),rt=d("div"),rt.innerHTML=ze,ht=D(),st=d("div"),ft=L(be),$e=D(),ie=d("button"),Q=d("div"),Q.innerHTML=j,se=D(),Re=d("div"),Me=L(Ye),At=D(),Mt=d("button"),Lt=d("div"),Lt.innerHTML=Rt,Ot=D(),Ce=d("div"),Dt=L(Te),Bt=D(),gt=d("div"),bt&&bt.c(),this.h()},l(Ze){e=h(Ze,"DIV",{class:!0});var ut=_(e);t=h(ut,"DIV",{id:!0,class:!0});var dt=_(t);l=h(dt,"BUTTON",{class:!0});var Jt=_(l);a=h(Jt,"DIV",{class:!0,"data-svelte-h":!0}),ct(a)!=="svelte-1e9u9pw"&&(a.innerHTML=o),i=A(Jt),c=h(Jt,"DIV",{class:!0});var Ht=_(c);v=U(Ht,f),Ht.forEach(u),Jt.forEach(u),p=A(dt),m=h(dt,"BUTTON",{class:!0});var Qt=_(m);g=h(Qt,"DIV",{class:!0,"data-svelte-h":!0}),ct(g)!=="svelte-28mfsy"&&(g.innerHTML=y),k=A(Qt),w=h(Qt,"DIV",{class:!0});var yl=_(w);I=U(yl,E),yl.forEach(u),Qt.forEach(u),V=A(dt),S=h(dt,"BUTTON",{class:!0});var gl=_(S);B=h(gl,"DIV",{class:!0,"data-svelte-h":!0}),ct(B)!=="svelte-1xixjje"&&(B.innerHTML=M),W=A(gl),x=h(gl,"DIV",{class:!0});var Il=_(x);Y=U(Il,z),Il.forEach(u),gl.forEach(u),H=A(dt),Z=h(dt,"BUTTON",{class:!0});var Xt=_(Z);N=h(Xt,"DIV",{class:!0,"data-svelte-h":!0}),ct(N)!=="svelte-17kkxfv"&&(N.innerHTML=C),G=A(Xt),J=h(Xt,"DIV",{class:!0});var xt=_(J);K=U(xt,ee),xt.forEach(u),Xt.forEach(u),q=A(dt),F=h(dt,"BUTTON",{class:!0});var ul=_(F);ne=h(ul,"DIV",{class:!0,"data-svelte-h":!0}),ct(ne)!=="svelte-ofbvgh"&&(ne.innerHTML=oe),_e=A(ul),ce=h(ul,"DIV",{class:!0});var Tl=_(ce);Se=U(Tl,Ae),Tl.forEach(u),ul.forEach(u),we=A(dt),Be=h(dt,"BUTTON",{class:!0});var ml=_(Be);me=h(ml,"DIV",{class:!0,"data-svelte-h":!0}),ct(me)!=="svelte-1t9ru36"&&(me.innerHTML=Pe),ue=A(ml),ke=h(ml,"DIV",{class:!0});var ts=_(ke);Ue=U(ts,qe),ts.forEach(u),ml.forEach(u),et=A(dt),He=h(dt,"BUTTON",{class:!0});var Dl=_(He);Ke=h(Dl,"DIV",{class:!0,"data-svelte-h":!0}),ct(Ke)!=="svelte-1i52rm6"&&(Ke.innerHTML=at),de=A(Dl),Le=h(Dl,"DIV",{class:!0});var el=_(Le);fe=U(el,pe),el.forEach(u),Dl.forEach(u),ae=A(dt),ye=h(dt,"BUTTON",{class:!0});var Cl=_(ye);Ge=h(Cl,"DIV",{class:!0,"data-svelte-h":!0}),ct(Ge)!=="svelte-sf0iba"&&(Ge.innerHTML=Ie),ve=A(Cl),he=h(Cl,"DIV",{class:!0});var ls=_(he);Fe=U(ls,Ve),ls.forEach(u),Cl.forEach(u),nt=A(dt),We=h(dt,"BUTTON",{class:!0});var Hl=_(We);rt=h(Hl,"DIV",{class:!0,"data-svelte-h":!0}),ct(rt)!=="svelte-1gc3odz"&&(rt.innerHTML=ze),ht=A(Hl),st=h(Hl,"DIV",{class:!0});var ql=_(st);ft=U(ql,be),ql.forEach(u),Hl.forEach(u),$e=A(dt),ie=h(dt,"BUTTON",{class:!0});var bl=_(ie);Q=h(bl,"DIV",{class:!0,"data-svelte-h":!0}),ct(Q)!=="svelte-1q46caf"&&(Q.innerHTML=j),se=A(bl),Re=h(bl,"DIV",{class:!0});var Rl=_(Re);Me=U(Rl,Ye),Rl.forEach(u),bl.forEach(u),At=A(dt),Mt=h(dt,"BUTTON",{class:!0});var Ol=_(Mt);Lt=h(Ol,"DIV",{class:!0,"data-svelte-h":!0}),ct(Lt)!=="svelte-35c53k"&&(Lt.innerHTML=Rt),Ot=A(Ol),Ce=h(Ol,"DIV",{class:!0});var Yl=_(Ce);Dt=U(Yl,Te),Yl.forEach(u),Ol.forEach(u),dt.forEach(u),Bt=A(ut),gt=h(ut,"DIV",{class:!0});var ss=_(gt);bt&&bt.l(ss),ss.forEach(u),ut.forEach(u),this.h()},h(){n(a,"class","self-center mr-2"),n(c,"class","self-center"),n(l,"class",b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(g,"class","self-center mr-2"),n(w,"class","self-center"),n(m,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(B,"class","self-center mr-2"),n(x,"class","self-center"),n(S,"class",O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(N,"class","self-center mr-2"),n(J,"class","self-center"),n(Z,"class",$="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ne,"class","self-center mr-2"),n(ce,"class","self-center"),n(F,"class",Oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(me,"class","self-center mr-2"),n(ke,"class","self-center"),n(Be,"class",Ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Ke,"class","self-center mr-2"),n(Le,"class","self-center"),n(He,"class",Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Ge,"class","self-center mr-2"),n(he,"class","self-center"),n(ye,"class",tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(rt,"class","self-center mr-2"),n(st,"class","self-center"),n(We,"class",lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Q,"class","self-center mr-2"),n(Re,"class","self-center"),n(ie,"class",vt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Lt,"class","self-center mr-2"),n(Ce,"class","self-center"),n(Mt,"class",Vt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(t,"id","admin-settings-tabs-container"),n(t,"class","tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none"),n(gt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll"),n(e,"class","flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4")},m(Ze,ut){P(Ze,e,ut),r(e,t),r(t,l),r(l,a),r(l,i),r(l,c),r(c,v),r(t,p),r(t,m),r(m,g),r(m,k),r(m,w),r(w,I),r(t,V),r(t,S),r(S,B),r(S,W),r(S,x),r(x,Y),r(t,H),r(t,Z),r(Z,N),r(Z,G),r(Z,J),r(J,K),r(t,q),r(t,F),r(F,ne),r(F,_e),r(F,ce),r(ce,Se),r(t,we),r(t,Be),r(Be,me),r(Be,ue),r(Be,ke),r(ke,Ue),r(t,et),r(t,He),r(He,Ke),r(He,de),r(He,Le),r(Le,fe),r(t,ae),r(t,ye),r(ye,Ge),r(ye,ve),r(ye,he),r(he,Fe),r(t,nt),r(t,We),r(We,rt),r(We,ht),r(We,st),r(st,ft),r(t,$e),r(t,ie),r(ie,Q),r(ie,se),r(ie,Re),r(Re,Me),r(t,At),r(t,Mt),r(Mt,Lt),r(Mt,Ot),r(Mt,Ce),r(Ce,Dt),r(e,Bt),r(e,gt),~_t&&Pt[_t].m(gt,null),it=!0,Zt||(Kt=[le(l,"click",s[3]),le(m,"click",s[4]),le(S,"click",s[5]),le(Z,"click",s[6]),le(F,"click",s[7]),le(Be,"click",s[8]),le(He,"click",s[9]),le(ye,"click",s[10]),le(We,"click",s[11]),le(ie,"click",s[12]),le(Mt,"click",s[13])],Zt=!0)},p(Ze,[ut]){(!it||ut&2)&&f!==(f=Ze[1].t("General")+"")&&R(v,f),(!it||ut&1&&b!==(b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Ze[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(l,"class",b),(!it||ut&2)&&E!==(E=Ze[1].t("Users")+"")&&R(I,E),(!it||ut&1&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(m,"class",T),(!it||ut&2)&&z!==(z=Ze[1].t("Connections")+"")&&R(Y,z),(!it||ut&1&&O!==(O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(S,"class",O),(!it||ut&2)&&ee!==(ee=Ze[1].t("Models")+"")&&R(K,ee),(!it||ut&1&&$!==($="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Z,"class",$),(!it||ut&2)&&Ae!==(Ae=Ze[1].t("Documents")+"")&&R(Se,Ae),(!it||ut&1&&Oe!==(Oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(F,"class",Oe),(!it||ut&2)&&qe!==(qe=Ze[1].t("Web Search")+"")&&R(Ue,qe),(!it||ut&1&&Ne!==(Ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Be,"class",Ne),(!it||ut&2)&&pe!==(pe=Ze[1].t("Interface")+"")&&R(fe,pe),(!it||ut&1&&Ee!==(Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(He,"class",Ee),(!it||ut&2)&&Ve!==(Ve=Ze[1].t("Audio")+"")&&R(Fe,Ve),(!it||ut&1&&tt!==(tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ye,"class",tt),(!it||ut&2)&&be!==(be=Ze[1].t("Images")+"")&&R(ft,be),(!it||ut&1&&lt!==(lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(We,"class",lt),(!it||ut&2)&&Ye!==(Ye=Ze[1].t("Pipelines")+"")&&R(Me,Ye),(!it||ut&1&&vt!==(vt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ie,"class",vt),(!it||ut&2)&&Te!==(Te=Ze[1].t("Database")+"")&&R(Dt,Te),(!it||ut&1&&Vt!==(Vt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ze[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Mt,"class",Vt);let dt=_t;_t=wt(Ze),_t===dt?~_t&&Pt[_t].p(Ze,ut):(bt&&(It(),re(Pt[dt],1,1,()=>{Pt[dt]=null}),Tt()),~_t?(bt=Pt[_t],bt?bt.p(Ze,ut):(bt=Pt[_t]=Wt[_t](Ze),bt.c()),te(bt,1),bt.m(gt,null)):bt=null)},i(Ze){it||(te(bt),it=!0)},o(Ze){re(bt),it=!1},d(Ze){Ze&&u(e),~_t&&Pt[_t].d(),Zt=!1,Gt(Kt)}}}function uc(s,e,t){let l;const a=kl("i18n");Ft(s,a,Y=>t(1,l=Y));let o="general";return wl(()=>{const Y=document.getElementById("admin-settings-tabs-container");Y&&Y.addEventListener("wheel",function(O){O.deltaY!==0&&(Y.scrollLeft+=O.deltaY)})}),[o,l,a,()=>{t(0,o="general")},()=>{t(0,o="users")},()=>{t(0,o="connections")},()=>{t(0,o="models")},()=>{t(0,o="documents")},()=>{t(0,o="web")},()=>{t(0,o="interface")},()=>{t(0,o="audio")},()=>{t(0,o="images")},()=>{t(0,o="pipelines")},()=>{t(0,o="db")},async()=>{De.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{De.success(l.t("Settings saved successfully!"))},()=>{De.success(l.t("Settings saved successfully!"))},async()=>{De.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},async()=>{De.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{De.success(l.t("Settings saved successfully!"))},()=>{De.success(l.t("Settings saved successfully!"))},()=>{De.success(l.t("Settings saved successfully!"))},()=>{De.success(l.t("Settings saved successfully!"))},()=>{De.success(l.t("Settings saved successfully!"))}]}class fc extends _l{constructor(e){super(),vl(this,e,uc,oc,hl,{})}}function cc(s){let e,t;return e=new fc({}),{c(){Je(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,a){Xe(e,l,a),t=!0},p:pt,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}class Lc extends _l{constructor(e){super(),vl(this,e,null,cc,hl,{})}}export{Lc as component};
//# sourceMappingURL=8.B2m1Caya.js.map
